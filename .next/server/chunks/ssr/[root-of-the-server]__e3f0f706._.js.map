{"version":3,"sources":["../../../../src/models/Project.ts","../../../../src/components/admin/ProjectForm.tsx/__nextjs-internal-proxy.mjs","../../../../src/app/admin/%28protected%29/projects/%5Bid%5D/page.tsx"],"sourcesContent":["import mongoose, { Schema, Document, Model } from 'mongoose';\r\n\r\nexport interface IProject extends Document {\r\n    title: string;\r\n    description: string;\r\n    image: string;\r\n    tags: string[];\r\n    link?: string;\r\n    github?: string;\r\n    featured: boolean;\r\n    order: number;\r\n}\r\n\r\nconst ProjectSchema: Schema = new Schema({\r\n    title: { type: String, required: true },\r\n    description: { type: String, required: true },\r\n    image: { type: String, required: true },\r\n    tags: { type: [String], default: [] },\r\n    link: { type: String, required: true },\r\n    github: { type: String, default: \"\" },\r\n    likes: { type: Number, default: 0 },\r\n    views: { type: Number, default: 0 },\r\n    featured: { type: Boolean, default: false },\r\n    order: { type: Number, default: 0 },\r\n    content: { type: String }, // Optional case study content\r\n}, { timestamps: true });\r\n\r\n// Prevent overwrite on HMR\r\nconst Project: Model<IProject> = mongoose.models.Project || mongoose.model<IProject>('Project', ProjectSchema);\r\n\r\nexport default Project;\r\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/admin/ProjectForm.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/admin/ProjectForm.tsx\",\n    \"default\",\n);\n","import ProjectForm from \"@/components/admin/ProjectForm\";\r\nimport Project from \"@/models/Project\";\r\nimport connectToDatabase from \"@/lib/db\";\r\nimport { notFound } from \"next/navigation\";\r\n\r\n// Correctly await params in Next.js 15+ (if using that version, wait.. user is on 16 or 15)\r\n// Check package.json: \"next\": \"^16.1.6\". Yes, params is a promise.\r\n\r\nexport default async function EditProjectPage({ params }: { params: Promise<{ id: string }> }) {\r\n    const { id } = await params;\r\n    await connectToDatabase();\r\n\r\n    // Use lean() and JSON serialization to pass to client component props\r\n    const project = await Project.findById(id).lean();\r\n\r\n    if (!project) {\r\n        notFound();\r\n    }\r\n\r\n    // Serialize _id and dates\r\n    const serializedProject = JSON.parse(JSON.stringify(project));\r\n\r\n    return (\r\n        <div>\r\n            <ProjectForm initialData={serializedProject} isEdit={true} />\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"qZAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OAaA,IAAM,EAAwB,IAAI,EAAA,MAAM,CAAC,CACrC,MAAO,CAAE,KAAM,OAAQ,UAAU,CAAK,EACtC,YAAa,CAAE,KAAM,OAAQ,UAAU,CAAK,EAC5C,MAAO,CAAE,KAAM,OAAQ,SAAU,EAAK,EACtC,KAAM,CAAE,KAAM,CAAC,OAAO,CAAE,QAAS,EAAE,AAAC,EACpC,KAAM,CAAE,KAAM,OAAQ,UAAU,CAAK,EACrC,OAAQ,CAAE,KAAM,OAAQ,QAAS,EAAG,EACpC,MAAO,CAAE,KAAM,OAAQ,QAAS,CAAE,EAClC,MAAO,CAAE,KAAM,OAAQ,QAAS,CAAE,EAClC,SAAU,CAAE,KAAM,QAAS,SAAS,CAAM,EAC1C,MAAO,CAAE,KAAM,OAAQ,QAAS,CAAE,EAClC,QAAS,CAAE,KAAM,MAAO,CAC5B,EAAG,CAAE,YAAY,CAAK,GAGhB,EAA2B,EAAA,OAAQ,CAAC,MAAM,CAAC,OAAO,EAAI,EAAA,OAAQ,CAAC,KAAK,CAAW,UAAW,oBAEjF,yDC5BA,CAAA,EADf,AACe,EADf,CAAA,CAAA,OACe,uBAAA,AAAuB,EAClC,WAAa,MAAM,AAAI,MAAM,sSAAwS,EACrU,qEACA,gEAHW,CAAA,EADf,AACe,EADf,CAAA,CAAA,OACe,uBAAA,AAAuB,EAClC,WAAa,MAAM,AAAI,MAAM,kRAAoR,EACjT,iDACA,8GCLJ,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OAKe,eAAe,EAAgB,QAAE,CAAM,CAAuC,EACzF,GAAM,IAAE,CAAE,CAAE,CAAG,MAAM,CACrB,OAAM,CAAA,EAAA,EAAA,OAAA,AAAiB,IAGvB,IAAM,EAAU,MAAM,EAAA,OAAO,CAAC,QAAQ,CAAC,GAAI,IAAI,EAE3C,CAAC,GACD,CAAA,EAAA,EAAA,CADU,OACV,AAAQ,IAIZ,IAAM,EAAoB,KAAK,KAAK,CAAC,KAAK,SAAS,CAAC,IAEpD,MACI,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,UACG,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAW,CAAA,CAAC,YAAa,EAAmB,QAAQ,KAGjE","ignoreList":[1]}