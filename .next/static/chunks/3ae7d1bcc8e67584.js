(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,67585,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"BailoutToCSR",{enumerable:!0,get:function(){return a}});let n=e.r(32061);function a({reason:e,children:t}){if("u"<typeof window)throw Object.defineProperty(new n.BailoutToCSRError(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return t}},9885,(e,t,r)=>{"use strict";function n(e){return e.split("/").map(e=>encodeURIComponent(e)).join("/")}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"encodeURIPath",{enumerable:!0,get:function(){return n}})},52157,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"PreloadChunks",{enumerable:!0,get:function(){return l}});let n=e.r(43476),a=e.r(74080),i=e.r(63599),o=e.r(9885),s=e.r(43369);function l({moduleIds:e}){if("u">typeof window)return null;let t=i.workAsyncStorage.getStore();if(void 0===t)return null;let r=[];if(t.reactLoadableManifest&&e){let n=t.reactLoadableManifest;for(let t of e){if(!n[t])continue;let e=n[t].files;r.push(...e)}}if(0===r.length)return null;let l=(0,s.getDeploymentIdQueryOrEmptyString)();return(0,n.jsx)(n.Fragment,{children:r.map(e=>{let r=`${t.assetPrefix}/_next/${(0,o.encodeURIPath)(e)}${l}`;return e.endsWith(".css")?(0,n.jsx)("link",{precedence:"dynamic",href:r,rel:"stylesheet",as:"style",nonce:t.nonce},e):((0,a.preload)(r,{as:"script",fetchPriority:"low",nonce:t.nonce}),null)})})}},69093,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return c}});let n=e.r(43476),a=e.r(71645),i=e.r(67585),o=e.r(52157);function s(e){return{default:e&&"default"in e?e.default:e}}let l={loader:()=>Promise.resolve(s(()=>null)),loading:null,ssr:!0},c=function(e){let t={...l,...e},r=(0,a.lazy)(()=>t.loader().then(s)),c=t.loading;function d(e){let s=c?(0,n.jsx)(c,{isLoading:!0,pastDelay:!0,error:null}):null,l=!t.ssr||!!t.loading,d=l?a.Suspense:a.Fragment,u=t.ssr?(0,n.jsxs)(n.Fragment,{children:["u"<typeof window?(0,n.jsx)(o.PreloadChunks,{moduleIds:t.modules}):null,(0,n.jsx)(r,{...e})]}):(0,n.jsx)(i.BailoutToCSR,{reason:"next/dynamic",children:(0,n.jsx)(r,{...e})});return(0,n.jsx)(d,{...l?{fallback:s}:{},children:u})}return d.displayName="LoadableComponent",d}},70703,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return a}});let n=e.r(55682)._(e.r(69093));function a(e,t){let r={};"function"==typeof e&&(r.loader=e);let a={...r,...t};return(0,n.default)({...a,modules:a.loadableGenerated?.modules})}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},909,e=>{"use strict";let t,r,n,a,i;var o,s,l,c,d,u,h,f,p,m=e.i(43476),v=e.i(71645),g=e.i(88653),x=e.i(45678),y=e.i(46932),b=e.i(75254);let w=(0,b.default)("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),S=(0,b.default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);function k({children:e,strength:t=.3}){let r=(0,v.useRef)(null),[n,a]=(0,v.useState)({x:0,y:0});return(0,m.jsx)(y.motion.div,{ref:r,onMouseMove:e=>{if(!r.current)return;let{clientX:n,clientY:i}=e,{left:o,top:s,width:l,height:c}=r.current.getBoundingClientRect();a({x:(n-(o+l/2))*t,y:(i-(s+c/2))*t})},onMouseLeave:()=>{a({x:0,y:0})},animate:{x:n.x,y:n.y},transition:{type:"spring",stiffness:150,damping:15,mass:.1},children:e})}let j=(0,e.i(70703).default)(()=>e.A(42143),{loadableGenerated:{modules:[16610]},ssr:!1,loading:()=>(0,m.jsx)("div",{className:"absolute inset-0 opacity-0"})}),E=({settings:e})=>{let t=e?.title||"Designing the Digital Future",r=e?.subtitle||"I am a Full Stack Developer passionate about crafting intuitive, scalable, and visually stunning web applications.",n=e?.ctaText||"View Projects";return(0,m.jsxs)("section",{id:"home",className:"min-h-[100vh] flex items-center justify-center relative pt-16",children:[(0,m.jsx)(j,{}),(0,m.jsx)("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-accent/5 rounded-full blur-[120px] -z-10 pointer-events-none"}),(0,m.jsxs)("div",{className:"max-w-7xl mx-auto px-6 relative z-10 w-full text-center",children:[(0,m.jsxs)(y.motion.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},children:[(0,m.jsx)("span",{className:"inline-block py-1 px-3 rounded-full bg-surface border border-border text-xs font-medium tracking-wider text-accent uppercase mb-4",children:"Available for new projects"}),(0,m.jsx)("h1",{className:"font-display font-bold text-5xl md:text-8xl tracking-tighter text-primary mb-6 leading-[1.1]",dangerouslySetInnerHTML:{__html:t.split("\n").join("<br/>")}})]}),(0,m.jsx)(y.motion.p,{className:"text-secondary text-lg md:text-xl max-w-2xl mx-auto font-light leading-relaxed",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2,ease:"easeOut"},children:r}),(0,m.jsxs)(y.motion.div,{className:"flex flex-col sm:flex-row gap-4 justify-center items-center pt-8",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4,ease:"easeOut"},children:[(0,m.jsx)(k,{strength:.2,children:(0,m.jsx)("a",{href:"#projects",className:"px-8 py-3 bg-primary text-background font-semibold rounded-full hover:opacity-90 transition-all transform hover:scale-105 block",children:n})}),e?.contact?.resume&&(0,m.jsx)(k,{strength:.2,children:(0,m.jsxs)("a",{href:e.contact.resume,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-8 py-3 bg-surface border border-border text-primary font-medium rounded-full hover:bg-surfaceHighlight transition-all transform hover:scale-105",children:[(0,m.jsx)(S,{size:18,className:"text-accent"}),"Resume"]})}),(0,m.jsx)(k,{strength:.2,children:(0,m.jsx)("a",{href:"#contact",className:"px-8 py-3 border border-border text-primary font-medium rounded-full hover:bg-surface transition-all block",children:"Contact Me"})})]})]}),(0,m.jsx)(y.motion.div,{className:"absolute bottom-10 left-1/2 -translate-x-1/2 text-secondary/50 animate-bounce",initial:{opacity:0},animate:{opacity:1},transition:{delay:1,duration:1},children:(0,m.jsx)(w,{size:20})})]})},_=(0,b.default)("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);var T=e.i(75056),C=e.i(71753),U=e.i(31067),N=e.i(90072);function D(){var e=Object.create(null);function t(e,t){var r=void 0;self.troikaDefine=function(e){return r=e};var n=URL.createObjectURL(new Blob(["/** "+e.replace(/\*/g,"")+" **/\n\ntroikaDefine(\n"+t+"\n)"],{type:"application/javascript"}));try{importScripts(n)}catch(e){console.error(e)}return URL.revokeObjectURL(n),delete self.troikaDefine,r}self.addEventListener("message",function(r){var n=r.data,a=n.messageId,i=n.action,o=n.data;try{"registerModule"===i&&function r(n,a){var i=n.id,o=n.name,s=n.dependencies;void 0===s&&(s=[]);var l=n.init;void 0===l&&(l=function(){});var c=n.getTransferables;if(void 0===c&&(c=null),!e[i])try{s=s.map(function(t){return t&&t.isWorkerModule&&(r(t,function(e){if(e instanceof Error)throw e}),t=e[t.id].value),t}),l=t("<"+o+">.init",l),c&&(c=t("<"+o+">.getTransferables",c));var d=null;"function"==typeof l?d=l.apply(void 0,s):console.error("worker module init function failed to rehydrate"),e[i]={id:i,value:d,getTransferables:c},a(d)}catch(e){e&&e.noLog||console.error(e),a(e)}}(o,function(e){e instanceof Error?postMessage({messageId:a,success:!1,error:e.message}):postMessage({messageId:a,success:!0,result:{isCallable:"function"==typeof e}})}),"callModule"===i&&function(t,r){var n,a=t.id,i=t.args;e[a]&&"function"==typeof e[a].value||r(Error("Worker module "+a+": not found or its 'init' did not return a function"));try{var o=(n=e[a]).value.apply(n,i);o&&"function"==typeof o.then?o.then(s,function(e){return r(e instanceof Error?e:Error(""+e))}):s(o)}catch(e){r(e)}function s(t){try{var n=e[a].getTransferables&&e[a].getTransferables(t);n&&Array.isArray(n)&&n.length||(n=void 0),r(t,n)}catch(e){console.error(e),r(e)}}}(o,function(e,t){e instanceof Error?postMessage({messageId:a,success:!1,error:e.message}):postMessage({messageId:a,success:!0,result:e},t||void 0)})}catch(e){postMessage({messageId:a,success:!1,error:e.stack})}})}e.i(47167);var A=function(){var e=!1;if("u">typeof window&&void 0!==window.document)try{new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"}))).terminate(),e=!0}catch(e){console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+e.message+"]")}return A=function(){return e},e},M=0,O=0,P=!1,F=Object.create(null),R=Object.create(null),I=Object.create(null);function L(e){if((!e||"function"!=typeof e.init)&&!P)throw Error("requires `options.init` function");var t,r=e.dependencies,n=e.init,a=e.getTransferables,i=e.workerId,o=((t=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return t._getInitResult().then(function(t){if("function"==typeof t)return t.apply(void 0,e);throw Error("Worker module function was called but `init` did not return a callable function")})})._getInitResult=function(){var r=e.dependencies,n=e.init,a=Promise.all(r=Array.isArray(r)?r.map(function(e){return e&&(e=e.onMainThread||e)._getInitResult&&(e=e._getInitResult()),e}):[]).then(function(e){return n.apply(null,e)});return t._getInitResult=function(){return a},a},t);null==i&&(i="#default");var s="workerModule"+ ++M,l=e.name||s,c=null;function d(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(!A())return o.apply(void 0,e);if(!c){c=z(i,"registerModule",d.workerModuleData);var r=function(){c=null,R[i].delete(r)};(R[i]||(R[i]=new Set)).add(r)}return c.then(function(t){if(t.isCallable)return z(i,"callModule",{id:s,args:e});throw Error("Worker module function was called but `init` did not return a callable function")})}return r=r&&r.map(function(e){return"function"!=typeof e||e.workerModuleData||(P=!0,e=L({workerId:i,name:"<"+l+"> function dependency: "+e.name,init:"function(){return (\n"+B(e)+"\n)}"}),P=!1),e&&e.workerModuleData&&(e=e.workerModuleData),e}),d.workerModuleData={isWorkerModule:!0,id:s,name:l,dependencies:r,init:B(n),getTransferables:a&&B(a)},d.onMainThread=o,d}function B(e){var t=e.toString();return!/^function/.test(t)&&/^\w+\s*\(/.test(t)&&(t="function "+t),t}function z(e,t,r){return new Promise(function(n,a){var i=++O;I[i]=function(e){e.success?n(e.result):a(Error("Error in worker "+t+" call: "+e.error))},(function(e){var t=F[e];if(!t){var r=B(D);(t=F[e]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+e.replace(/\*/g,"")+" **/\n\n;("+r+")()"],{type:"application/javascript"})))).onmessage=function(e){var t=e.data,r=t.messageId,n=I[r];if(!n)throw Error("WorkerModule response with empty or unknown messageId");delete I[r],n(t)}}return t})(e).postMessage({messageId:i,action:t,data:r})})}function G(){return function(e){function t(e,t){for(var r,n,a,i,o,s=/([MLQCZ])([^MLQCZ]*)/g;r=s.exec(e);){var l=r[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(e){return parseFloat(e)});switch(r[1]){case"M":i=n=l[0],o=a=l[1];break;case"L":(l[0]!==i||l[1]!==o)&&t("L",i,o,i=l[0],o=l[1]);break;case"Q":t("Q",i,o,i=l[2],o=l[3],l[0],l[1]);break;case"C":t("C",i,o,i=l[4],o=l[5],l[0],l[1],l[2],l[3]);break;case"Z":(i!==n||o!==a)&&t("L",i,o,n,a)}}}function r(e,r,n){void 0===n&&(n=16);var a={x:0,y:0};t(e,function(e,t,i,o,s,l,c,d,u){switch(e){case"L":r(t,i,o,s);break;case"Q":for(var h=t,f=i,p=1;p<n;p++)!function(e,t,r,n,a,i,o,s){var l=1-o;s.x=l*l*e+2*l*o*r+o*o*a,s.y=l*l*t+2*l*o*n+o*o*i}(t,i,l,c,o,s,p/(n-1),a),r(h,f,a.x,a.y),h=a.x,f=a.y;break;case"C":for(var m=t,v=i,g=1;g<n;g++)!function(e,t,r,n,a,i,o,s,l,c){var d=1-l;c.x=d*d*d*e+3*d*d*l*r+3*d*l*l*a+l*l*l*o,c.y=d*d*d*t+3*d*d*l*n+3*d*l*l*i+l*l*l*s}(t,i,l,c,d,u,o,s,g/(n-1),a),r(m,v,a.x,a.y),m=a.x,v=a.y}})}var n="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",a=new WeakMap,i={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function o(e,t){var r=e.getContext?e.getContext("webgl",i):e,n=a.get(r);if(!n){var o="u">typeof WebGL2RenderingContext&&r instanceof WebGL2RenderingContext,s={},l={},c={},d=-1,u=[];function h(e){var t=s[e];if(!t&&!(t=s[e]=r.getExtension(e)))throw Error(e+" not supported");return t}function f(e,t){var n=r.createShader(t);return r.shaderSource(n,e),r.compileShader(n),n}function p(){s={},l={},c={},d=-1,u.length=0}r.canvas.addEventListener("webglcontextlost",function(e){p(),e.preventDefault()},!1),a.set(r,n={gl:r,isWebGL2:o,getExtension:h,withProgram:function(e,t,n,a){if(!l[e]){var i={},s={},c=r.createProgram();r.attachShader(c,f(t,r.VERTEX_SHADER)),r.attachShader(c,f(n,r.FRAGMENT_SHADER)),r.linkProgram(c),l[e]={program:c,transaction:function(e){r.useProgram(c),e({setUniform:function(e,t){for(var n=[],a=arguments.length-2;a-- >0;)n[a]=arguments[a+2];var i=s[t]||(s[t]=r.getUniformLocation(c,t));r["uniform"+e].apply(r,[i].concat(n))},setAttribute:function(e,t,n,a,s){var l=i[e];l||(l=i[e]={buf:r.createBuffer(),loc:r.getAttribLocation(c,e),data:null}),r.bindBuffer(r.ARRAY_BUFFER,l.buf),r.vertexAttribPointer(l.loc,t,r.FLOAT,!1,0,0),r.enableVertexAttribArray(l.loc),o?r.vertexAttribDivisor(l.loc,a):h("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(l.loc,a),s!==l.data&&(r.bufferData(r.ARRAY_BUFFER,s,n),l.data=s)}})}}}l[e].transaction(a)},withTexture:function(e,t){d++;try{r.activeTexture(r.TEXTURE0+d);var n=c[e];n||(n=c[e]=r.createTexture(),r.bindTexture(r.TEXTURE_2D,n),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.NEAREST)),r.bindTexture(r.TEXTURE_2D,n),t(n,d)}finally{d--}},withTextureFramebuffer:function(e,t,n){var a=r.createFramebuffer();u.push(a),r.bindFramebuffer(r.FRAMEBUFFER,a),r.activeTexture(r.TEXTURE0+t),r.bindTexture(r.TEXTURE_2D,e),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,e,0);try{n(a)}finally{r.deleteFramebuffer(a),r.bindFramebuffer(r.FRAMEBUFFER,u[--u.length-1]||null)}},handleContextLoss:p})}t(n)}function s(e,t,r,a,i,s,l,c){void 0===l&&(l=15),void 0===c&&(c=null),o(e,function(e){var o=e.gl,d=e.withProgram;(0,e.withTexture)("copy",function(e,u){o.texImage2D(o.TEXTURE_2D,0,o.RGBA,i,s,0,o.RGBA,o.UNSIGNED_BYTE,t),d("copy",n,"precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",function(e){var t=e.setUniform;(0,e.setAttribute)("aUV",2,o.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),t("1i","image",u),o.bindFramebuffer(o.FRAMEBUFFER,c||null),o.disable(o.BLEND),o.colorMask(8&l,4&l,2&l,1&l),o.viewport(r,a,i,s),o.scissor(r,a,i,s),o.drawArrays(o.TRIANGLES,0,3)})})})}var l=Object.freeze({__proto__:null,withWebGLContext:o,renderImageData:s,resizeWebGLCanvasWithoutClearing:function(e,t,r){var n=e.width,a=e.height;o(e,function(i){var o=i.gl,l=new Uint8Array(n*a*4);o.readPixels(0,0,n,a,o.RGBA,o.UNSIGNED_BYTE,l),e.width=t,e.height=r,s(o,l,0,0,n,a)})}});function c(e,t,n,a,i,o){void 0===o&&(o=1);var s=new Uint8Array(e*t),l=a[2]-a[0],c=a[3]-a[1],d=[];r(n,function(e,t,r,n){d.push({x1:e,y1:t,x2:r,y2:n,minX:Math.min(e,r),minY:Math.min(t,n),maxX:Math.max(e,r),maxY:Math.max(t,n)})}),d.sort(function(e,t){return e.maxX-t.maxX});for(var u=0;u<e;u++)for(var h=0;h<t;h++){var f=function(e,t){for(var r=1/0,n=1/0,a=d.length;a--;){var i=d[a];if(i.maxX+n<=e)break;if(e+n>i.minX&&t-n<i.maxY&&t+n>i.minY){var o=function(e,t,r,n,a,i){var o=a-r,s=i-n,l=o*o+s*s,c=l?Math.max(0,Math.min(1,((e-r)*o+(t-n)*s)/l)):0,d=e-(r+c*o),u=t-(n+c*s);return d*d+u*u}(e,t,i.x1,i.y1,i.x2,i.y2);o<r&&(n=Math.sqrt(r=o))}}return function(e,t){for(var r=0,n=d.length;n--;){var a=d[n];if(a.maxX<=e)break;a.y1>t!=a.y2>t&&e<(a.x2-a.x1)*(t-a.y1)/(a.y2-a.y1)+a.x1&&(r+=a.y1<a.y2?1:-1)}return 0!==r}(e,t)&&(n=-n),n}(a[0]+l*(u+.5)/e,a[1]+c*(h+.5)/t),p=Math.pow(1-Math.abs(f)/i,o)/2;f<0&&(p=1-p),p=Math.max(0,Math.min(255,Math.round(255*p))),s[h*e+u]=p}return s}function d(e,t,r,n,a,i,o,s,l,c){void 0===i&&(i=1),void 0===s&&(s=0),void 0===l&&(l=0),void 0===c&&(c=0),u(e,t,r,n,a,i,o,null,s,l,c)}function u(e,t,r,n,a,i,o,l,d,u,h){void 0===i&&(i=1),void 0===d&&(d=0),void 0===u&&(u=0),void 0===h&&(h=0);for(var f=c(e,t,r,n,a,i),p=new Uint8Array(4*f.length),m=0;m<f.length;m++)p[4*m+h]=f[m];s(o,p,d,u,e,t,1<<3-h,l)}var h=Object.freeze({__proto__:null,generate:c,generateIntoCanvas:d,generateIntoFramebuffer:u}),f=new Float32Array([0,0,2,0,0,2]),p=null,m=!1,v={},g=new WeakMap;function x(e){if(!m&&!S(e))throw Error("WebGL generation not supported")}function y(e,t,r,n,a,i,s){if(void 0===i&&(i=1),void 0===s&&(s=null),!s&&!(s=p)){var l="function"==typeof OffscreenCanvas?new OffscreenCanvas(1,1):"u">typeof document?document.createElement("canvas"):null;if(!l)throw Error("OffscreenCanvas or DOM canvas not supported");s=p=l.getContext("webgl",{depth:!1})}x(s);var c=new Uint8Array(e*t*4);o(s,function(o){var s=o.gl,l=o.withTexture,d=o.withTextureFramebuffer;l("readable",function(o,l){s.texImage2D(s.TEXTURE_2D,0,s.RGBA,e,t,0,s.RGBA,s.UNSIGNED_BYTE,null),d(o,l,function(o){w(e,t,r,n,a,i,s,o,0,0,0),s.readPixels(0,0,e,t,s.RGBA,s.UNSIGNED_BYTE,c)})})});for(var d=new Uint8Array(e*t),u=0,h=0;u<c.length;u+=4)d[h++]=c[u];return d}function b(e,t,r,n,a,i,o,s,l,c){void 0===i&&(i=1),void 0===s&&(s=0),void 0===l&&(l=0),void 0===c&&(c=0),w(e,t,r,n,a,i,o,null,s,l,c)}function w(e,t,a,i,s,l,c,d,u,h,p){void 0===l&&(l=1),void 0===u&&(u=0),void 0===h&&(h=0),void 0===p&&(p=0),x(c);var m=[];r(a,function(e,t,r,n){m.push(e,t,r,n)}),m=new Float32Array(m),o(c,function(r){var a=r.gl,o=r.isWebGL2,c=r.getExtension,v=r.withProgram,g=r.withTexture,x=r.withTextureFramebuffer,y=r.handleContextLoss;if(g("rawDistances",function(r,g){(e!==r._lastWidth||t!==r._lastHeight)&&a.texImage2D(a.TEXTURE_2D,0,a.RGBA,r._lastWidth=e,r._lastHeight=t,0,a.RGBA,a.UNSIGNED_BYTE,null),v("main","precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}","precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",function(n){var d=n.setAttribute,u=n.setUniform,h=!o&&c("ANGLE_instanced_arrays"),p=!o&&c("EXT_blend_minmax");d("aUV",2,a.STATIC_DRAW,0,f),d("aLineSegment",4,a.DYNAMIC_DRAW,1,m),u.apply(void 0,["4f","uGlyphBounds"].concat(i)),u("1f","uMaxDistance",s),u("1f","uExponent",l),x(r,g,function(r){a.enable(a.BLEND),a.colorMask(!0,!0,!0,!0),a.viewport(0,0,e,t),a.scissor(0,0,e,t),a.blendFunc(a.ONE,a.ONE),a.blendEquationSeparate(a.FUNC_ADD,o?a.MAX:p.MAX_EXT),a.clear(a.COLOR_BUFFER_BIT),o?a.drawArraysInstanced(a.TRIANGLES,0,3,m.length/4):h.drawArraysInstancedANGLE(a.TRIANGLES,0,3,m.length/4)})}),v("post",n,"precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",function(r){r.setAttribute("aUV",2,a.STATIC_DRAW,0,f),r.setUniform("1i","tex",g),a.bindFramebuffer(a.FRAMEBUFFER,d),a.disable(a.BLEND),a.colorMask(0===p,1===p,2===p,3===p),a.viewport(u,h,e,t),a.scissor(u,h,e,t),a.drawArrays(a.TRIANGLES,0,3)})}),a.isContextLost())throw y(),Error("webgl context lost")})}function S(e){var t=e&&e!==p?e.canvas||e:v,r=g.get(t);if(void 0===r){m=!0;var n=null;try{var a=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],i=y(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,e);(r=i&&a.length===i.length&&i.every(function(e,t){return e===a[t]}))||(n="bad trial run results",console.info(a,i))}catch(e){r=!1,n=e.message}n&&console.warn("WebGL SDF generation not supported:",n),m=!1,g.set(t,r)}return r}var k=Object.freeze({__proto__:null,generate:y,generateIntoCanvas:b,generateIntoFramebuffer:w,isSupported:S});return e.forEachPathCommand=t,e.generate=function(e,t,r,n,a,i){void 0===a&&(a=Math.max(n[2]-n[0],n[3]-n[1])/2),void 0===i&&(i=1);try{return y.apply(k,arguments)}catch(e){return console.info("WebGL SDF generation failed, falling back to JS",e),c.apply(h,arguments)}},e.generateIntoCanvas=function(e,t,r,n,a,i,o,s,l,c){void 0===a&&(a=Math.max(n[2]-n[0],n[3]-n[1])/2),void 0===i&&(i=1),void 0===s&&(s=0),void 0===l&&(l=0),void 0===c&&(c=0);try{return b.apply(k,arguments)}catch(e){return console.info("WebGL SDF generation failed, falling back to JS",e),d.apply(h,arguments)}},e.javascript=h,e.pathToLineSegments=r,e.webgl=k,e.webglUtils=l,Object.defineProperty(e,"__esModule",{value:!0}),e}({})}var V=e.i(8560),W=N;let $=/\bvoid\s+main\s*\(\s*\)\s*{/g;function q(e){return e.replace(/^[ \t]*#include +<([\w\d./]+)>/gm,function(e,t){let r=V.ShaderChunk[t];return r?q(r):e})}let X=[];for(let e=0;e<256;e++)X[e]=(e<16?"0":"")+e.toString(16);let H=Object.assign||function(){let e=arguments[0];for(let t=1,r=arguments.length;t<r;t++){let r=arguments[t];if(r)for(let t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},Y=Date.now(),Z=new WeakMap,K=new Map,Q=1e10;function J(e,t){let r,n,a=(r=JSON.stringify(t,et),null==(n=en.get(r))&&en.set(r,n=++er),n),i=Z.get(e);if(i||Z.set(e,i=Object.create(null)),i[a])return new i[a];let o=`_onBeforeCompile${a}`,s=function(r,n){e.onBeforeCompile.call(this,r,n);let i=this.customProgramCacheKey()+"|"+r.vertexShader+"|"+r.fragmentShader,s=K[i];if(!s){let e=function(e,{vertexShader:t,fragmentShader:r},n,a){let{vertexDefs:i,vertexMainIntro:o,vertexMainOutro:s,vertexTransform:l,fragmentDefs:c,fragmentMainIntro:d,fragmentMainOutro:u,fragmentColorTransform:h,customRewriter:f,timeUniform:p}=n;if(i=i||"",o=o||"",s=s||"",c=c||"",d=d||"",u=u||"",(l||f)&&(t=q(t)),(h||f)&&(r=q(r=r.replace(/^[ \t]*#include <((?:tonemapping|encodings|colorspace|fog|premultiplied_alpha|dithering)_fragment)>/gm,"\n//!BEGIN_POST_CHUNK $1\n$&\n//!END_POST_CHUNK\n"))),f){let e=f({vertexShader:t,fragmentShader:r});t=e.vertexShader,r=e.fragmentShader}if(h){let e=[];r=r.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,t=>(e.push(t),"")),u=`${h}
${e.join("\n")}
${u}`}if(p){let e=`
uniform float ${p};
`;i=e+i,c=e+c}return l&&(t=`vec3 troika_position_${a};
vec3 troika_normal_${a};
vec2 troika_uv_${a};
${t}
`,i=`${i}
void troikaVertexTransform${a}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${l}
}
`,o=`
troika_position_${a} = vec3(position);
troika_normal_${a} = vec3(normal);
troika_uv_${a} = vec2(uv);
troikaVertexTransform${a}(troika_position_${a}, troika_normal_${a}, troika_uv_${a});
${o}
`,t=t.replace(/\b(position|normal|uv)\b/g,(e,t,r,n)=>/\battribute\s+vec[23]\s+$/.test(n.substr(0,r))?t:`troika_${t}_${a}`),e.map&&e.map.channel>0||(t=t.replace(/\bMAP_UV\b/g,`troika_uv_${a}`))),{vertexShader:t=ee(t,a,i,o,s),fragmentShader:r=ee(r,a,c,d,u)}}(this,r,t,a);s=K[i]=e}r.vertexShader=s.vertexShader,r.fragmentShader=s.fragmentShader,H(r.uniforms,this.uniforms),t.timeUniform&&(r.uniforms[t.timeUniform]={get value(){return Date.now()-Y}}),this[o]&&this[o](r)},l=function(){return c(t.chained?e:e.clone())},c=function(r){let n,i,o,s,l=Object.create(r,d);return Object.defineProperty(l,"baseMaterial",{value:e}),Object.defineProperty(l,"id",{value:Q++}),n=0xffffffff*Math.random()|0,i=0xffffffff*Math.random()|0,o=0xffffffff*Math.random()|0,s=0xffffffff*Math.random()|0,l.uuid=(X[255&n]+X[n>>8&255]+X[n>>16&255]+X[n>>24&255]+"-"+X[255&i]+X[i>>8&255]+"-"+X[i>>16&15|64]+X[i>>24&255]+"-"+X[63&o|128]+X[o>>8&255]+"-"+X[o>>16&255]+X[o>>24&255]+X[255&s]+X[s>>8&255]+X[s>>16&255]+X[s>>24&255]).toUpperCase(),l.uniforms=H({},r.uniforms,t.uniforms),l.defines=H({},r.defines,t.defines),l.defines[`TROIKA_DERIVED_MATERIAL_${a}`]="",l.extensions=H({},r.extensions,t.extensions),l._listeners=void 0,l},d={constructor:{value:l},isDerivedMaterial:{value:!0},type:{get:()=>e.type,set:t=>{e.type=t}},isDerivedFrom:{writable:!0,configurable:!0,value:function(e){let t=this.baseMaterial;return e===t||t.isDerivedMaterial&&t.isDerivedFrom(e)||!1}},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return e.customProgramCacheKey()+"|"+a}},onBeforeCompile:{get:()=>s,set(e){this[o]=e}},copy:{writable:!0,configurable:!0,value:function(t){return e.copy.call(this,t),e.isShaderMaterial||e.isDerivedMaterial||(H(this.extensions,t.extensions),H(this.defines,t.defines),H(this.uniforms,W.UniformsUtils.clone(t.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){return c(new e.constructor).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let r=this._depthMaterial;return r||((r=this._depthMaterial=J(e.isDerivedMaterial?e.getDepthMaterial():new W.MeshDepthMaterial({depthPacking:W.RGBADepthPacking}),t)).defines.IS_DEPTH_MATERIAL="",r.uniforms=this.uniforms),r}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let r=this._distanceMaterial;return r||((r=this._distanceMaterial=J(e.isDerivedMaterial?e.getDistanceMaterial():new W.MeshDistanceMaterial,t)).defines.IS_DISTANCE_MATERIAL="",r.uniforms=this.uniforms),r}},dispose:{writable:!0,configurable:!0,value(){let{_depthMaterial:t,_distanceMaterial:r}=this;t&&t.dispose(),r&&r.dispose(),e.dispose.call(this)}}};return i[a]=l,new l}function ee(e,t,r,n,a){return(n||a||r)&&(e=e.replace($,`
${r}
void troikaOrigMain${t}() {`)+`
void main() {
  ${n}
  troikaOrigMain${t}();
  ${a}
}`),e}function et(e,t){return"uniforms"===e?void 0:"function"==typeof t?t.toString():t}let er=0,en=new Map,ea=`
uniform vec3 pointA;
uniform vec3 controlA;
uniform vec3 controlB;
uniform vec3 pointB;
uniform float radius;
varying float bezierT;

vec3 cubicBezier(vec3 p1, vec3 c1, vec3 c2, vec3 p2, float t) {
  float t2 = 1.0 - t;
  float b0 = t2 * t2 * t2;
  float b1 = 3.0 * t * t2 * t2;
  float b2 = 3.0 * t * t * t2;
  float b3 = t * t * t;
  return b0 * p1 + b1 * c1 + b2 * c2 + b3 * p2;
}

vec3 cubicBezierDerivative(vec3 p1, vec3 c1, vec3 c2, vec3 p2, float t) {
  float t2 = 1.0 - t;
  return -3.0 * p1 * t2 * t2 +
    c1 * (3.0 * t2 * t2 - 6.0 * t2 * t) +
    c2 * (6.0 * t2 * t - 3.0 * t * t) +
    3.0 * p2 * t * t;
}
`,ei=`
float t = position.y;
bezierT = t;
vec3 bezierCenterPos = cubicBezier(pointA, controlA, controlB, pointB, t);
vec3 bezierDir = normalize(cubicBezierDerivative(pointA, controlA, controlB, pointB, t));

// Make "sideways" always perpendicular to the camera ray; this ensures that any twists
// in the cylinder occur where you won't see them: 
vec3 viewDirection = normalMatrix * vec3(0.0, 0.0, 1.0);
if (bezierDir == viewDirection) {
  bezierDir = normalize(cubicBezierDerivative(pointA, controlA, controlB, pointB, t == 1.0 ? t - 0.0001 : t + 0.0001));
}
vec3 sideways = normalize(cross(bezierDir, viewDirection));
vec3 upish = normalize(cross(sideways, bezierDir));

// Build a matrix for transforming this disc in the cylinder:
mat4 discTx;
discTx[0].xyz = sideways * radius;
discTx[1].xyz = bezierDir * radius;
discTx[2].xyz = upish * radius;
discTx[3].xyz = bezierCenterPos;
discTx[3][3] = 1.0;

// Apply transform, ignoring original y
position = (discTx * vec4(position.x, 0.0, position.z, 1.0)).xyz;
normal = normalize(mat3(discTx) * normal);
`,eo=`
uniform vec3 dashing;
varying float bezierT;
`,es=`
if (dashing.x + dashing.y > 0.0) {
  float dashFrac = mod(bezierT - dashing.z, dashing.x + dashing.y);
  if (dashFrac > dashing.x) {
    discard;
  }
}
`,el=null,ec=new W.MeshStandardMaterial({color:0xffffff,side:W.DoubleSide});class ed extends W.Mesh{static getGeometry(){return el||(el=new W.CylinderGeometry(1,1,1,6,64).translate(0,.5,0))}constructor(){super(ed.getGeometry(),ec),this.pointA=new W.Vector3,this.controlA=new W.Vector3,this.controlB=new W.Vector3,this.pointB=new W.Vector3,this.radius=.01,this.dashArray=new W.Vector2,this.dashOffset=0,this.frustumCulled=!1}get material(){let e=this._derivedMaterial,t=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=ec.clone());return e&&e.baseMaterial===t||(e=this._derivedMaterial=J(t,{chained:!0,uniforms:{pointA:{value:new W.Vector3},controlA:{value:new W.Vector3},controlB:{value:new W.Vector3},pointB:{value:new W.Vector3},radius:{value:.01},dashing:{value:new W.Vector3}},vertexDefs:ea,vertexTransform:ei,fragmentDefs:eo,fragmentMainIntro:es}),t.addEventListener("dispose",function r(){t.removeEventListener("dispose",r),e.dispose()})),e}set material(e){this._baseMaterial=e}get customDepthMaterial(){return this.material.getDepthMaterial()}set customDepthMaterial(e){}get customDistanceMaterial(){return this.material.getDistanceMaterial()}set customDistanceMaterial(e){}onBeforeRender(){let{uniforms:e}=this.material,{pointA:t,controlA:r,controlB:n,pointB:a,radius:i,dashArray:o,dashOffset:s}=this;e.pointA.value.copy(t),e.controlA.value.copy(r),e.controlB.value.copy(n),e.pointB.value.copy(a),e.radius.value=i,e.dashing.value.set(o.x,o.y,s||0)}raycast(){}}let eu=L({name:"Typr Font Parser",dependencies:[function(){var e,t,r;return"u"<typeof window&&(self.window=self),(e={},(t={parse:function(e){var r=t._bin,n=new Uint8Array(e);if("ttcf"==r.readASCII(n,0,4)){var a=4;r.readUshort(n,a),a+=2,r.readUshort(n,a),a+=2;var i=r.readUint(n,a);a+=4;for(var o=[],s=0;s<i;s++){var l=r.readUint(n,a);a+=4,o.push(t._readFont(n,l))}return o}return[t._readFont(n,0)]},_readFont:function(e,r){var n=t._bin,a=r;n.readFixed(e,r),r+=4;var i=n.readUshort(e,r);r+=2,n.readUshort(e,r),r+=2,n.readUshort(e,r),r+=2,n.readUshort(e,r),r+=2;for(var o=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GDEF","GPOS","GSUB","SVG "],s={_data:e,_offset:a},l={},c=0;c<i;c++){var d=n.readASCII(e,r,4);r+=4,n.readUint(e,r),r+=4;var u=n.readUint(e,r);r+=4;var h=n.readUint(e,r);r+=4,l[d]={offset:u,length:h}}for(c=0;c<o.length;c++){var f=o[c];l[f]&&(s[f.trim()]=t[f.trim()].parse(e,l[f].offset,l[f].length,s))}return s},_tabOffset:function(e,r,n){for(var a=t._bin,i=a.readUshort(e,n+4),o=n+12,s=0;s<i;s++){var l=a.readASCII(e,o,4);o+=4,a.readUint(e,o),o+=4;var c=a.readUint(e,o);if(o+=4,a.readUint(e,o),o+=4,l==r)return c}return 0}})._bin={readFixed:function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<8|e[t+3])/65540},readF2dot14:function(e,r){return t._bin.readShort(e,r)/16384},readInt:function(e,r){return t._bin._view(e).getInt32(r)},readInt8:function(e,r){return t._bin._view(e).getInt8(r)},readShort:function(e,r){return t._bin._view(e).getInt16(r)},readUshort:function(e,r){return t._bin._view(e).getUint16(r)},readUshorts:function(e,r,n){for(var a=[],i=0;i<n;i++)a.push(t._bin.readUshort(e,r+2*i));return a},readUint:function(e,r){return t._bin._view(e).getUint32(r)},readUint64:function(e,r){return 0x100000000*t._bin.readUint(e,r)+t._bin.readUint(e,r+4)},readASCII:function(e,t,r){for(var n="",a=0;a<r;a++)n+=String.fromCharCode(e[t+a]);return n},readUnicode:function(e,t,r){for(var n="",a=0;a<r;a++)n+=String.fromCharCode(e[t++]<<8|e[t++]);return n},_tdec:"u">typeof window&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(e,r,n){var a=t._bin._tdec;return a&&0==r&&n==e.length?a.decode(e):t._bin.readASCII(e,r,n)},readBytes:function(e,t,r){for(var n=[],a=0;a<r;a++)n.push(e[t+a]);return n},readASCIIArray:function(e,t,r){for(var n=[],a=0;a<r;a++)n.push(String.fromCharCode(e[t+a]));return n},_view:function(e){return e._dataView||(e._dataView=e.buffer?new DataView(e.buffer,e.byteOffset,e.byteLength):new DataView(new Uint8Array(e).buffer))}},t._lctf={},t._lctf.parse=function(e,r,n,a,i){var o=t._bin,s={},l=r;o.readFixed(e,r),r+=4;var c=o.readUshort(e,r);r+=2;var d=o.readUshort(e,r);r+=2;var u=o.readUshort(e,r);return r+=2,s.scriptList=t._lctf.readScriptList(e,l+c),s.featureList=t._lctf.readFeatureList(e,l+d),s.lookupList=t._lctf.readLookupList(e,l+u,i),s},t._lctf.readLookupList=function(e,r,n){var a=t._bin,i=r,o=[],s=a.readUshort(e,r);r+=2;for(var l=0;l<s;l++){var c=a.readUshort(e,r);r+=2;var d=t._lctf.readLookupTable(e,i+c,n);o.push(d)}return o},t._lctf.readLookupTable=function(e,r,n){var a=t._bin,i=r,o={tabs:[]};o.ltype=a.readUshort(e,r),r+=2,o.flag=a.readUshort(e,r),r+=2;var s=a.readUshort(e,r);r+=2;for(var l=o.ltype,c=0;c<s;c++){var d=a.readUshort(e,r);r+=2;var u=n(e,l,i+d,o);o.tabs.push(u)}return o},t._lctf.numOfOnes=function(e){for(var t=0,r=0;r<32;r++)0!=(e>>>r&1)&&t++;return t},t._lctf.readClassDef=function(e,r){var n=t._bin,a=[],i=n.readUshort(e,r);if(r+=2,1==i){var o=n.readUshort(e,r);r+=2;var s=n.readUshort(e,r);r+=2;for(var l=0;l<s;l++)a.push(o+l),a.push(o+l),a.push(n.readUshort(e,r)),r+=2}if(2==i){var c=n.readUshort(e,r);for(r+=2,l=0;l<c;l++)a.push(n.readUshort(e,r)),r+=2,a.push(n.readUshort(e,r)),r+=2,a.push(n.readUshort(e,r)),r+=2}return a},t._lctf.getInterval=function(e,t){for(var r=0;r<e.length;r+=3){var n=e[r],a=e[r+1];if(e[r+2],n<=t&&t<=a)return r}return -1},t._lctf.readCoverage=function(e,r){var n=t._bin,a={};a.fmt=n.readUshort(e,r),r+=2;var i=n.readUshort(e,r);return r+=2,1==a.fmt&&(a.tab=n.readUshorts(e,r,i)),2==a.fmt&&(a.tab=n.readUshorts(e,r,3*i)),a},t._lctf.coverageIndex=function(e,r){var n=e.tab;if(1==e.fmt)return n.indexOf(r);if(2==e.fmt){var a=t._lctf.getInterval(n,r);if(-1!=a)return n[a+2]+(r-n[a])}return -1},t._lctf.readFeatureList=function(e,r){var n=t._bin,a=r,i=[],o=n.readUshort(e,r);r+=2;for(var s=0;s<o;s++){var l=n.readASCII(e,r,4);r+=4;var c=n.readUshort(e,r);r+=2;var d=t._lctf.readFeatureTable(e,a+c);d.tag=l.trim(),i.push(d)}return i},t._lctf.readFeatureTable=function(e,r){var n=t._bin,a=r,i={},o=n.readUshort(e,r);r+=2,o>0&&(i.featureParams=a+o);var s=n.readUshort(e,r);r+=2,i.tab=[];for(var l=0;l<s;l++)i.tab.push(n.readUshort(e,r+2*l));return i},t._lctf.readScriptList=function(e,r){var n=t._bin,a=r,i={},o=n.readUshort(e,r);r+=2;for(var s=0;s<o;s++){var l=n.readASCII(e,r,4);r+=4;var c=n.readUshort(e,r);r+=2,i[l.trim()]=t._lctf.readScriptTable(e,a+c)}return i},t._lctf.readScriptTable=function(e,r){var n=t._bin,a=r,i={},o=n.readUshort(e,r);r+=2,o>0&&(i.default=t._lctf.readLangSysTable(e,a+o));var s=n.readUshort(e,r);r+=2;for(var l=0;l<s;l++){var c=n.readASCII(e,r,4);r+=4;var d=n.readUshort(e,r);r+=2,i[c.trim()]=t._lctf.readLangSysTable(e,a+d)}return i},t._lctf.readLangSysTable=function(e,r){var n=t._bin,a={};n.readUshort(e,r),r+=2,a.reqFeature=n.readUshort(e,r),r+=2;var i=n.readUshort(e,r);return r+=2,a.features=n.readUshorts(e,r,i),a},t.CFF={},t.CFF.parse=function(e,r,n){var a=t._bin;(e=new Uint8Array(e.buffer,r,n))[r=0],e[++r],e[++r],e[++r],r++;var i=[];r=t.CFF.readIndex(e,r,i);for(var o=[],s=0;s<i.length-1;s++)o.push(a.readASCII(e,r+i[s],i[s+1]-i[s]));r+=i[i.length-1];var l=[];r=t.CFF.readIndex(e,r,l);var c=[];for(s=0;s<l.length-1;s++)c.push(t.CFF.readDict(e,r+l[s],r+l[s+1]));r+=l[l.length-1];var d=c[0],u=[];r=t.CFF.readIndex(e,r,u);var h=[];for(s=0;s<u.length-1;s++)h.push(a.readASCII(e,r+u[s],u[s+1]-u[s]));if(r+=u[u.length-1],t.CFF.readSubrs(e,r,d),d.CharStrings){r=d.CharStrings,u=[],r=t.CFF.readIndex(e,r,u);var f=[];for(s=0;s<u.length-1;s++)f.push(a.readBytes(e,r+u[s],u[s+1]-u[s]));d.CharStrings=f}if(d.ROS){r=d.FDArray;var p=[];for(r=t.CFF.readIndex(e,r,p),d.FDArray=[],s=0;s<p.length-1;s++){var m=t.CFF.readDict(e,r+p[s],r+p[s+1]);t.CFF._readFDict(e,m,h),d.FDArray.push(m)}r+=p[p.length-1],r=d.FDSelect,d.FDSelect=[];var v=e[r];if(r++,3!=v)throw v;var g=a.readUshort(e,r);for(r+=2,s=0;s<g+1;s++)d.FDSelect.push(a.readUshort(e,r),e[r+2]),r+=3}return d.Encoding&&(d.Encoding=t.CFF.readEncoding(e,d.Encoding,d.CharStrings.length)),d.charset&&(d.charset=t.CFF.readCharset(e,d.charset,d.CharStrings.length)),t.CFF._readFDict(e,d,h),d},t.CFF._readFDict=function(e,r,n){var a;for(var i in r.Private&&(a=r.Private[1],r.Private=t.CFF.readDict(e,a,a+r.Private[0]),r.Private.Subrs&&t.CFF.readSubrs(e,a+r.Private.Subrs,r.Private)),r)-1!=["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(i)&&(r[i]=n[r[i]-426+35])},t.CFF.readSubrs=function(e,r,n){var a=t._bin,i=[];r=t.CFF.readIndex(e,r,i);var o=i.length;n.Bias=o<1240?107:o<33900?1131:32768,n.Subrs=[];for(var s=0;s<i.length-1;s++)n.Subrs.push(a.readBytes(e,r+i[s],i[s+1]-i[s]))},t.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],t.CFF.glyphByUnicode=function(e,t){for(var r=0;r<e.charset.length;r++)if(e.charset[r]==t)return r;return -1},t.CFF.glyphBySE=function(e,r){return r<0||r>255?-1:t.CFF.glyphByUnicode(e,t.CFF.tableSE[r])},t.CFF.readEncoding=function(e,r,n){t._bin;var a=[".notdef"],i=e[r];if(r++,0!=i)throw"error: unknown encoding format: "+i;var o=e[r];r++;for(var s=0;s<o;s++)a.push(e[r+s]);return a},t.CFF.readCharset=function(e,r,n){var a=t._bin,i=[".notdef"],o=e[r];if(r++,0==o)for(var s=0;s<n;s++){var l=a.readUshort(e,r);r+=2,i.push(l)}else{if(1!=o&&2!=o)throw"error: format: "+o;for(;i.length<n;){l=a.readUshort(e,r),r+=2;var c=0;for(1==o?(c=e[r],r++):(c=a.readUshort(e,r),r+=2),s=0;s<=c;s++)i.push(l),l++}}return i},t.CFF.readIndex=function(e,r,n){var a=t._bin,i=a.readUshort(e,r)+1,o=e[r+=2];if(r++,1==o)for(var s=0;s<i;s++)n.push(e[r+s]);else if(2==o)for(s=0;s<i;s++)n.push(a.readUshort(e,r+2*s));else if(3==o)for(s=0;s<i;s++)n.push(0xffffff&a.readUint(e,r+3*s-1));else if(1!=i)throw"unsupported offset size: "+o+", count: "+i;return(r+=i*o)-1},t.CFF.getCharString=function(e,r,n){var a=t._bin,i=e[r],o=e[r+1];e[r+2],e[r+3],e[r+4];var s=1,l=null,c=null;i<=20&&(l=i,s=1),12==i&&(l=100*i+o,s=2),21<=i&&i<=27&&(l=i,s=1),28==i&&(c=a.readShort(e,r+1),s=3),29<=i&&i<=31&&(l=i,s=1),32<=i&&i<=246&&(c=i-139,s=1),247<=i&&i<=250&&(c=256*(i-247)+o+108,s=2),251<=i&&i<=254&&(c=-(256*(i-251))-o-108,s=2),255==i&&(c=a.readInt(e,r+1)/65535,s=5),n.val=null!=c?c:"o"+l,n.size=s},t.CFF.readCharString=function(e,r,n){for(var a=r+n,i=t._bin,o=[];r<a;){var s=e[r],l=e[r+1];e[r+2],e[r+3],e[r+4];var c=1,d=null,u=null;s<=20&&(d=s,c=1),12==s&&(d=100*s+l,c=2),19!=s&&20!=s||(d=s,c=2),21<=s&&s<=27&&(d=s,c=1),28==s&&(u=i.readShort(e,r+1),c=3),29<=s&&s<=31&&(d=s,c=1),32<=s&&s<=246&&(u=s-139,c=1),247<=s&&s<=250&&(u=256*(s-247)+l+108,c=2),251<=s&&s<=254&&(u=-(256*(s-251))-l-108,c=2),255==s&&(u=i.readInt(e,r+1)/65535,c=5),o.push(null!=u?u:"o"+d),r+=c}return o},t.CFF.readDict=function(e,r,n){for(var a=t._bin,i={},o=[];r<n;){var s=e[r],l=e[r+1];e[r+2],e[r+3],e[r+4];var c=1,d=null,u=null;if(28==s&&(u=a.readShort(e,r+1),c=3),29==s&&(u=a.readInt(e,r+1),c=5),32<=s&&s<=246&&(u=s-139,c=1),247<=s&&s<=250&&(u=256*(s-247)+l+108,c=2),251<=s&&s<=254&&(u=-(256*(s-251))-l-108,c=2),255==s)throw u=a.readInt(e,r+1)/65535,c=5,"unknown number";if(30==s){var h=[];for(c=1;;){var f=e[r+c];c++;var p=f>>4,m=15&f;if(15!=p&&h.push(p),15!=m&&h.push(m),15==m)break}for(var v="",g=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],x=0;x<h.length;x++)v+=g[h[x]];u=parseFloat(v)}s<=21&&(d=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][s],c=1,12==s)&&(d=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][l],c=2),null!=d?(i[d]=1==o.length?o[0]:o,o=[]):o.push(u),r+=c}return i},t.cmap={},t.cmap.parse=function(e,r,n){e=new Uint8Array(e.buffer,r,n),r=0;var a=t._bin,i={};a.readUshort(e,r),r+=2;var o=a.readUshort(e,r);r+=2;var s=[];i.tables=[];for(var l=0;l<o;l++){var c=a.readUshort(e,r);r+=2;var d=a.readUshort(e,r);r+=2;var u=a.readUint(e,r);r+=4;var h="p"+c+"e"+d,f=s.indexOf(u);if(-1==f){f=i.tables.length,s.push(u);var p,m=a.readUshort(e,u);0==m?p=t.cmap.parse0(e,u):4==m?p=t.cmap.parse4(e,u):6==m?p=t.cmap.parse6(e,u):12==m?p=t.cmap.parse12(e,u):console.debug("unknown format: "+m,c,d,u),i.tables.push(p)}if(null!=i[h])throw"multiple tables for one platform+encoding";i[h]=f}return i},t.cmap.parse0=function(e,r){var n=t._bin,a={};a.format=n.readUshort(e,r),r+=2;var i=n.readUshort(e,r);r+=2,n.readUshort(e,r),r+=2,a.map=[];for(var o=0;o<i-6;o++)a.map.push(e[r+o]);return a},t.cmap.parse4=function(e,r){var n=t._bin,a=r,i={};i.format=n.readUshort(e,r),r+=2;var o=n.readUshort(e,r);r+=2,n.readUshort(e,r),r+=2;var s=n.readUshort(e,r);r+=2;var l=s/2;i.searchRange=n.readUshort(e,r),r+=2,i.entrySelector=n.readUshort(e,r),r+=2,i.rangeShift=n.readUshort(e,r),r+=2,i.endCount=n.readUshorts(e,r,l),r+=2*l,r+=2,i.startCount=n.readUshorts(e,r,l),r+=2*l,i.idDelta=[];for(var c=0;c<l;c++)i.idDelta.push(n.readShort(e,r)),r+=2;for(i.idRangeOffset=n.readUshorts(e,r,l),r+=2*l,i.glyphIdArray=[];r<a+o;)i.glyphIdArray.push(n.readUshort(e,r)),r+=2;return i},t.cmap.parse6=function(e,r){var n=t._bin,a={};a.format=n.readUshort(e,r),r+=2,n.readUshort(e,r),r+=2,n.readUshort(e,r),r+=2,a.firstCode=n.readUshort(e,r),r+=2;var i=n.readUshort(e,r);r+=2,a.glyphIdArray=[];for(var o=0;o<i;o++)a.glyphIdArray.push(n.readUshort(e,r)),r+=2;return a},t.cmap.parse12=function(e,r){var n=t._bin,a={};a.format=n.readUshort(e,r),r+=2,r+=2,n.readUint(e,r),r+=4,n.readUint(e,r),r+=4;var i=n.readUint(e,r);r+=4,a.groups=[];for(var o=0;o<i;o++){var s=r+12*o,l=n.readUint(e,s+0),c=n.readUint(e,s+4),d=n.readUint(e,s+8);a.groups.push([l,c,d])}return a},t.glyf={},t.glyf.parse=function(e,t,r,n){for(var a=[],i=0;i<n.maxp.numGlyphs;i++)a.push(null);return a},t.glyf._parseGlyf=function(e,r){var n,a=t._bin,i=e._data,o=t._tabOffset(i,"glyf",e._offset)+e.loca[r];if(e.loca[r]==e.loca[r+1])return null;var s={};if(s.noc=a.readShort(i,o),o+=2,s.xMin=a.readShort(i,o),o+=2,s.yMin=a.readShort(i,o),o+=2,s.xMax=a.readShort(i,o),o+=2,s.yMax=a.readShort(i,o),o+=2,s.xMin>=s.xMax||s.yMin>=s.yMax)return null;if(s.noc>0){s.endPts=[];for(var l=0;l<s.noc;l++)s.endPts.push(a.readUshort(i,o)),o+=2;var c=a.readUshort(i,o);if(o+=2,i.length-o<c)return null;s.instructions=a.readBytes(i,o,c),o+=c;var d=s.endPts[s.noc-1]+1;for(l=0,s.flags=[];l<d;l++){var u=i[o];if(o++,s.flags.push(u),0!=(8&u)){var h=i[o];o++;for(var f=0;f<h;f++)s.flags.push(u),l++}}for(l=0,s.xs=[];l<d;l++){var p=0!=(2&s.flags[l]),m=0!=(16&s.flags[l]);p?(s.xs.push(m?i[o]:-i[o]),o++):m?s.xs.push(0):(s.xs.push(a.readShort(i,o)),o+=2)}for(l=0,s.ys=[];l<d;l++)p=0!=(4&s.flags[l]),m=0!=(32&s.flags[l]),p?(s.ys.push(m?i[o]:-i[o]),o++):m?s.ys.push(0):(s.ys.push(a.readShort(i,o)),o+=2);var v=0,g=0;for(l=0;l<d;l++)v+=s.xs[l],g+=s.ys[l],s.xs[l]=v,s.ys[l]=g}else{s.parts=[];do{n=a.readUshort(i,o),o+=2;var x={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(s.parts.push(x),x.glyphIndex=a.readUshort(i,o),o+=2,1&n){var y=a.readShort(i,o);o+=2;var b=a.readShort(i,o);o+=2}else y=a.readInt8(i,o),o++,b=a.readInt8(i,o),o++;2&n?(x.m.tx=y,x.m.ty=b):(x.p1=y,x.p2=b),8&n?(x.m.a=x.m.d=a.readF2dot14(i,o),o+=2):64&n?(x.m.a=a.readF2dot14(i,o),o+=2,x.m.d=a.readF2dot14(i,o),o+=2):128&n&&(x.m.a=a.readF2dot14(i,o),o+=2,x.m.b=a.readF2dot14(i,o),o+=2,x.m.c=a.readF2dot14(i,o),o+=2,x.m.d=a.readF2dot14(i,o),o+=2)}while(32&n)if(256&n){var w=a.readUshort(i,o);for(o+=2,s.instr=[],l=0;l<w;l++)s.instr.push(i[o]),o++}}return s},t.GDEF={},t.GDEF.parse=function(e,r,n,a){var i=r;r+=4;var o=t._bin.readUshort(e,r);return{glyphClassDef:0===o?null:t._lctf.readClassDef(e,i+o)}},t.GPOS={},t.GPOS.parse=function(e,r,n,a){return t._lctf.parse(e,r,n,a,t.GPOS.subt)},t.GPOS.subt=function(e,r,n,a){var i=t._bin,o=n,s={};if(s.fmt=i.readUshort(e,n),n+=2,1==r||2==r||3==r||7==r||8==r&&s.fmt<=2){var l=i.readUshort(e,n);n+=2,s.coverage=t._lctf.readCoverage(e,l+o)}if(1==r&&1==s.fmt){var c=i.readUshort(e,n);n+=2,0!=c&&(s.pos=t.GPOS.readValueRecord(e,n,c))}else if(2==r&&s.fmt>=1&&s.fmt<=2){c=i.readUshort(e,n),n+=2;var d=i.readUshort(e,n);n+=2;var u=t._lctf.numOfOnes(c),h=t._lctf.numOfOnes(d);if(1==s.fmt){s.pairsets=[];var f=i.readUshort(e,n);n+=2;for(var p=0;p<f;p++){var m=o+i.readUshort(e,n);n+=2;var v=i.readUshort(e,m);m+=2;for(var g=[],x=0;x<v;x++){var y=i.readUshort(e,m);m+=2,0!=c&&(E=t.GPOS.readValueRecord(e,m,c),m+=2*u),0!=d&&(_=t.GPOS.readValueRecord(e,m,d),m+=2*h),g.push({gid2:y,val1:E,val2:_})}s.pairsets.push(g)}}if(2==s.fmt){var b=i.readUshort(e,n);n+=2;var w=i.readUshort(e,n);n+=2;var S=i.readUshort(e,n);n+=2;var k=i.readUshort(e,n);for(n+=2,s.classDef1=t._lctf.readClassDef(e,o+b),s.classDef2=t._lctf.readClassDef(e,o+w),s.matrix=[],p=0;p<S;p++){var j=[];for(x=0;x<k;x++){var E=null,_=null;0!=c&&(E=t.GPOS.readValueRecord(e,n,c),n+=2*u),0!=d&&(_=t.GPOS.readValueRecord(e,n,d),n+=2*h),j.push({val1:E,val2:_})}s.matrix.push(j)}}}else if(4==r&&1==s.fmt)s.markCoverage=t._lctf.readCoverage(e,i.readUshort(e,n)+o),s.baseCoverage=t._lctf.readCoverage(e,i.readUshort(e,n+2)+o),s.markClassCount=i.readUshort(e,n+4),s.markArray=t.GPOS.readMarkArray(e,i.readUshort(e,n+6)+o),s.baseArray=t.GPOS.readBaseArray(e,i.readUshort(e,n+8)+o,s.markClassCount);else if(6==r&&1==s.fmt)s.mark1Coverage=t._lctf.readCoverage(e,i.readUshort(e,n)+o),s.mark2Coverage=t._lctf.readCoverage(e,i.readUshort(e,n+2)+o),s.markClassCount=i.readUshort(e,n+4),s.mark1Array=t.GPOS.readMarkArray(e,i.readUshort(e,n+6)+o),s.mark2Array=t.GPOS.readBaseArray(e,i.readUshort(e,n+8)+o,s.markClassCount);else{if(9==r&&1==s.fmt){var T=i.readUshort(e,n);n+=2;var C=i.readUint(e,n);if(n+=4,9==a.ltype)a.ltype=T;else if(a.ltype!=T)throw"invalid extension substitution";return t.GPOS.subt(e,a.ltype,o+C)}console.debug("unsupported GPOS table LookupType",r,"format",s.fmt)}return s},t.GPOS.readValueRecord=function(e,r,n){var a=t._bin,i=[];return i.push(1&n?a.readShort(e,r):0),r+=1&n?2:0,i.push(2&n?a.readShort(e,r):0),r+=2&n?2:0,i.push(4&n?a.readShort(e,r):0),r+=4&n?2:0,i.push(8&n?a.readShort(e,r):0),r+=8&n?2:0,i},t.GPOS.readBaseArray=function(e,r,n){var a=t._bin,i=[],o=r,s=a.readUshort(e,r);r+=2;for(var l=0;l<s;l++){for(var c=[],d=0;d<n;d++)c.push(t.GPOS.readAnchorRecord(e,o+a.readUshort(e,r))),r+=2;i.push(c)}return i},t.GPOS.readMarkArray=function(e,r){var n=t._bin,a=[],i=r,o=n.readUshort(e,r);r+=2;for(var s=0;s<o;s++){var l=t.GPOS.readAnchorRecord(e,n.readUshort(e,r+2)+i);l.markClass=n.readUshort(e,r),a.push(l),r+=4}return a},t.GPOS.readAnchorRecord=function(e,r){var n=t._bin,a={};return a.fmt=n.readUshort(e,r),a.x=n.readShort(e,r+2),a.y=n.readShort(e,r+4),a},t.GSUB={},t.GSUB.parse=function(e,r,n,a){return t._lctf.parse(e,r,n,a,t.GSUB.subt)},t.GSUB.subt=function(e,r,n,a){var i=t._bin,o=n,s={};if(s.fmt=i.readUshort(e,n),n+=2,1!=r&&2!=r&&4!=r&&5!=r&&6!=r)return null;if(1==r||2==r||4==r||5==r&&s.fmt<=2||6==r&&s.fmt<=2){var l=i.readUshort(e,n);n+=2,s.coverage=t._lctf.readCoverage(e,o+l)}if(1==r&&s.fmt>=1&&s.fmt<=2){if(1==s.fmt)s.delta=i.readShort(e,n),n+=2;else if(2==s.fmt){var c=i.readUshort(e,n);n+=2,s.newg=i.readUshorts(e,n,c),n+=2*s.newg.length}}else if(2==r&&1==s.fmt){c=i.readUshort(e,n),n+=2,s.seqs=[];for(var d=0;d<c;d++){var u=i.readUshort(e,n)+o;n+=2;var h=i.readUshort(e,u);s.seqs.push(i.readUshorts(e,u+2,h))}}else if(4==r)for(s.vals=[],c=i.readUshort(e,n),n+=2,d=0;d<c;d++){var f=i.readUshort(e,n);n+=2,s.vals.push(t.GSUB.readLigatureSet(e,o+f))}else if(5==r&&2==s.fmt){if(2==s.fmt){var p=i.readUshort(e,n);n+=2,s.cDef=t._lctf.readClassDef(e,o+p),s.scset=[];var m=i.readUshort(e,n);for(n+=2,d=0;d<m;d++){var v=i.readUshort(e,n);n+=2,s.scset.push(0==v?null:t.GSUB.readSubClassSet(e,o+v))}}}else if(6==r&&3==s.fmt){if(3==s.fmt){for(d=0;d<3;d++){c=i.readUshort(e,n),n+=2;for(var g=[],x=0;x<c;x++)g.push(t._lctf.readCoverage(e,o+i.readUshort(e,n+2*x)));n+=2*c,0==d&&(s.backCvg=g),1==d&&(s.inptCvg=g),2==d&&(s.ahedCvg=g)}c=i.readUshort(e,n),n+=2,s.lookupRec=t.GSUB.readSubstLookupRecords(e,n,c)}}else{if(7==r&&1==s.fmt){var y=i.readUshort(e,n);n+=2;var b=i.readUint(e,n);if(n+=4,9==a.ltype)a.ltype=y;else if(a.ltype!=y)throw"invalid extension substitution";return t.GSUB.subt(e,a.ltype,o+b)}console.debug("unsupported GSUB table LookupType",r,"format",s.fmt)}return s},t.GSUB.readSubClassSet=function(e,r){var n=t._bin.readUshort,a=r,i=[],o=n(e,r);r+=2;for(var s=0;s<o;s++){var l=n(e,r);r+=2,i.push(t.GSUB.readSubClassRule(e,a+l))}return i},t.GSUB.readSubClassRule=function(e,r){var n=t._bin.readUshort,a={},i=n(e,r),o=n(e,r+=2);r+=2,a.input=[];for(var s=0;s<i-1;s++)a.input.push(n(e,r)),r+=2;return a.substLookupRecords=t.GSUB.readSubstLookupRecords(e,r,o),a},t.GSUB.readSubstLookupRecords=function(e,r,n){for(var a=t._bin.readUshort,i=[],o=0;o<n;o++)i.push(a(e,r),a(e,r+2)),r+=4;return i},t.GSUB.readChainSubClassSet=function(e,r){var n=t._bin,a=r,i=[],o=n.readUshort(e,r);r+=2;for(var s=0;s<o;s++){var l=n.readUshort(e,r);r+=2,i.push(t.GSUB.readChainSubClassRule(e,a+l))}return i},t.GSUB.readChainSubClassRule=function(e,r){for(var n=t._bin,a={},i=["backtrack","input","lookahead"],o=0;o<i.length;o++){var s=n.readUshort(e,r);r+=2,1==o&&s--,a[i[o]]=n.readUshorts(e,r,s),r+=2*a[i[o]].length}return s=n.readUshort(e,r),r+=2,a.subst=n.readUshorts(e,r,2*s),r+=2*a.subst.length,a},t.GSUB.readLigatureSet=function(e,r){var n=t._bin,a=r,i=[],o=n.readUshort(e,r);r+=2;for(var s=0;s<o;s++){var l=n.readUshort(e,r);r+=2,i.push(t.GSUB.readLigature(e,a+l))}return i},t.GSUB.readLigature=function(e,r){var n=t._bin,a={chain:[]};a.nglyph=n.readUshort(e,r),r+=2;var i=n.readUshort(e,r);r+=2;for(var o=0;o<i-1;o++)a.chain.push(n.readUshort(e,r)),r+=2;return a},t.head={},t.head.parse=function(e,r,n){var a=t._bin,i={};return a.readFixed(e,r),r+=4,i.fontRevision=a.readFixed(e,r),r+=4,a.readUint(e,r),r+=4,a.readUint(e,r),r+=4,i.flags=a.readUshort(e,r),r+=2,i.unitsPerEm=a.readUshort(e,r),r+=2,i.created=a.readUint64(e,r),r+=8,i.modified=a.readUint64(e,r),r+=8,i.xMin=a.readShort(e,r),r+=2,i.yMin=a.readShort(e,r),r+=2,i.xMax=a.readShort(e,r),r+=2,i.yMax=a.readShort(e,r),r+=2,i.macStyle=a.readUshort(e,r),r+=2,i.lowestRecPPEM=a.readUshort(e,r),r+=2,i.fontDirectionHint=a.readShort(e,r),r+=2,i.indexToLocFormat=a.readShort(e,r),r+=2,i.glyphDataFormat=a.readShort(e,r),r+=2,i},t.hhea={},t.hhea.parse=function(e,r,n){var a=t._bin,i={};return a.readFixed(e,r),r+=4,i.ascender=a.readShort(e,r),r+=2,i.descender=a.readShort(e,r),r+=2,i.lineGap=a.readShort(e,r),r+=2,i.advanceWidthMax=a.readUshort(e,r),r+=2,i.minLeftSideBearing=a.readShort(e,r),r+=2,i.minRightSideBearing=a.readShort(e,r),r+=2,i.xMaxExtent=a.readShort(e,r),r+=2,i.caretSlopeRise=a.readShort(e,r),r+=2,i.caretSlopeRun=a.readShort(e,r),r+=2,i.caretOffset=a.readShort(e,r),r+=2,r+=8,i.metricDataFormat=a.readShort(e,r),r+=2,i.numberOfHMetrics=a.readUshort(e,r),r+=2,i},t.hmtx={},t.hmtx.parse=function(e,r,n,a){for(var i=t._bin,o={aWidth:[],lsBearing:[]},s=0,l=0,c=0;c<a.maxp.numGlyphs;c++)c<a.hhea.numberOfHMetrics&&(s=i.readUshort(e,r),r+=2,l=i.readShort(e,r),r+=2),o.aWidth.push(s),o.lsBearing.push(l);return o},t.kern={},t.kern.parse=function(e,r,n,a){var i=t._bin,o=i.readUshort(e,r);if(r+=2,1==o)return t.kern.parseV1(e,r-2,n,a);var s=i.readUshort(e,r);r+=2;for(var l={glyph1:[],rval:[]},c=0;c<s;c++){r+=2,n=i.readUshort(e,r),r+=2;var d=i.readUshort(e,r);r+=2;var u=d>>>8;if(0!=(u&=15))throw"unknown kern table format: "+u;r=t.kern.readFormat0(e,r,l)}return l},t.kern.parseV1=function(e,r,n,a){var i=t._bin;i.readFixed(e,r),r+=4;var o=i.readUint(e,r);r+=4;for(var s={glyph1:[],rval:[]},l=0;l<o;l++){i.readUint(e,r),r+=4;var c=i.readUshort(e,r);r+=2,i.readUshort(e,r),r+=2;var d=c>>>8;if(0!=(d&=15))throw"unknown kern table format: "+d;r=t.kern.readFormat0(e,r,s)}return s},t.kern.readFormat0=function(e,r,n){var a=t._bin,i=-1,o=a.readUshort(e,r);r+=2,a.readUshort(e,r),r+=2,a.readUshort(e,r),r+=2,a.readUshort(e,r),r+=2;for(var s=0;s<o;s++){var l=a.readUshort(e,r);r+=2;var c=a.readUshort(e,r);r+=2;var d=a.readShort(e,r);r+=2,l!=i&&(n.glyph1.push(l),n.rval.push({glyph2:[],vals:[]}));var u=n.rval[n.rval.length-1];u.glyph2.push(c),u.vals.push(d),i=l}return r},t.loca={},t.loca.parse=function(e,r,n,a){var i=t._bin,o=[],s=a.head.indexToLocFormat,l=a.maxp.numGlyphs+1;if(0==s)for(var c=0;c<l;c++)o.push(i.readUshort(e,r+(c<<1))<<1);if(1==s)for(c=0;c<l;c++)o.push(i.readUint(e,r+(c<<2)));return o},t.maxp={},t.maxp.parse=function(e,r,n){var a=t._bin,i={},o=a.readUint(e,r);return r+=4,i.numGlyphs=a.readUshort(e,r),r+=2,65536==o&&(i.maxPoints=a.readUshort(e,r),r+=2,i.maxContours=a.readUshort(e,r),r+=2,i.maxCompositePoints=a.readUshort(e,r),r+=2,i.maxCompositeContours=a.readUshort(e,r),r+=2,i.maxZones=a.readUshort(e,r),r+=2,i.maxTwilightPoints=a.readUshort(e,r),r+=2,i.maxStorage=a.readUshort(e,r),r+=2,i.maxFunctionDefs=a.readUshort(e,r),r+=2,i.maxInstructionDefs=a.readUshort(e,r),r+=2,i.maxStackElements=a.readUshort(e,r),r+=2,i.maxSizeOfInstructions=a.readUshort(e,r),r+=2,i.maxComponentElements=a.readUshort(e,r),r+=2,i.maxComponentDepth=a.readUshort(e,r),r+=2),i},t.name={},t.name.parse=function(e,r,n){var a=t._bin,i={};a.readUshort(e,r),r+=2;var o=a.readUshort(e,r);r+=2,a.readUshort(e,r);for(var s,l=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],c=r+=2,d=0;d<o;d++){var u=a.readUshort(e,r);r+=2;var h=a.readUshort(e,r);r+=2;var f=a.readUshort(e,r);r+=2;var p=a.readUshort(e,r);r+=2;var m=a.readUshort(e,r);r+=2;var v=a.readUshort(e,r);r+=2;var g,x=l[p],y=c+12*o+v;if(0==u)g=a.readUnicode(e,y,m/2);else if(3==u&&0==h)g=a.readUnicode(e,y,m/2);else if(0==h)g=a.readASCII(e,y,m);else if(1==h)g=a.readUnicode(e,y,m/2);else if(3==h)g=a.readUnicode(e,y,m/2);else{if(1!=u)throw"unknown encoding "+h+", platformID: "+u;g=a.readASCII(e,y,m),console.debug("reading unknown MAC encoding "+h+" as ASCII")}var b="p"+u+","+f.toString(16);null==i[b]&&(i[b]={}),i[b][void 0!==x?x:p]=g,i[b]._lang=f}for(var w in i)if(null!=i[w].postScriptName&&1033==i[w]._lang)return i[w];for(var w in i)if(null!=i[w].postScriptName&&0==i[w]._lang)return i[w];for(var w in i)if(null!=i[w].postScriptName&&3084==i[w]._lang)return i[w];for(var w in i)if(null!=i[w].postScriptName)return i[w];for(var w in i){s=w;break}return console.debug("returning name table with languageID "+i[s]._lang),i[s]},t["OS/2"]={},t["OS/2"].parse=function(e,r,n){var a=t._bin.readUshort(e,r);r+=2;var i={};if(0==a)t["OS/2"].version0(e,r,i);else if(1==a)t["OS/2"].version1(e,r,i);else if(2==a||3==a||4==a)t["OS/2"].version2(e,r,i);else{if(5!=a)throw"unknown OS/2 table version: "+a;t["OS/2"].version5(e,r,i)}return i},t["OS/2"].version0=function(e,r,n){var a=t._bin;return n.xAvgCharWidth=a.readShort(e,r),r+=2,n.usWeightClass=a.readUshort(e,r),r+=2,n.usWidthClass=a.readUshort(e,r),r+=2,n.fsType=a.readUshort(e,r),r+=2,n.ySubscriptXSize=a.readShort(e,r),r+=2,n.ySubscriptYSize=a.readShort(e,r),r+=2,n.ySubscriptXOffset=a.readShort(e,r),r+=2,n.ySubscriptYOffset=a.readShort(e,r),r+=2,n.ySuperscriptXSize=a.readShort(e,r),r+=2,n.ySuperscriptYSize=a.readShort(e,r),r+=2,n.ySuperscriptXOffset=a.readShort(e,r),r+=2,n.ySuperscriptYOffset=a.readShort(e,r),r+=2,n.yStrikeoutSize=a.readShort(e,r),r+=2,n.yStrikeoutPosition=a.readShort(e,r),r+=2,n.sFamilyClass=a.readShort(e,r),r+=2,n.panose=a.readBytes(e,r,10),r+=10,n.ulUnicodeRange1=a.readUint(e,r),r+=4,n.ulUnicodeRange2=a.readUint(e,r),r+=4,n.ulUnicodeRange3=a.readUint(e,r),r+=4,n.ulUnicodeRange4=a.readUint(e,r),r+=4,n.achVendID=[a.readInt8(e,r),a.readInt8(e,r+1),a.readInt8(e,r+2),a.readInt8(e,r+3)],r+=4,n.fsSelection=a.readUshort(e,r),r+=2,n.usFirstCharIndex=a.readUshort(e,r),r+=2,n.usLastCharIndex=a.readUshort(e,r),r+=2,n.sTypoAscender=a.readShort(e,r),r+=2,n.sTypoDescender=a.readShort(e,r),r+=2,n.sTypoLineGap=a.readShort(e,r),r+=2,n.usWinAscent=a.readUshort(e,r),r+=2,n.usWinDescent=a.readUshort(e,r),r+=2},t["OS/2"].version1=function(e,r,n){var a=t._bin;return r=t["OS/2"].version0(e,r,n),n.ulCodePageRange1=a.readUint(e,r),r+=4,n.ulCodePageRange2=a.readUint(e,r),r+=4},t["OS/2"].version2=function(e,r,n){var a=t._bin;return r=t["OS/2"].version1(e,r,n),n.sxHeight=a.readShort(e,r),r+=2,n.sCapHeight=a.readShort(e,r),r+=2,n.usDefault=a.readUshort(e,r),r+=2,n.usBreak=a.readUshort(e,r),r+=2,n.usMaxContext=a.readUshort(e,r),r+=2},t["OS/2"].version5=function(e,r,n){var a=t._bin;return r=t["OS/2"].version2(e,r,n),n.usLowerOpticalPointSize=a.readUshort(e,r),r+=2,n.usUpperOpticalPointSize=a.readUshort(e,r),r+=2},t.post={},t.post.parse=function(e,r,n){var a=t._bin,i={};return i.version=a.readFixed(e,r),r+=4,i.italicAngle=a.readFixed(e,r),r+=4,i.underlinePosition=a.readShort(e,r),r+=2,i.underlineThickness=a.readShort(e,r),r+=2,i},null==t&&(t={}),null==t.U&&(t.U={}),t.U.codeToGlyph=function(e,t){var r=e.cmap,n=-1;if(null!=r.p0e4?n=r.p0e4:null!=r.p3e1?n=r.p3e1:null!=r.p1e0?n=r.p1e0:null!=r.p0e3&&(n=r.p0e3),-1==n)throw"no familiar platform and encoding!";var a=r.tables[n];if(0==a.format)return t>=a.map.length?0:a.map[t];if(4==a.format){for(var i=-1,o=0;o<a.endCount.length;o++)if(t<=a.endCount[o]){i=o;break}return -1==i||a.startCount[i]>t?0:65535&(0!=a.idRangeOffset[i]?a.glyphIdArray[t-a.startCount[i]+(a.idRangeOffset[i]>>1)-(a.idRangeOffset.length-i)]:t+a.idDelta[i])}if(12==a.format){if(t>a.groups[a.groups.length-1][1])return 0;for(o=0;o<a.groups.length;o++){var s=a.groups[o];if(s[0]<=t&&t<=s[1])return s[2]+(t-s[0])}return 0}throw"unknown cmap table format "+a.format},t.U.glyphToPath=function(e,r){var n={cmds:[],crds:[]};if(e.SVG&&e.SVG.entries[r]){var a=e.SVG.entries[r];return null==a?n:("string"==typeof a&&(a=t.SVG.toPath(a),e.SVG.entries[r]=a),a)}if(e.CFF){var i={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:e.CFF.Private?e.CFF.Private.defaultWidthX:0,open:!1},o=e.CFF,s=e.CFF.Private;if(o.ROS){for(var l=0;o.FDSelect[l+2]<=r;)l+=2;s=o.FDArray[o.FDSelect[l+1]].Private}t.U._drawCFF(e.CFF.CharStrings[r],i,o,s,n)}else e.glyf&&t.U._drawGlyf(r,e,n);return n},t.U._drawGlyf=function(e,r,n){var a=r.glyf[e];null==a&&(a=r.glyf[e]=t.glyf._parseGlyf(r,e)),null!=a&&(a.noc>-1?t.U._simpleGlyph(a,n):t.U._compoGlyph(a,r,n))},t.U._simpleGlyph=function(e,r){for(var n=0;n<e.noc;n++){for(var a=0==n?0:e.endPts[n-1]+1,i=e.endPts[n],o=a;o<=i;o++){var s=o==a?i:o-1,l=o==i?a:o+1,c=1&e.flags[o],d=1&e.flags[s],u=1&e.flags[l],h=e.xs[o],f=e.ys[o];if(o==a)if(c){if(!d){t.U.P.moveTo(r,h,f);continue}t.U.P.moveTo(r,e.xs[s],e.ys[s])}else d?t.U.P.moveTo(r,e.xs[s],e.ys[s]):t.U.P.moveTo(r,(e.xs[s]+h)/2,(e.ys[s]+f)/2);c?d&&t.U.P.lineTo(r,h,f):u?t.U.P.qcurveTo(r,h,f,e.xs[l],e.ys[l]):t.U.P.qcurveTo(r,h,f,(h+e.xs[l])/2,(f+e.ys[l])/2)}t.U.P.closePath(r)}},t.U._compoGlyph=function(e,r,n){for(var a=0;a<e.parts.length;a++){var i={cmds:[],crds:[]},o=e.parts[a];t.U._drawGlyf(o.glyphIndex,r,i);for(var s=o.m,l=0;l<i.crds.length;l+=2){var c=i.crds[l],d=i.crds[l+1];n.crds.push(c*s.a+d*s.b+s.tx),n.crds.push(c*s.c+d*s.d+s.ty)}for(l=0;l<i.cmds.length;l++)n.cmds.push(i.cmds[l])}},t.U._getGlyphClass=function(e,r){var n=t._lctf.getInterval(r,e);return -1==n?0:r[n+2]},t.U._applySubs=function(e,r,n,a){for(var i=e.length-r-1,o=0;o<n.tabs.length;o++)if(null!=n.tabs[o]){var s,l=n.tabs[o];if(!l.coverage||-1!=(s=t._lctf.coverageIndex(l.coverage,e[r]))){if(1==n.ltype)e[r],1==l.fmt?e[r]=e[r]+l.delta:e[r]=l.newg[s];else if(4==n.ltype)for(var c=l.vals[s],d=0;d<c.length;d++){var u=c[d],h=u.chain.length;if(!(h>i)){for(var f=!0,p=0,m=0;m<h;m++){for(;-1==e[r+p+(1+m)];)p++;u.chain[m]!=e[r+p+(1+m)]&&(f=!1)}if(f){for(m=0,e[r]=u.nglyph;m<h+p;m++)e[r+m+1]=-1;break}}}else if(5==n.ltype&&2==l.fmt)for(var v=t._lctf.getInterval(l.cDef,e[r]),g=l.cDef[v+2],x=l.scset[g],y=0;y<x.length;y++){var b=x[y],w=b.input;if(!(w.length>i)){for(f=!0,m=0;m<w.length;m++){var S=t._lctf.getInterval(l.cDef,e[r+1+m]);if(-1==v&&l.cDef[S+2]!=w[m]){f=!1;break}}if(f){var k=b.substLookupRecords;for(d=0;d<k.length;d+=2)k[d],k[d+1]}}}else if(6==n.ltype&&3==l.fmt){if(!t.U._glsCovered(e,l.backCvg,r-l.backCvg.length)||!t.U._glsCovered(e,l.inptCvg,r)||!t.U._glsCovered(e,l.ahedCvg,r+l.inptCvg.length))continue;var j=l.lookupRec;for(y=0;y<j.length;y+=2){v=j[y];var E=a[j[y+1]];t.U._applySubs(e,r+v,E,a)}}}}},t.U._glsCovered=function(e,r,n){for(var a=0;a<r.length;a++)if(-1==t._lctf.coverageIndex(r[a],e[n+a]))return!1;return!0},t.U.glyphsToPath=function(e,r,n){for(var a={cmds:[],crds:[]},i=0,o=0;o<r.length;o++){var s=r[o];if(-1!=s){for(var l=o<r.length-1&&-1!=r[o+1]?r[o+1]:0,c=t.U.glyphToPath(e,s),d=0;d<c.crds.length;d+=2)a.crds.push(c.crds[d]+i),a.crds.push(c.crds[d+1]);for(n&&a.cmds.push(n),d=0;d<c.cmds.length;d++)a.cmds.push(c.cmds[d]);n&&a.cmds.push("X"),i+=e.hmtx.aWidth[s],o<r.length-1&&(i+=t.U.getPairAdjustment(e,s,l))}}return a},t.U.P={},t.U.P.moveTo=function(e,t,r){e.cmds.push("M"),e.crds.push(t,r)},t.U.P.lineTo=function(e,t,r){e.cmds.push("L"),e.crds.push(t,r)},t.U.P.curveTo=function(e,t,r,n,a,i,o){e.cmds.push("C"),e.crds.push(t,r,n,a,i,o)},t.U.P.qcurveTo=function(e,t,r,n,a){e.cmds.push("Q"),e.crds.push(t,r,n,a)},t.U.P.closePath=function(e){e.cmds.push("Z")},t.U._drawCFF=function(e,r,n,a,i){for(var o=r.stack,s=r.nStems,l=r.haveWidth,c=r.width,d=r.open,u=0,h=r.x,f=r.y,p=0,m=0,v=0,g=0,x=0,y=0,b=0,w=0,S=0,k=0,j={val:0,size:0};u<e.length;){t.CFF.getCharString(e,u,j);var E=j.val;if(u+=j.size,"o1"==E||"o18"==E)o.length%2==0||l||(c=o.shift()+a.nominalWidthX),s+=o.length>>1,o.length=0,l=!0;else if("o3"==E||"o23"==E)o.length%2==0||l||(c=o.shift()+a.nominalWidthX),s+=o.length>>1,o.length=0,l=!0;else if("o4"==E)o.length>1&&!l&&(c=o.shift()+a.nominalWidthX,l=!0),d&&t.U.P.closePath(i),f+=o.pop(),t.U.P.moveTo(i,h,f),d=!0;else if("o5"==E)for(;o.length>0;)h+=o.shift(),f+=o.shift(),t.U.P.lineTo(i,h,f);else if("o6"==E||"o7"==E)for(var _=o.length,T="o6"==E,C=0;C<_;C++){var U=o.shift();T?h+=U:f+=U,T=!T,t.U.P.lineTo(i,h,f)}else if("o8"==E||"o24"==E){_=o.length;for(var N=0;N+6<=_;)p=h+o.shift(),m=f+o.shift(),v=p+o.shift(),g=m+o.shift(),h=v+o.shift(),f=g+o.shift(),t.U.P.curveTo(i,p,m,v,g,h,f),N+=6;"o24"==E&&(h+=o.shift(),f+=o.shift(),t.U.P.lineTo(i,h,f))}else{if("o11"==E)break;if("o1234"==E||"o1235"==E||"o1236"==E||"o1237"==E)"o1234"==E&&(m=f,v=(p=h+o.shift())+o.shift(),k=g=m+o.shift(),y=g,w=f,h=(b=(x=(S=v+o.shift())+o.shift())+o.shift())+o.shift(),t.U.P.curveTo(i,p,m,v,g,S,k),t.U.P.curveTo(i,x,y,b,w,h,f)),"o1235"==E&&(p=h+o.shift(),m=f+o.shift(),v=p+o.shift(),g=m+o.shift(),S=v+o.shift(),k=g+o.shift(),x=S+o.shift(),y=k+o.shift(),b=x+o.shift(),w=y+o.shift(),h=b+o.shift(),f=w+o.shift(),o.shift(),t.U.P.curveTo(i,p,m,v,g,S,k),t.U.P.curveTo(i,x,y,b,w,h,f)),"o1236"==E&&(p=h+o.shift(),m=f+o.shift(),v=p+o.shift(),k=g=m+o.shift(),y=g,b=(x=(S=v+o.shift())+o.shift())+o.shift(),w=y+o.shift(),h=b+o.shift(),t.U.P.curveTo(i,p,m,v,g,S,k),t.U.P.curveTo(i,x,y,b,w,h,f)),"o1237"==E&&(p=h+o.shift(),m=f+o.shift(),v=p+o.shift(),g=m+o.shift(),S=v+o.shift(),k=g+o.shift(),x=S+o.shift(),y=k+o.shift(),Math.abs((b=x+o.shift())-h)>Math.abs((w=y+o.shift())-f)?h=b+o.shift():f=w+o.shift(),t.U.P.curveTo(i,p,m,v,g,S,k),t.U.P.curveTo(i,x,y,b,w,h,f));else if("o14"==E){if(o.length>0&&!l&&(c=o.shift()+n.nominalWidthX,l=!0),4==o.length){var D=o.shift(),A=o.shift(),M=o.shift(),O=o.shift(),P=t.CFF.glyphBySE(n,M),F=t.CFF.glyphBySE(n,O);t.U._drawCFF(n.CharStrings[P],r,n,a,i),r.x=D,r.y=A,t.U._drawCFF(n.CharStrings[F],r,n,a,i)}d&&(t.U.P.closePath(i),d=!1)}else if("o19"==E||"o20"==E)o.length%2==0||l||(c=o.shift()+a.nominalWidthX),s+=o.length>>1,o.length=0,l=!0,u+=s+7>>3;else if("o21"==E)o.length>2&&!l&&(c=o.shift()+a.nominalWidthX,l=!0),f+=o.pop(),h+=o.pop(),d&&t.U.P.closePath(i),t.U.P.moveTo(i,h,f),d=!0;else if("o22"==E)o.length>1&&!l&&(c=o.shift()+a.nominalWidthX,l=!0),h+=o.pop(),d&&t.U.P.closePath(i),t.U.P.moveTo(i,h,f),d=!0;else if("o25"==E){for(;o.length>6;)h+=o.shift(),f+=o.shift(),t.U.P.lineTo(i,h,f);p=h+o.shift(),m=f+o.shift(),v=p+o.shift(),g=m+o.shift(),h=v+o.shift(),f=g+o.shift(),t.U.P.curveTo(i,p,m,v,g,h,f)}else if("o26"==E)for(o.length%2&&(h+=o.shift());o.length>0;)p=h,m=f+o.shift(),h=v=p+o.shift(),f=(g=m+o.shift())+o.shift(),t.U.P.curveTo(i,p,m,v,g,h,f);else if("o27"==E)for(o.length%2&&(f+=o.shift());o.length>0;)m=f,v=(p=h+o.shift())+o.shift(),g=m+o.shift(),h=v+o.shift(),f=g,t.U.P.curveTo(i,p,m,v,g,h,f);else if("o10"==E||"o29"==E){var R="o10"==E?a:n;if(0==o.length)console.debug("error: empty stack");else{var I=o.pop(),L=R.Subrs[I+R.Bias];r.x=h,r.y=f,r.nStems=s,r.haveWidth=l,r.width=c,r.open=d,t.U._drawCFF(L,r,n,a,i),h=r.x,f=r.y,s=r.nStems,l=r.haveWidth,c=r.width,d=r.open}}else if("o30"==E||"o31"==E){var B=o.length,z=(N=0,"o31"==E);for(N+=B-(_=-3&B);N<_;)z?(m=f,v=(p=h+o.shift())+o.shift(),f=(g=m+o.shift())+o.shift(),_-N==5?(h=v+o.shift(),N++):h=v,z=!1):(p=h,m=f+o.shift(),v=p+o.shift(),g=m+o.shift(),h=v+o.shift(),_-N==5?(f=g+o.shift(),N++):f=g,z=!0),t.U.P.curveTo(i,p,m,v,g,h,f),N+=4}else{if("o"==(E+"").charAt(0))throw console.debug("Unknown operation: "+E,e),E;o.push(E)}}}r.x=h,r.y=f,r.nStems=s,r.haveWidth=l,r.width=c,r.open=d},e.Typr=r=t,e.default={Typr:r},Object.defineProperty(e,"__esModule",{value:!0}),e).Typr},function(){return function(e){var t=Uint8Array,r=Uint16Array,n=Uint32Array,a=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),o=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(e,t){for(var a=new r(31),i=0;i<31;++i)a[i]=t+=1<<e[i-1];var o=new n(a[30]);for(i=1;i<30;++i)for(var s=a[i];s<a[i+1];++s)o[s]=s-a[i]<<5|i;return[a,o]},l=s(a,2),c=l[0],d=l[1];c[28]=258,d[258]=28;for(var u=s(i,0)[0],h=new r(32768),f=0;f<32768;++f){var p=(43690&f)>>>1|(21845&f)<<1;p=(61680&(p=(52428&p)>>>2|(13107&p)<<2))>>>4|(3855&p)<<4,h[f]=((65280&p)>>>8|(255&p)<<8)>>>1}var m=function(e,t,n){for(var a=e.length,i=0,o=new r(t);i<a;++i)++o[e[i]-1];var s,l=new r(t);for(i=0;i<t;++i)l[i]=l[i-1]+o[i-1]<<1;if(n){s=new r(1<<t);var c=15-t;for(i=0;i<a;++i)if(e[i])for(var d=i<<4|e[i],u=t-e[i],f=l[e[i]-1]++<<u,p=f|(1<<u)-1;f<=p;++f)s[h[f]>>>c]=d}else for(s=new r(a),i=0;i<a;++i)e[i]&&(s[i]=h[l[e[i]-1]++]>>>15-e[i]);return s},v=new t(288);for(f=0;f<144;++f)v[f]=8;for(f=144;f<256;++f)v[f]=9;for(f=256;f<280;++f)v[f]=7;for(f=280;f<288;++f)v[f]=8;var g=new t(32);for(f=0;f<32;++f)g[f]=5;var x=m(v,9,1),y=m(g,5,1),b=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},w=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(7&t)&r},S=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(7&t)},k=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],j=function(e,t,r){var n=Error(t||k[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,j),!r)throw n;return n},E=function(e,s,l){var d,h,f,p,v=e.length;if(!v||l&&!l.l&&v<5)return s||new t(0);var g=!s||l,k=!l||l.i;l||(l={}),s||(s=new t(3*v));var E,_=function(e){var r=s.length;if(e>r){var n=new t(Math.max(2*r,e));n.set(s),s=n}},T=l.f||0,C=l.p||0,U=l.b||0,N=l.l,D=l.d,A=l.m,M=l.n,O=8*v;do{if(!N){l.f=T=w(e,C,1);var P=w(e,C+1,3);if(C+=3,!P){var F=e[(X=((E=C)/8|0)+(7&E&&1)+4)-4]|e[X-3]<<8,R=X+F;if(R>v){k&&j(0);break}g&&_(U+F),s.set(e.subarray(X,R),U),l.b=U+=F,l.p=C=8*R;continue}if(1==P)N=x,D=y,A=9,M=5;else if(2==P){var I=w(e,C,31)+257,L=w(e,C+10,15)+4,B=I+w(e,C+5,31)+1;C+=14;for(var z=new t(B),G=new t(19),V=0;V<L;++V)G[o[V]]=w(e,C+3*V,7);C+=3*L;var W=b(G),$=(1<<W)-1,q=m(G,W,1);for(V=0;V<B;){var X,H=q[w(e,C,$)];if(C+=15&H,(X=H>>>4)<16)z[V++]=X;else{var Y=0,Z=0;for(16==X?(Z=3+w(e,C,3),C+=2,Y=z[V-1]):17==X?(Z=3+w(e,C,7),C+=3):18==X&&(Z=11+w(e,C,127),C+=7);Z--;)z[V++]=Y}}var K=z.subarray(0,I),Q=z.subarray(I);A=b(K),M=b(Q),N=m(K,A,1),D=m(Q,M,1)}else j(1);if(C>O){k&&j(0);break}}g&&_(U+131072);for(var J=(1<<A)-1,ee=(1<<M)-1,et=C;;et=C){var er=(Y=N[S(e,C)&J])>>>4;if((C+=15&Y)>O){k&&j(0);break}if(Y||j(2),er<256)s[U++]=er;else{if(256==er){et=C,N=null;break}var en=er-254;if(er>264){var ea=a[V=er-257];en=w(e,C,(1<<ea)-1)+c[V],C+=ea}var ei=D[S(e,C)&ee],eo=ei>>>4;if(ei||j(3),C+=15&ei,Q=u[eo],eo>3&&(ea=i[eo],Q+=S(e,C)&(1<<ea)-1,C+=ea),C>O){k&&j(0);break}g&&_(U+131072);for(var es=U+en;U<es;U+=4)s[U]=s[U-Q],s[U+1]=s[U+1-Q],s[U+2]=s[U+2-Q],s[U+3]=s[U+3-Q];U=es}}l.l=N,l.p=et,l.b=U,N&&(T=1,l.m=A,l.d=D,l.n=M)}while(!T)return U==s.length?s:(d=s,(h=0)<0&&(h=0),(null==(f=U)||f>d.length)&&(f=d.length),(p=new(d instanceof r?r:d instanceof n?n:t)(f-h)).set(d.subarray(h,f)),p)},_=new t(0),T="u">typeof TextDecoder&&new TextDecoder;try{T.decode(_,{stream:!0})}catch(e){}return e.convert_streams=function(e){var t=new DataView(e),r=0;function n(){var e=t.getUint16(r);return r+=2,e}function a(){var e=t.getUint32(r);return r+=4,e}function i(e){g.setUint16(x,e),x+=2}function o(e){g.setUint32(x,e),x+=4}for(var s={signature:a(),flavor:a(),length:a(),numTables:n(),reserved:n(),totalSfntSize:a(),majorVersion:n(),minorVersion:n(),metaOffset:a(),metaLength:a(),metaOrigLength:a(),privOffset:a(),privLength:a()},l=0;Math.pow(2,l)<=s.numTables;)l++;l--;for(var c=16*Math.pow(2,l),d=16*s.numTables-c,u=12,h=[],f=0;f<s.numTables;f++)h.push({tag:a(),offset:a(),compLength:a(),origLength:a(),origChecksum:a()}),u+=16;var p,m=new Uint8Array(12+16*h.length+h.reduce(function(e,t){return e+t.origLength+4},0)),v=m.buffer,g=new DataView(v),x=0;return o(s.flavor),i(s.numTables),i(c),i(l),i(d),h.forEach(function(e){o(e.tag),o(e.origChecksum),o(u),o(e.origLength),e.outOffset=u,(u+=e.origLength)%4!=0&&(u+=4-u%4)}),h.forEach(function(t){var r=e.slice(t.offset,t.offset+t.compLength);if(t.compLength!=t.origLength){var n=new Uint8Array(t.origLength);E(new Uint8Array(r,2),n)}else n=new Uint8Array(r);m.set(n,t.outOffset);var a=0;(u=t.outOffset+t.origLength)%4!=0&&(a=4-u%4),m.set(new Uint8Array(a).buffer,t.outOffset+t.origLength),p=u+a}),v.slice(0,p)},Object.defineProperty(e,"__esModule",{value:!0}),e}({}).convert_streams},function(e,t){let r,n={M:2,L:2,Q:4,C:6,Z:0},a={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},i=[null,"isol","init","fina","medi"];function o(t,r){let n=t.GDEF&&t.GDEF.glyphClassDef;return n?e.U._getGlyphClass(r,n):0}function s(...e){for(let t=0;t<e.length;t++)if("number"==typeof e[t])return e[t]}return function(l){var c;let d,u,h,f,p,m,v=new Uint8Array(l,0,4),g=e._bin.readASCII(v,0,4);if("wOFF"===g)l=t(l);else if("wOF2"===g)throw Error("woff2 fonts not supported");return c=e.parse(l)[0],d=Object.create(null),u=c["OS/2"],h=c.hhea,f=c.head.unitsPerEm,p=s(u&&u.sTypoAscender,h&&h.ascender,f),m={unitsPerEm:f,ascender:p,descender:s(u&&u.sTypoDescender,h&&h.descender,0),capHeight:s(u&&u.sCapHeight,p),xHeight:s(u&&u.sxHeight,p),lineGap:s(u&&u.sTypoLineGap,h&&h.lineGap),supportsCodePoint:t=>e.U.codeToGlyph(c,t)>0,forEachGlyph(t,s,l,u){let h=0,f=1/m.unitsPerEm*s,p=function(t,n){let o=[];for(let r=0;r<n.length;r++){let a=n.codePointAt(r);a>65535&&r++,o.push(e.U.codeToGlyph(t,a))}let s=t.GSUB;if(s){let t,{lookupList:l,featureList:c}=s,d=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws|ccmp)$/,u=[];c.forEach(s=>{if(d.test(s.tag))for(let c=0;c<s.tab.length;c++){if(u[s.tab[c]])continue;u[s.tab[c]]=!0;let d=l[s.tab[c]],h=/^(isol|init|fina|medi)$/.test(s.tag);h&&!t&&(t=function(e){let t=new Uint8Array(e.length),n=32,i=1,o=-1;for(let s=0;s<e.length;s++){let l=e.codePointAt(s),c=0|function(e){if(!r){let e={R:2,L:1,D:4,C:16,U:32,T:8};for(let t in r=new Map,a){let n=0;a[t].split(",").forEach(a=>{let[i,o]=a.split("+");i=parseInt(i,36),o=o?parseInt(o,36):0,r.set(n+=i,e[t]);for(let a=o;a--;)r.set(++n,e[t])})}}return r.get(e)||32}(l),d=1;!(8&c)&&(21&n?22&c?(d=3,(1===i||3===i)&&t[o]++):33&c&&(2===i||4===i)&&t[o]--:34&n&&(2===i||4===i)&&t[o]--,i=t[s]=d,n=c,o=s,l>65535&&s++)}return t}(n));for(let r=0;r<o.length;r++)t&&h&&i[t[r]]!==s.tag||e.U._applySubs(o,r,d,l)}})}return o}(c,t),v=0,g=function(t,r){let n=new Int16Array(3*r.length),a=0;for(;a<r.length;a++){let c=r[a];if(-1===c)continue;n[3*a+2]=t.hmtx.aWidth[c];let d=t.GPOS;if(d){let u=d.lookupList;for(let d=0;d<u.length;d++){let h=u[d];for(let d=0;d<h.tabs.length;d++){let u=h.tabs[d];if(1===h.ltype){if(-1!==e._lctf.coverageIndex(u.coverage,c)&&u.pos){l(u.pos,a);break}}else if(2===h.ltype){let t=null,n=i();if(-1!==n){let i=e._lctf.coverageIndex(u.coverage,r[n]);if(-1!==i){if(1===u.fmt){let e=u.pairsets[i];for(let r=0;r<e.length;r++)e[r].gid2===c&&(t=e[r])}else if(2===u.fmt){let a=e.U._getGlyphClass(r[n],u.classDef1),i=e.U._getGlyphClass(c,u.classDef2);t=u.matrix[a][i]}if(t){t.val1&&l(t.val1,n),t.val2&&l(t.val2,a);break}}}}else if(4===h.ltype){let t=e._lctf.coverageIndex(u.markCoverage,c);if(-1!==t){let o=i(s),l=-1===o?-1:e._lctf.coverageIndex(u.baseCoverage,r[o]);if(-1!==l){let e=u.markArray[t],r=u.baseArray[l][e.markClass];n[3*a]=r.x-e.x+n[3*o]-n[3*o+2],n[3*a+1]=r.y-e.y+n[3*o+1];break}}}else if(6===h.ltype){let s=e._lctf.coverageIndex(u.mark1Coverage,c);if(-1!==s){let l=i();if(-1!==l){let i=r[l];if(3===o(t,i)){let t=e._lctf.coverageIndex(u.mark2Coverage,i);if(-1!==t){let e=u.mark1Array[s],r=u.mark2Array[t][e.markClass];n[3*a]=r.x-e.x+n[3*l]-n[3*l+2],n[3*a+1]=r.y-e.y+n[3*l+1];break}}}}}}}}else if(t.kern&&!t.cff){let e=i();if(-1!==e){let a=t.kern.glyph1.indexOf(r[e]);if(-1!==a){let r=t.kern.rval[a].glyph2.indexOf(c);-1!==r&&(n[3*e+2]+=t.kern.rval[a].vals[r])}}}}return n;function i(e){for(let t=a-1;t>=0;t--)if(-1!==r[t]&&(!e||e(r[t])))return t;return -1}function s(e){return 1===o(t,e)}function l(e,t){for(let r=0;r<3;r++)n[3*t+r]+=e[r]||0}}(c,p);return p.forEach((r,a)=>{if(-1!==r){let t=d[r];if(!t){let a,i,o,s,{cmds:l,crds:u}=e.U.glyphToPath(c,r),h="",f=0;for(let e=0,t=l.length;e<t;e++){let t=n[l[e]];h+=l[e];for(let e=1;e<=t;e++)h+=(e>1?",":"")+u[f++]}if(u.length){a=i=1/0,o=s=-1/0;for(let e=0,t=u.length;e<t;e+=2){let t=u[e],r=u[e+1];t<a&&(a=t),r<i&&(i=r),t>o&&(o=t),r>s&&(s=r)}}else a=o=i=s=0;t=d[r]={index:r,advanceWidth:c.hmtx.aWidth[r],xMin:a,yMin:i,xMax:o,yMax:s,path:h}}u.call(null,t,h+g[3*a]*f,g[3*a+1]*f,v),h+=g[3*a+2]*f,l&&(h+=l*s)}v+=t.codePointAt(v)>65535?2:1}),h}}}}],init:(e,t,r)=>r(e(),t())}),eh=L({name:"FontResolver",dependencies:[function(e,t){let r=Object.create(null),n=Object.create(null);function a(t,a){let i=r[t];if(i)a(i);else if(n[t])n[t].push(a);else{n[t]=[a];let i=e=>{console.error(`Failure loading font ${t}`,e)};try{let a=new XMLHttpRequest;a.open("get",t,!0),a.responseType="arraybuffer",a.onload=function(){if(a.status>=400)i(Error(a.statusText));else if(a.status>0)try{var o;let i=e(a.response);i.src=t,(o=i).src=t,r[t]=o,n[t].forEach(e=>e(o)),delete n[t]}catch(e){i(e)}},a.onerror=i,a.send()}catch(e){i(e)}}}return function(e,n,{lang:i,fonts:o=[],style:s="normal",weight:l="normal",unicodeFontsURL:c}={}){let d=new Uint8Array(e.length),u=[];e.length||m();let h=new Map,f=[];if("italic"!==s&&(s="normal"),"number"!=typeof l&&(l="bold"===l?700:400),o&&!Array.isArray(o)&&(o=[o]),(o=o.slice().filter(e=>!e.lang||e.lang.test(i)).reverse()).length){let t=0;!function n(i=0){for(let s=i,l=e.length;s<l;s++){let i=e.codePointAt(s);if(1===t&&u[d[s-1]].supportsCodePoint(i)||s>0&&/\s/.test(e[s]))d[s]=d[s-1],2===t&&(f[f.length-1][1]=s);else for(let e=d[s],l=o.length;e<=l;e++)if(e===l)(2===t?f[f.length-1]:f[f.length]=[s,s])[1]=s,t=2;else{d[s]=e;let{src:l,unicodeRange:c}=o[e];if(!c||function(e,t){for(let r=0;r<t.length;r++){let[n,a=n]=t[r];if(n<=e&&e<=a)return!0}return!1}(i,c)){let e=r[l];if(!e)return void a(l,()=>{n(s)});if(e.supportsCodePoint(i)){let r=h.get(e);"number"!=typeof r&&(r=u.length,u.push(e),h.set(e,r)),d[s]=r,t=1;break}}}i>65535&&s+1<l&&(d[s+1]=d[s],s++,2===t&&(f[f.length-1][1]=s))}p()}()}else f.push([0,e.length-1]),p();function p(){if(f.length){let r=f.map(t=>e.substring(t[0],t[1]+1)).join("\n");t.getFontsForString(r,{lang:i||void 0,style:s,weight:l,dataUrl:c}).then(({fontUrls:e,chars:t})=>{let r=u.length,n=0;f.forEach(e=>{for(let a=0,i=e[1]-e[0];a<=i;a++)d[e[0]+a]=t[n++]+r;n++});let i=0;e.forEach((t,n)=>{a(t,t=>{u[n+r]=t,++i===e.length&&m()})})})}else m()}function m(){n({chars:d,fonts:u})}}},eu,function(){return function(e){var t=function(){this.buckets=new Map};t.prototype.add=function(e){var t=e>>5;this.buckets.set(t,(this.buckets.get(t)||0)|1<<(31&e))},t.prototype.has=function(e){var t=this.buckets.get(e>>5);return void 0!==t&&0!=(t&1<<(31&e))},t.prototype.serialize=function(){var e=[];return this.buckets.forEach(function(t,r){e.push((+r).toString(36)+":"+t.toString(36))}),e.join(",")},t.prototype.deserialize=function(e){var t=this;this.buckets.clear(),e.split(",").forEach(function(e){var r=e.split(":");t.buckets.set(parseInt(r[0],36),parseInt(r[1],36))})};function r(e,t){var r=255&e,n=t.codePointAt(r/6|0);return 0!=((n=(n||48)-48)&1<<r%6)}function n(e,t){e.replace(/U\+/gi,"").replace(/^,+|,+$/g,"").split(/,+/).map(function(e){return e.split("-").map(function(e){return parseInt(e.trim(),16)})}).forEach(function(e){var r=e[0],n=e[1];void 0===n&&(n=r),function(e,r){for(var n=e;n<=r;n++)t(n)}(r,n)})}var a,i={},o={},s=new WeakMap,l="https://cdn.jsdelivr.net/gh/lojjic/unicode-font-resolver@v1.0.1/packages/data",c=new Map;function d(e,t,r){return e[t]?t:e[r]?r:function(e){for(var t in e)return t}(e)}return e.CodePointSet=t,e.clearCache=function(){i={},o={}},e.getFontsForString=function(e,u){void 0===u&&(u={});var h=u.lang;void 0===h&&(h=/\p{Script=Hangul}/u.test(e)?"ko":/\p{Script=Hiragana}|\p{Script=Katakana}/u.test(e)?"ja":"en");var f=u.category;void 0===f&&(f="sans-serif");var p=u.style;void 0===p&&(p="normal");var m=u.weight;void 0===m&&(m=400);var v=(u.dataUrl||l).replace(/\/$/g,""),g=new Map,x=new Uint8Array(e.length),y={},b={},w=Array(e.length),S=new Map,k=!1;function j(e){var t=c.get(e);return t||(t=fetch(v+"/"+e).then(function(e){if(!e.ok)throw Error(e.statusText);return e.json().then(function(e){if(!Array.isArray(e)||1!==e[0])throw Error("Incorrect schema version; need 1, got "+e[0]);return e[1]})}).catch(function(t){if(v!==l)return k||(console.error('unicode-font-resolver: Failed loading from dataUrl "'+v+'", trying default CDN. '+t.message),k=!0),v=l,c.delete(e),j(e);throw t}),c.set(e,t)),t}for(var E=0;E<e.length;E++)!function(t){var r=e.codePointAt(t),n=function(e){var t=(-256&e).toString(16),r=((-256&e)+256-1).toString(16);return"codepoint-index/plane"+(e>>16)+"/"+t+"-"+r+".json"}(r);w[t]=n,i[n]||S.has(n)||S.set(n,j(n).then(function(e){i[n]=e})),r>65535&&(E=++t)}(E);return Promise.all(S.values()).then(function(){S.clear();for(var t=0;t<e.length;t++)!function(n){var a=e.codePointAt(n),s=null,l=i[w[n]],c=void 0;for(var d in l){var u=b[d];if(void 0===u&&(u=b[d]=new RegExp(d).test(h||"en")),u){for(var f in c=d,l[d])if(r(a,l[d][f])){s=f;break}break}}if(!s){e:for(var p in l)if(p!==c){for(var m in l[p])if(r(a,l[p][m])){s=m;break e}}}s||(console.debug("No font coverage for U+"+a.toString(16)),s="latin"),w[n]=s,o[s]||S.has(s)||S.set(s,j("font-meta/"+s+".json").then(function(e){o[s]=e})),a>65535&&(t=++n)}(t);return Promise.all(S.values())}).then(function(){for(var r,i=null,l=0;l<e.length;l++){var c=e.codePointAt(l);if(i&&(a||(a=new Set,n("9-D,20,85,A0,1680,2000-200A,2028-202F,205F,3000",function(e){a.add(e)})),a.has(c)||(function(e){var r=s.get(e);return r||(r=new t,n(e.ranges,function(e){return r.add(e)}),s.set(e,r)),r})(i).has(c)))x[l]=x[l-1];else{var u=y[(i=o[w[l]]).id];if(!u){var h=i.typeforms,b=d(h,f,"sans-serif"),S=d(h[b],p,"normal"),k=function(e,t){var r=t;if(!e.includes(r)){r=1/0;for(var n=0;n<e.length;n++)Math.abs(e[n]-t)<Math.abs(r-t)&&(r=e[n])}return r}(null==(r=h[b])?void 0:r[S],m);u=y[i.id]=v+"/font-files/"+i.id+"/"+b+"."+S+"."+k+".woff"}var j=g.get(u);null==j&&(j=g.size,g.set(u,j)),x[l]=j}c>65535&&(x[++l]=x[l-1])}return{fontUrls:Array.from(g.keys()),chars:x}})},Object.defineProperty(e,"__esModule",{value:!0}),e}({})}],init:(e,t,r)=>e(t,r())}),ef=()=>(self.performance||Date).now(),ep=G(),em=[],ev=0;function eg(){let e=ef();for(;em.length&&ef()-e<5;)em.shift()();ev=em.length?setTimeout(eg,0):0}let ex={},ey=0;function eb(e,t,r,n,a,i,o,s,l,c){let d="TroikaTextSDFGenerator_JS_"+ey++%4,u=ex[d];return u||(u=ex[d]={workerModule:L({name:d,workerId:d,dependencies:[G,ef],init(e,t){let r=e().javascript.generate;return function(...e){let n=t();return{textureData:r(...e),timing:t()-n}}},getTransferables:e=>[e.textureData.buffer]}),requests:0,idleTimer:null}),u.requests++,clearTimeout(u.idleTimer),u.workerModule(e,t,r,n,a,i).then(({textureData:r,timing:n})=>{let a=ef(),i=new Uint8Array(4*r.length);for(let e=0;e<r.length;e++)i[4*e+c]=r[e];return ep.webglUtils.renderImageData(o,i,s,l,e,t,1<<3-c),n+=ef()-a,0==--u.requests&&(u.idleTimer=setTimeout(()=>{R[d]&&R[d].forEach(function(e){e()}),F[d]&&(F[d].terminate(),delete F[d])},2e3)),{timing:n}})}let ew=ep.webglUtils.resizeWebGLCanvasWithoutClearing,eS={defaultFontURL:null,unicodeFontsURL:null,sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048,useWorker:!0},ek=new N.Color;function ej(){return(self.performance||Date).now()}let eE=Object.create(null);function e_(e,t){e=function(e,t){for(let r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}({},e);let r=ej(),{defaultFontURL:n}=eS,a=[];if(n&&a.push({label:"default",src:eC(n)}),e.font&&a.push({label:"user",src:eC(e.font)}),e.font=a,e.text=""+e.text,e.sdfGlyphSize=e.sdfGlyphSize||eS.sdfGlyphSize,e.unicodeFontsURL=e.unicodeFontsURL||eS.unicodeFontsURL,null!=e.colorRanges){let t={};for(let r in e.colorRanges)if(e.colorRanges.hasOwnProperty(r)){let n=e.colorRanges[r];"number"!=typeof n&&(n=ek.set(n).getHex()),t[r]=n}e.colorRanges=t}Object.freeze(e);let{textureWidth:i,sdfExponent:o}=eS,{sdfGlyphSize:s}=e,l=i/s*4,c=eE[s];if(!c){var d;let e,t=document.createElement("canvas");t.width=i,t.height=256*s/l,(c=eE[s]={glyphCount:0,sdfGlyphSize:s,sdfCanvas:t,sdfTexture:new N.Texture(t,void 0,void 0,void 0,N.LinearFilter,N.LinearFilter),contextLost:!1,glyphsByFont:new Map}).sdfTexture.generateMipmaps=!1,(e=(d=c).sdfCanvas).addEventListener("webglcontextlost",e=>{console.log("Context Lost",e),e.preventDefault(),d.contextLost=!0}),e.addEventListener("webglcontextrestored",e=>{console.log("Context Restored",e),d.contextLost=!1;let t=[];d.glyphsByFont.forEach(e=>{e.forEach(e=>{t.push(eT(e,d,!0))})}),Promise.all(t).then(()=>{eU(d),d.sdfTexture.needsUpdate=!0})})}let{sdfTexture:u,sdfCanvas:h}=c;(eS.useWorker?eD:eA)(e).then(n=>{let{glyphIds:a,glyphFontIndices:d,fontData:f,glyphPositions:p,fontSize:m,timings:v}=n,g=[],x=new Float32Array(4*a.length),y=0,b=0,w=ej(),S=f.map(e=>{let t=c.glyphsByFont.get(e.src);return t||c.glyphsByFont.set(e.src,t=new Map),t});a.forEach((e,t)=>{let r=d[t],{src:i,unitsPerEm:o}=f[r],l=S[r].get(e);if(!l){let{path:t,pathBounds:a}=n.glyphData[i][e],o=Math.max(a[2]-a[0],a[3]-a[1])/s*(eS.sdfMargin*s+.5),d=c.glyphCount++,u=[a[0]-o,a[1]-o,a[2]+o,a[3]+o];S[r].set(e,l={path:t,atlasIndex:d,sdfViewBox:u}),g.push(l)}let{sdfViewBox:u}=l,h=p[b++],v=p[b++],w=m/o;x[y++]=h+u[0]*w,x[y++]=v+u[1]*w,x[y++]=h+u[2]*w,x[y++]=v+u[3]*w,a[t]=l.atlasIndex}),v.quads=(v.quads||0)+(ej()-w);let k=ej();v.sdf={};let j=h.height,E=Math.pow(2,Math.ceil(Math.log2(Math.ceil(c.glyphCount/l)*s)));E>j&&(console.info(`Increasing SDF texture size ${j}->${E}`),ew(h,i,E),u.dispose()),Promise.all(g.map(t=>eT(t,c,e.gpuAccelerateSDF).then(({timing:e})=>{v.sdf[t.atlasIndex]=e}))).then(()=>{g.length&&!c.contextLost&&(eU(c),u.needsUpdate=!0),v.sdfTotal=ej()-k,v.total=ej()-r,t(Object.freeze({parameters:e,sdfTexture:u,sdfGlyphSize:s,sdfExponent:o,glyphBounds:x,glyphAtlasIndices:a,glyphColors:n.glyphColors,caretPositions:n.caretPositions,chunkedBounds:n.chunkedBounds,ascender:n.ascender,descender:n.descender,lineHeight:n.lineHeight,capHeight:n.capHeight,xHeight:n.xHeight,topBaseline:n.topBaseline,blockBounds:n.blockBounds,visibleBounds:n.visibleBounds,timings:n.timings}))})}),Promise.resolve().then(()=>{!c.contextLost&&(h._warm||(ep.webgl.isSupported(h),h._warm=!0))})}function eT({path:e,atlasIndex:r,sdfViewBox:n},{sdfGlyphSize:a,sdfCanvas:i,contextLost:o},s){if(o)return Promise.resolve({timing:-1});let{textureWidth:l,sdfExponent:c}=eS,d=Math.max(n[2]-n[0],n[3]-n[1]),u=Math.floor(r/4),h=u%(l/a)*a,f=Math.floor(u/(l/a))*a;return function(e,r,n,a,i,o,s,l,c,d,u=!0){return u?((...e)=>new Promise((t,r)=>{em.push(()=>{let n=ef();try{ep.webgl.generateIntoCanvas(...e),t({timing:ef()-n})}catch(e){r(e)}}),ev||(ev=setTimeout(eg,0))}))(e,r,n,a,i,o,s,l,c,d).then(null,u=>(t||(console.warn("WebGL SDF generation failed, falling back to JS",u),t=!0),eb(e,r,n,a,i,o,s,l,c,d))):eb(e,r,n,a,i,o,s,l,c,d)}(a,a,e,n,d,c,i,h,f,r%4,s)}function eC(e){return r||(r="u"<typeof document?{}:document.createElement("a")),r.href=e,r.href}function eU(e){if("function"!=typeof createImageBitmap){console.info("Safari<15: applying SDF canvas workaround");let{sdfCanvas:t,sdfTexture:r}=e,{width:n,height:a}=t,i=e.sdfCanvas.getContext("webgl"),o=r.image.data;o&&o.length===n*a*4||(o=new Uint8Array(n*a*4),r.image={width:n,height:a,data:o},r.flipY=!1,r.isDataTexture=!0),i.readPixels(0,0,n,a,i.RGBA,i.UNSIGNED_BYTE,o)}}let eN=L({name:"Typesetter",dependencies:[function(e,t){let r=1/0,n=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,a=`[^\\S\\u00A0]`,i=RegExp(`${a}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function o({text:o="",font:u,lang:h,sdfGlyphSize:f=64,fontSize:p=400,fontWeight:m=1,fontStyle:v="normal",letterSpacing:g=0,lineHeight:x="normal",maxWidth:y=r,direction:b,textAlign:w="left",textIndent:S=0,whiteSpace:k="normal",overflowWrap:j="normal",anchorX:E=0,anchorY:_=0,metricsOnly:T=!1,unicodeFontsURL:C,preResolvedFonts:U=null,includeCaretPositions:N=!1,chunkedBoundsSize:D=8192,colorRanges:A=null},M){let O=c(),P={fontLoad:0,typesetting:0};o.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),o=o.replace(/\r\n/g,"\n").replace(/\r/g,"\n")),p*=1,g*=1,y*=1,x=x||"normal",S*=1,function({text:t,lang:r,fonts:n,style:a,weight:i,preResolvedFonts:o,unicodeFontsURL:s},l){let c=({chars:e,fonts:t})=>{let r,n,a=[];for(let i=0;i<e.length;i++)e[i]!==n?(n=e[i],a.push(r={start:i,end:i,fontObj:t[e[i]]})):r.end=i;l(a)};o?c(o):e(t,c,{lang:r,fonts:n,style:a,weight:i,unicodeFontsURL:s})}({text:o,lang:h,style:v,weight:m,fonts:"string"==typeof u?[{src:u}]:u,unicodeFontsURL:C,preResolvedFonts:U},e=>{P.fontLoad=c()-O;let u=isFinite(y),h=null,f=null,m=null,v=null,C=null,U=null,F=null,R=null,I=0,L=0,B="nowrap"!==k,z=new Map,G=c(),V=S,W=0,$=new d,q=[$];e.forEach(e=>{let t,r,{fontObj:s}=e,{ascender:l,descender:c,unitsPerEm:h,lineGap:f,capHeight:m,xHeight:v}=s,b=z.get(s);if(!b){let e=p/h,t="normal"===x?(l-c+f)*e:x*p,r=(t-(l-c)*e)/2,n=Math.min(t,(l-c)*e),a=(l+c)/2*e+n/2;b={index:z.size,src:s.src,fontObj:s,fontSizeMult:e,unitsPerEm:h,ascender:l*e,descender:c*e,capHeight:m*e,xHeight:v*e,lineHeight:t,baseline:-r-l*e,caretTop:a,caretBottom:a-n},z.set(s,b)}let{fontSizeMult:w}=b,k=o.slice(e.start,e.end+1);s.forEachGlyph(k,p,g,(s,l,c,h)=>{let f;l+=W,h+=e.start,t=l,r=s;let m=o.charAt(h),v=s.advanceWidth*w,x=$.count;if("isEmpty"in s||(s.isWhitespace=!!m&&new RegExp(a).test(m),s.canBreakAfter=!!m&&i.test(m),s.isEmpty=s.xMin===s.xMax||s.yMin===s.yMax||n.test(m)),!s.isWhitespace&&!s.isEmpty&&L++,B&&u&&!s.isWhitespace&&l+v+V>y&&x){if($.glyphAt(x-1).glyphObj.canBreakAfter)f=new d,V=-l;else for(let e=x;e--;)if(0===e&&"break-word"===j){f=new d,V=-l;break}else if($.glyphAt(e).glyphObj.canBreakAfter){let t=(f=$.splitAt(e+1)).glyphAt(0).x;V-=t;for(let e=f.count;e--;)f.glyphAt(e).x-=t;break}f&&($.isSoftWrapped=!0,$=f,q.push($),I=y)}let k=$.glyphAt($.count);k.glyphObj=s,k.x=l+V,k.y=c,k.width=v,k.charIndex=h,k.fontData=b,"\n"===m&&($=new d,q.push($),V=-(l+v+g*p)+S)}),W=t+r.advanceWidth*w+g*p});let X=0;q.forEach(e=>{let t=!0;for(let r=e.count;r--;){let n=e.glyphAt(r);t&&!n.glyphObj.isWhitespace&&(e.width=n.x+n.width,e.width>I&&(I=e.width),t=!1);let{lineHeight:a,capHeight:i,xHeight:o,baseline:s}=n.fontData;a>e.lineHeight&&(e.lineHeight=a);let l=s-e.baseline;l<0&&(e.baseline+=l,e.cap+=l,e.ex+=l),e.cap=Math.max(e.cap,e.baseline+i),e.ex=Math.max(e.ex,e.baseline+o)}e.baseline-=X,e.cap-=X,e.ex-=X,X+=e.lineHeight});let H=0,Y=0;if(E&&("number"==typeof E?H=-E:"string"==typeof E&&(H=-I*("left"===E?0:"center"===E?.5:"right"===E?1:s(E)))),_&&("number"==typeof _?Y=-_:"string"==typeof _&&(Y="top"===_?0:"top-baseline"===_?-q[0].baseline:"top-cap"===_?-q[0].cap:"top-ex"===_?-q[0].ex:"middle"===_?X/2:"bottom"===_?X:"bottom-baseline"===_?-q[q.length-1].baseline:s(_)*X)),!T){let e,n,a=t.getEmbeddingLevels(o,b);h=new Uint16Array(L),f=new Uint8Array(L),m=new Float32Array(2*L),v={},F=[r,r,-r,-r],R=[],N&&(U=new Float32Array(4*o.length)),A&&(C=new Uint8Array(3*L));let i=0,s=-1,c=-1;if(q.forEach((d,u)=>{let{count:p,width:g}=d;if(p>0){let u,x=0;for(let e=p;e--&&d.glyphAt(e).glyphObj.isWhitespace;)x++;let y=0,b=0;if("center"===w)y=(I-g)/2;else if("right"===w)y=I-g;else if("justify"===w&&d.isSoftWrapped){let e=0;for(let t=p-x;t--;)d.glyphAt(t).glyphObj.isWhitespace&&e++;b=(I-g)/e}if(b||y){let e=0;for(let t=0;t<p;t++){let r=d.glyphAt(t),n=r.glyphObj;r.x+=y+e,0!==b&&n.isWhitespace&&t<p-x&&(e+=b,r.width+=b)}}let S=t.getReorderSegments(o,a,d.glyphAt(0).charIndex,d.glyphAt(d.count-1).charIndex);for(let e=0;e<S.length;e++){let[t,r]=S[e],n=1/0,a=-1/0;for(let e=0;e<p;e++)if(d.glyphAt(e).charIndex>=t){let t=e,i=e;for(;i<p;i++){let e=d.glyphAt(i);if(e.charIndex>r)break;i<p-x&&(n=Math.min(n,e.x),a=Math.max(a,e.x+e.width))}for(let e=t;e<i;e++){let t=d.glyphAt(e);t.x=a-(t.x+t.width-n)}break}}let k=e=>u=e;for(let g=0;g<p;g++){let p=d.glyphAt(g),x=(u=p.glyphObj).index,y=1&a.levels[p.charIndex];if(y){let e=t.getMirroredCharacter(o[p.charIndex]);e&&p.fontData.fontObj.forEachGlyph(e,0,0,k)}if(N){let{charIndex:e,fontData:t}=p,r=p.x+H,n=p.x+p.width+H;U[4*e]=y?n:r,U[4*e+1]=y?r:n,U[4*e+2]=d.baseline+t.caretBottom+Y,U[4*e+3]=d.baseline+t.caretTop+Y;let a=e-s;a>1&&l(U,s,a),s=e}if(A){let{charIndex:e}=p;for(;e>c;)c++,A.hasOwnProperty(c)&&(n=A[c])}if(!u.isWhitespace&&!u.isEmpty){let t=i++,{fontSizeMult:a,src:o,index:s}=p.fontData,l=v[o]||(v[o]={});l[x]||(l[x]={path:u.path,pathBounds:[u.xMin,u.yMin,u.xMax,u.yMax]});let c=p.x+H,g=p.y+d.baseline+Y;m[2*t]=c,m[2*t+1]=g;let y=c+u.xMin*a,b=g+u.yMin*a,w=c+u.xMax*a,S=g+u.yMax*a;y<F[0]&&(F[0]=y),b<F[1]&&(F[1]=b),w>F[2]&&(F[2]=w),S>F[3]&&(F[3]=S),t%D==0&&(e={start:t,end:t,rect:[r,r,-r,-r]},R.push(e)),e.end++;let k=e.rect;if(y<k[0]&&(k[0]=y),b<k[1]&&(k[1]=b),w>k[2]&&(k[2]=w),S>k[3]&&(k[3]=S),h[t]=x,f[t]=s,A){let e=3*t;C[e]=n>>16&255,C[e+1]=n>>8&255,C[e+2]=255&n}}}}}),U){let e=o.length-s;e>1&&l(U,s,e)}}let Z=[];z.forEach(({index:e,src:t,unitsPerEm:r,ascender:n,descender:a,lineHeight:i,capHeight:o,xHeight:s})=>{Z[e]={src:t,unitsPerEm:r,ascender:n,descender:a,lineHeight:i,capHeight:o,xHeight:s}}),P.typesetting=c()-G,M({glyphIds:h,glyphFontIndices:f,glyphPositions:m,glyphData:v,fontData:Z,caretPositions:U,glyphColors:C,chunkedBounds:R,fontSize:p,topBaseline:Y+q[0].baseline,blockBounds:[H,Y-X,H+I,Y],visibleBounds:F,timings:P})})}function s(e){let t=e.match(/^([\d.]+)%$/),r=t?parseFloat(t[1]):NaN;return isNaN(r)?0:r/100}function l(e,t,r){let n=e[4*t],a=e[4*t+1],i=e[4*t+2],o=e[4*t+3],s=(a-n)/r;for(let a=0;a<r;a++){let r=(t+a)*4;e[r]=n+s*a,e[r+1]=n+s*(a+1),e[r+2]=i,e[r+3]=o}}function c(){return(self.performance||Date).now()}function d(){this.data=[]}let u=["glyphObj","x","y","width","charIndex","fontData"];return d.prototype={width:0,lineHeight:0,baseline:0,cap:0,ex:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/u.length)},glyphAt(e){let t=d.flyweight;return t.data=this.data,t.index=e,t},splitAt(e){let t=new d;return t.data=this.data.splice(e*u.length),t}},d.flyweight=u.reduce((e,t,r,n)=>(Object.defineProperty(e,t,{get(){return this.data[this.index*u.length+r]},set(e){this.data[this.index*u.length+r]=e}}),e),{data:null,index:0}),{typeset:o,measure:function(e,t){o({...e,metricsOnly:!0},e=>{let[r,n,a,i]=e.blockBounds;t({width:a-r,height:i-n})})}}},eh,function(){return function(e){var t,r,n,a,i={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},o={},s={};o.L=1,s[1]="L",Object.keys(i).forEach(function(e,t){o[e]=1<<t+1,s[o[e]]=e}),Object.freeze(o);var l=o.LRI|o.RLI|o.FSI,c=o.L|o.R|o.AL,d=o.B|o.S|o.WS|o.ON|o.FSI|o.LRI|o.RLI|o.PDI,u=o.BN|o.RLE|o.LRE|o.RLO|o.LRO|o.PDF,h=o.S|o.WS|o.B|l|o.PDI|u,f=null;function p(e){if(!f){f=new Map;var t=function(e){if(i.hasOwnProperty(e)){var t=0;i[e].split(",").forEach(function(r){var n=r.split("+"),a=n[0],i=n[1];a=parseInt(a,36),i=i?parseInt(i,36):0,f.set(t+=a,o[e]);for(var s=0;s<i;s++)f.set(++t,o[e])})}};for(var r in i)t(r)}return f.get(e.codePointAt(0))||o.L}function m(e,t){var r,n=0,a=new Map,i=t&&new Map;return e.split(",").forEach(function e(o){if(-1!==o.indexOf("+"))for(var s=+o;s--;)e(r);else{r=o;var l=o.split(">"),c=l[0],d=l[1];c=String.fromCodePoint(n+=parseInt(c,36)),d=String.fromCodePoint(n+=parseInt(d,36)),a.set(c,d),t&&i.set(d,c)}}),{map:a,reverseMap:i}}function v(){if(!t){var e=m("14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",!0),a=e.map,i=e.reverseMap;t=a,r=i,n=m("6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye",!1).map}}function g(e){return v(),t.get(e)||null}function x(e){return v(),r.get(e)||null}function y(e){return v(),n.get(e)||null}var b=o.L,w=o.R,S=o.EN,k=o.ES,j=o.ET,E=o.AN,_=o.CS,T=o.B,C=o.S,U=o.ON,N=o.BN,D=o.NSM,A=o.AL,M=o.LRO,O=o.RLO,P=o.LRE,F=o.RLE,R=o.PDF,I=o.LRI,L=o.RLI,B=o.FSI,z=o.PDI;function G(e){if(!a){var t=m("14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",!0),r=t.map;t.reverseMap.forEach(function(e,t){r.set(t,e)}),a=r}return a.get(e)||null}function V(e,t,r,n){var a=e.length;r=Math.max(0,null==r?0:+r),n=Math.min(a-1,null==n?a-1:+n);var i=[];return t.paragraphs.forEach(function(a){var o=Math.max(r,a.start),s=Math.min(n,a.end);if(o<s){for(var l=t.levels.slice(o,s+1),c=s;c>=o&&p(e[c])&h;c--)l[c]=a.level;for(var d=a.level,u=1/0,f=0;f<l.length;f++){var m=l[f];m>d&&(d=m),m<u&&(u=1|m)}for(var v=d;v>=u;v--)for(var g=0;g<l.length;g++)if(l[g]>=v){for(var x=g;g+1<l.length&&l[g+1]>=v;)g++;g>x&&i.push([x+o,g+o])}}}),i}function W(e,t,r,n){for(var a=V(e,t,r,n),i=[],o=0;o<e.length;o++)i[o]=o;return a.forEach(function(e){for(var t=e[0],r=e[1],n=i.slice(t,r+1),a=n.length;a--;)i[r-a]=n[a]}),i}return e.closingToOpeningBracket=x,e.getBidiCharType=p,e.getBidiCharTypeName=function(e){return s[p(e)]},e.getCanonicalBracket=y,e.getEmbeddingLevels=function(e,t){for(var r=new Uint32Array(e.length),n=0;n<e.length;n++)r[n]=p(e[n]);var a=new Map;function i(e,t){var n=r[e];r[e]=t,a.set(n,a.get(n)-1),n&d&&a.set(d,a.get(d)-1),a.set(t,(a.get(t)||0)+1),t&d&&a.set(d,(a.get(d)||0)+1)}for(var o=new Uint8Array(e.length),s=new Map,f=[],m=null,v=0;v<e.length;v++)m||f.push(m={start:v,end:e.length-1,level:"rtl"===t?1:"ltr"===t?0:tN(v,!1)}),r[v]&T&&(m.end=v,m=null);for(var G=F|P|O|M|l|z|R|T,V=function(e){return e+(1&e?1:2)},W=function(e){return e+(1&e?2:1)},$=0;$<f.length;$++){var q=[{_level:(m=f[$]).level,_override:0,_isolate:0}],X=void 0,H=0,Y=0,Z=0;a.clear();for(var K=m.start;K<=m.end;K++){var Q=r[K];if(X=q[q.length-1],a.set(Q,(a.get(Q)||0)+1),Q&d&&a.set(d,(a.get(d)||0)+1),Q&G)if(Q&(F|P)){o[K]=X._level;var J=(Q===F?W:V)(X._level);!(J<=125)||H||Y?!H&&Y++:q.push({_level:J,_override:0,_isolate:0})}else if(Q&(O|M)){o[K]=X._level;var ee=(Q===O?W:V)(X._level);!(ee<=125)||H||Y?!H&&Y++:q.push({_level:ee,_override:Q&O?w:b,_isolate:0})}else if(Q&l){Q&B&&(Q=1===tN(K+1,!0)?L:I),o[K]=X._level,X._override&&i(K,X._override);var et=(Q===L?W:V)(X._level);et<=125&&0===H&&0===Y?(Z++,q.push({_level:et,_override:0,_isolate:1,_isolInitIndex:K})):H++}else if(Q&z){if(H>0)H--;else if(Z>0){for(Y=0;!q[q.length-1]._isolate;)q.pop();var er=q[q.length-1]._isolInitIndex;null!=er&&(s.set(er,K),s.set(K,er)),q.pop(),Z--}X=q[q.length-1],o[K]=X._level,X._override&&i(K,X._override)}else Q&R?(0===H&&(Y>0?Y--:!X._isolate&&q.length>1&&(q.pop(),X=q[q.length-1])),o[K]=X._level):Q&T&&(o[K]=m.level);else o[K]=X._level,X._override&&Q!==N&&i(K,X._override)}for(var en=[],ea=null,ei=m.start;ei<=m.end;ei++){var eo=r[ei];if(!(eo&u)){var es=o[ei],el=eo&l,ec=eo===z;ea&&es===ea._level?(ea._end=ei,ea._endsWithIsolInit=el):en.push(ea={_start:ei,_end:ei,_level:es,_startsWithPDI:ec,_endsWithIsolInit:el})}}for(var ed=[],eu=0;eu<en.length;eu++){var eh=en[eu];if(!eh._startsWithPDI||eh._startsWithPDI&&!s.has(eh._start)){for(var ef=[ea=eh],ep=void 0;ea&&ea._endsWithIsolInit&&null!=(ep=s.get(ea._end));)for(var em=eu+1;em<en.length;em++)if(en[em]._start===ep){ef.push(ea=en[em]);break}for(var ev=[],eg=0;eg<ef.length;eg++)for(var ex=ef[eg],ey=ex._start;ey<=ex._end;ey++)ev.push(ey);for(var eb=o[ev[0]],ew=m.level,eS=ev[0]-1;eS>=0;eS--)if(!(r[eS]&u)){ew=o[eS];break}var ek=ev[ev.length-1],ej=o[ek],eE=m.level;if(!(r[ek]&l)){for(var e_=ek+1;e_<=m.end;e_++)if(!(r[e_]&u)){eE=o[e_];break}}ed.push({_seqIndices:ev,_sosType:Math.max(ew,eb)%2?w:b,_eosType:Math.max(eE,ej)%2?w:b})}}for(var eT=0;eT<ed.length;eT++){var eC=ed[eT],eU=eC._seqIndices,eN=eC._sosType,eD=eC._eosType,eA=1&o[eU[0]]?w:b;if(a.get(D))for(var eM=0;eM<eU.length;eM++){var eO=eU[eM];if(r[eO]&D){for(var eP=eN,eF=eM-1;eF>=0;eF--)if(!(r[eU[eF]]&u)){eP=r[eU[eF]];break}i(eO,eP&(l|z)?U:eP)}}if(a.get(S))for(var eR=0;eR<eU.length;eR++){var eI=eU[eR];if(r[eI]&S)for(var eL=eR-1;eL>=-1;eL--){var eB=-1===eL?eN:r[eU[eL]];if(eB&c){eB===A&&i(eI,E);break}}}if(a.get(A))for(var ez=0;ez<eU.length;ez++){var eG=eU[ez];r[eG]&A&&i(eG,w)}if(a.get(k)||a.get(_))for(var eV=1;eV<eU.length-1;eV++){var eW=eU[eV];if(r[eW]&(k|_)){for(var e$=0,eq=0,eX=eV-1;eX>=0&&(e$=r[eU[eX]])&u;eX--);for(var eH=eV+1;eH<eU.length&&(eq=r[eU[eH]])&u;eH++);e$===eq&&(r[eW]===k?e$===S:e$&(S|E))&&i(eW,e$)}}if(a.get(S)){for(var eY=0;eY<eU.length;eY++)if(r[eU[eY]]&S){for(var eZ=eY-1;eZ>=0&&r[eU[eZ]]&(j|u);eZ--)i(eU[eZ],S);for(eY++;eY<eU.length&&r[eU[eY]]&(j|u|S);eY++)r[eU[eY]]!==S&&i(eU[eY],S)}}if(a.get(j)||a.get(k)||a.get(_))for(var eK=0;eK<eU.length;eK++){var eQ=eU[eK];if(r[eQ]&(j|k|_)){i(eQ,U);for(var eJ=eK-1;eJ>=0&&r[eU[eJ]]&u;eJ--)i(eU[eJ],U);for(var e0=eK+1;e0<eU.length&&r[eU[e0]]&u;e0++)i(eU[e0],U)}}if(a.get(S))for(var e1=0,e2=eN;e1<eU.length;e1++){var e3=eU[e1],e4=r[e3];e4&S?e2===b&&i(e3,b):e4&c&&(e2=e4)}if(a.get(d)){for(var e5=w|S|E,e6=e5|b,e8=[],e7=[],e9=0;e9<eU.length;e9++)if(r[eU[e9]]&d){var te=e[eU[e9]],tt=void 0;if(null!==g(te))if(e7.length<63)e7.push({char:te,seqIndex:e9});else break;else if(null!==(tt=x(te)))for(var tr=e7.length-1;tr>=0;tr--){var tn=e7[tr].char;if(tn===tt||tn===x(y(te))||g(y(tn))===te){e8.push([e7[tr].seqIndex,e9]),e7.length=tr;break}}}e8.sort(function(e,t){return e[0]-t[0]});for(var ta=0;ta<e8.length;ta++){for(var ti=e8[ta],to=ti[0],ts=ti[1],tl=!1,tc=0,td=to+1;td<ts;td++){var tu=eU[td];if(r[tu]&e6){tl=!0;var th=r[tu]&e5?w:b;if(th===eA){tc=th;break}}}if(tl&&!tc){tc=eN;for(var tf=to-1;tf>=0;tf--){var tp=eU[tf];if(r[tp]&e6){var tm=r[tp]&e5?w:b;tc=tm!==eA?tm:eA;break}}}if(tc){if(r[eU[to]]=r[eU[ts]]=tc,tc!==eA){for(var tv=to+1;tv<eU.length;tv++)if(!(r[eU[tv]]&u)){p(e[eU[tv]])&D&&(r[eU[tv]]=tc);break}}if(tc!==eA){for(var tg=ts+1;tg<eU.length;tg++)if(!(r[eU[tg]]&u)){p(e[eU[tg]])&D&&(r[eU[tg]]=tc);break}}}}for(var tx=0;tx<eU.length;tx++)if(r[eU[tx]]&d){for(var ty=tx,tb=tx,tw=eN,tS=tx-1;tS>=0;tS--)if(r[eU[tS]]&u)ty=tS;else{tw=r[eU[tS]]&e5?w:b;break}for(var tk=eD,tj=tx+1;tj<eU.length;tj++)if(r[eU[tj]]&(d|u))tb=tj;else{tk=r[eU[tj]]&e5?w:b;break}for(var tE=ty;tE<=tb;tE++)r[eU[tE]]=tw===tk?tw:eA;tx=tb}}}for(var t_=m.start;t_<=m.end;t_++){var tT=o[t_],tC=r[t_];if(1&tT?tC&(b|S|E)&&o[t_]++:tC&w?o[t_]++:tC&(E|S)&&(o[t_]+=2),tC&u&&(o[t_]=0===t_?m.level:o[t_-1]),t_===m.end||p(e[t_])&(C|T))for(var tU=t_;tU>=0&&p(e[tU])&h;tU--)o[tU]=m.level}}return{levels:o,paragraphs:f};function tN(t,n){for(var a=t;a<e.length;a++){var i=r[a];if(i&(w|A))return 1;if(i&(T|b)||n&&i===z)break;if(i&l){var o=function(t){for(var n=1,a=t+1;a<e.length;a++){var i=r[a];if(i&T)break;if(i&z){if(0==--n)return a}else i&l&&n++}return -1}(a);a=-1===o?e.length:o}}return 0}},e.getMirroredCharacter=G,e.getMirroredCharactersMap=function(e,t,r,n){var a=e.length;r=Math.max(0,null==r?0:+r),n=Math.min(a-1,null==n?a-1:+n);for(var i=new Map,o=r;o<=n;o++)if(1&t[o]){var s=G(e[o]);null!==s&&i.set(o,s)}return i},e.getReorderSegments=V,e.getReorderedIndices=W,e.getReorderedString=function(e,t,r,n){var a=W(e,t,r,n),i=[].concat(e);return a.forEach(function(r,n){i[n]=(1&t.levels[r]?G(e[r]):null)||e[r]}),i.join("")},e.openingToClosingBracket=g,Object.defineProperty(e,"__esModule",{value:!0}),e}({})}],init:(e,t,r)=>e(t,r())}),eD=L({name:"Typesetter",dependencies:[eN],init:e=>function(t){return new Promise(r=>{e.typeset(t,r)})},getTransferables(e){let t=[];for(let r in e)e[r]&&e[r].buffer&&t.push(e[r].buffer);return t}}),eA=eD.onMainThread,eM={},eO="aTroikaGlyphIndex";class eP extends N.InstancedBufferGeometry{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new N.Sphere,this.boundingBox=new N.Box3}computeBoundingSphere(){}computeBoundingBox(){}set detail(e){if(e!==this._detail){var t;let r;this._detail=e,("number"!=typeof e||e<1)&&(e=1);let n=((r=eM[t=e])||(r=eM[t]=new N.PlaneGeometry(1,1,t,t).translate(.5,.5,0)),r);["position","normal","uv"].forEach(e=>{this.attributes[e]=n.attributes[e].clone()}),this.setIndex(n.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,t,r,n,a){this.updateAttributeData("aTroikaGlyphBounds",e,4),this.updateAttributeData(eO,t,1),this.updateAttributeData("aTroikaGlyphColor",a,3),this._blockBounds=r,this._chunkedBounds=n,this.instanceCount=t.length,this._updateBounds()}_updateBounds(){let e=this._blockBounds;if(e){let{curveRadius:t,boundingBox:r}=this;if(t){let{PI:n,floor:a,min:i,max:o,sin:s,cos:l}=Math,c=n/2,d=2*n,u=Math.abs(t),h=e[0]/u,f=e[2]/u,p=a((h+c)/d)!==a((f+c)/d)?-u:i(s(h)*u,s(f)*u),m=a((h-c)/d)!==a((f-c)/d)?u:o(s(h)*u,s(f)*u),v=a((h+n)/d)!==a((f+n)/d)?2*u:o(u-l(h)*u,u-l(f)*u);r.min.set(p,e[1],t<0?-v:0),r.max.set(m,e[3],t<0?0:v)}else r.min.set(e[0],e[1],0),r.max.set(e[2],e[3],0);r.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let t=this.getAttribute(eO).count,r=this._chunkedBounds;if(r)for(let n=r.length;n--;){t=r[n].end;let a=r[n].rect;if(a[1]<e.w&&a[3]>e.y&&a[0]<e.z&&a[2]>e.x)break}this.instanceCount=t}updateAttributeData(e,t,r){let n=this.getAttribute(e);t?n&&n.array.length===t.length?(n.array.set(t),n.needsUpdate=!0):(this.setAttribute(e,new N.InstancedBufferAttribute(t,r)),delete this._maxInstanceCount,this.dispose()):n&&this.deleteAttribute(e)}}let eF=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaEdgeOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,eR=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaEdgeOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaEdgeOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,eI=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaEdgeOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,eL=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaEdgeOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`,eB=new N.MeshBasicMaterial({color:0xffffff,side:N.DoubleSide,transparent:!0}),ez=new N.Matrix4,eG=new N.Vector3,eV=new N.Vector3,eW=[],e$=new N.Vector3,eq="+x+y";function eX(e){return Array.isArray(e)?e[0]:e}let eH=()=>{let e=new N.Mesh(new N.PlaneGeometry(1,1),eB);return eH=()=>e,e},eY=()=>{let e=new N.Mesh(new N.PlaneGeometry(1,1,32,1),eB);return eY=()=>e,e},eZ={type:"syncstart"},eK={type:"synccomplete"},eQ=["font","fontSize","fontStyle","fontWeight","lang","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],eJ=eQ.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");class e0 extends N.Mesh{constructor(){super(new eP,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.unicodeFontsURL=null,this.fontSize=.1,this.fontWeight="normal",this.fontStyle="normal",this.lang=null,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=8421504,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=eq,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(eZ),e_({text:this.text,font:this.font,lang:this.lang,fontSize:this.fontSize||.1,fontWeight:this.fontWeight||"normal",fontStyle:this.fontStyle||"normal",letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF,unicodeFontsURL:this.unicodeFontsURL},t=>{this._isSyncing=!1,this._textRenderInfo=t,this.geometry.updateGlyphs(t.glyphBounds,t.glyphAtlasIndices,t.blockBounds,t.chunkedBounds,t.glyphColors);let r=this._queuedSyncs;r&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{r.forEach(e=>e&&e())})),this.dispatchEvent(eK),e&&e()})))}onBeforeRender(e,t,r,n,a,i){this.sync(),a.isTroikaTextMaterial&&this._prepareForRender(a)}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}createDerivedMaterial(e){let t;return(t=J(e,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new N.Vector2},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new N.Vector4(0,0,0,0)},uTroikaClipRect:{value:new N.Vector4(0,0,0,0)},uTroikaEdgeOffset:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new N.Vector2},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new N.Color},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new N.Matrix3},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:eF,vertexTransform:eR,fragmentDefs:eI,fragmentColorTransform:eL,customRewriter({vertexShader:e,fragmentShader:t}){let r=/\buniform\s+vec3\s+diffuse\b/;return r.test(t)&&(t=t.replace(r,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),r.test(e)||(e=e.replace($,"uniform vec3 diffuse;\n$&\nvTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;\n"))),{vertexShader:e,fragmentShader:t}}})).transparent=!0,t.forceSinglePass=!0,Object.defineProperties(t,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),t}get material(){let e=this._derivedMaterial,t=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=eB.clone());if(e&&e.isDerivedFrom(t)||(e=this._derivedMaterial=this.createDerivedMaterial(t),t.addEventListener("dispose",function r(){t.removeEventListener("dispose",r),e.dispose()})),!this.hasOutline())return e;{let t=e._outlineMtl;return t||((t=e._outlineMtl=Object.create(e,{id:{value:e.id+.1}})).isTextOutlineMaterial=!0,t.depthWrite=!1,t.map=null,e.addEventListener("dispose",function r(){e.removeEventListener("dispose",r),t.dispose()})),[t,e]}}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}hasOutline(){return!!(this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY)}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return eX(this.material).getDepthMaterial()}set customDepthMaterial(e){}get customDistanceMaterial(){return eX(this.material).getDistanceMaterial()}set customDistanceMaterial(e){}_prepareForRender(e){let t=e.isTextOutlineMaterial,r=e.uniforms,n=this.textRenderInfo;if(n){let e,a,i,{sdfTexture:o,blockBounds:s}=n;r.uTroikaSDFTexture.value=o,r.uTroikaSDFTextureSize.value.set(o.image.width,o.image.height),r.uTroikaSDFGlyphSize.value=n.sdfGlyphSize,r.uTroikaSDFExponent.value=n.sdfExponent,r.uTroikaTotalBounds.value.fromArray(s),r.uTroikaUseGlyphColors.value=!t&&!!n.glyphColors;let l=0,c=0,d=0,u=0,h=0;if(t){let{outlineWidth:t,outlineOffsetX:r,outlineOffsetY:n,outlineBlur:a,outlineOpacity:i}=this;l=this._parsePercent(t)||0,c=Math.max(0,this._parsePercent(a)||0),e=i,u=this._parsePercent(r)||0,h=this._parsePercent(n)||0}else(d=Math.max(0,this._parsePercent(this.strokeWidth)||0))&&(i=this.strokeColor,r.uTroikaStrokeColor.value.set(null==i?8421504:i),null==(a=this.strokeOpacity)&&(a=1)),e=this.fillOpacity;r.uTroikaEdgeOffset.value=l,r.uTroikaPositionOffset.value.set(u,h),r.uTroikaBlurRadius.value=c,r.uTroikaStrokeWidth.value=d,r.uTroikaStrokeOpacity.value=a,r.uTroikaFillOpacity.value=null==e?1:e,r.uTroikaCurveRadius.value=this.curveRadius||0;let f=this.clipRect;if(f&&Array.isArray(f)&&4===f.length)r.uTroikaClipRect.value.fromArray(f);else{let e=100*(this.fontSize||.1);r.uTroikaClipRect.value.set(s[0]-e,s[1]-e,s[2]+e,s[3]+e)}this.geometry.applyClipRect(r.uTroikaClipRect.value)}r.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;let a=t?this.outlineColor||0:this.color;if(null==a)delete e.color;else{let t=e.hasOwnProperty("color")?e.color:e.color=new N.Color;(a!==t._input||"object"==typeof a)&&t.set(t._input=a)}let i=this.orientation||eq;if(i!==e._orientation){let t=r.uTroikaOrient.value,n=(i=i.replace(/[^-+xyz]/g,""))!==eq&&i.match(/^([-+])([xyz])([-+])([xyz])$/);if(n){let[,e,r,a,i]=n;eG.set(0,0,0)[r]="-"===e?1:-1,eV.set(0,0,0)[i]="-"===a?-1:1,ez.lookAt(e$,eG.cross(eV),eV),t.setFromMatrix4(ez)}else t.identity();e._orientation=i}}_parsePercent(e){if("string"==typeof e){let t=e.match(/^(-?[\d.]+)%$/),r=t?parseFloat(t[1]):NaN;e=(isNaN(r)?0:r/100)*this.fontSize}return e}localPositionToTextCoords(e,t=new N.Vector2){t.copy(e);let r=this.curveRadius;return r&&(t.x=Math.atan2(e.x,Math.abs(r)-Math.abs(e.z))*Math.abs(r)),t}worldPositionToTextCoords(e,t=new N.Vector2){return eG.copy(e),this.localPositionToTextCoords(this.worldToLocal(eG),t)}raycast(e,t){let{textRenderInfo:r,curveRadius:n}=this;if(r){let a=r.blockBounds,i=n?eY():eH(),o=i.geometry,{position:s,uv:l}=o.attributes;for(let e=0;e<l.count;e++){let t=a[0]+l.getX(e)*(a[2]-a[0]),r=a[1]+l.getY(e)*(a[3]-a[1]),i=0;n&&(i=n-Math.cos(t/n)*n,t=Math.sin(t/n)*n),s.setXYZ(e,t,r,i)}o.boundingSphere=this.geometry.boundingSphere,o.boundingBox=this.geometry.boundingBox,i.matrixWorld=this.matrixWorld,i.material.side=this.material.side,eW.length=0,i.raycast(e,eW);for(let e=0;e<eW.length;e++)eW[e].object=this,t.push(eW[e])}}copy(e){let t=this.geometry;return super.copy(e),this.geometry=t,eJ.forEach(t=>{this[t]=e[t]}),this}clone(){return new this.constructor().copy(this)}}eQ.forEach(e=>{let t="_private_"+e;Object.defineProperty(e0.prototype,e,{get(){return this[t]},set(e){e!==this[t]&&(this[t]=e,this._needsSync=!0)}})}),new N.Box3,new N.Color,new WeakMap,new WeakMap;var e1=e.i(15080),e2=e.i(20284);let e3=v.forwardRef(({sdfGlyphSize:e=64,anchorX:t="center",anchorY:r="middle",font:n,fontSize:a=1,children:i,characters:o,onSync:s,...l},c)=>{let d=(0,e1.useThree)(({invalidate:e})=>e),[u]=v.useState(()=>new e0),[h,f]=v.useMemo(()=>{let e=[],t="";return v.Children.forEach(i,r=>{"string"==typeof r||"number"==typeof r?t+=r:e.push(r)}),[e,t]},[i]);return(0,e2.suspend)(()=>new Promise(e=>(function({font:e,characters:t,sdfGlyphSize:r},n){e_({font:e,sdfGlyphSize:r,text:Array.isArray(t)?t.join("\n"):""+t},n)})({font:n,characters:o},e)),["troika-text",n,o]),v.useLayoutEffect(()=>void u.sync(()=>{d(),s&&s(u)})),v.useEffect(()=>()=>u.dispose(),[u]),v.createElement("primitive",(0,U.default)({object:u,ref:c,font:n,text:f,anchorX:t,anchorY:r,fontSize:a,sdfGlyphSize:e},l),h)});var e4=Object.defineProperty;class e5{constructor(){((e,t,r)=>{let n;return(n="symbol"!=typeof t?t+"":t)in e?e4(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r})(this,"_listeners")}addEventListener(e,t){void 0===this._listeners&&(this._listeners={});let r=this._listeners;void 0===r[e]&&(r[e]=[]),-1===r[e].indexOf(t)&&r[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;let r=this._listeners;return void 0!==r[e]&&-1!==r[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;let r=this._listeners[e];if(void 0!==r){let e=r.indexOf(t);-1!==e&&r.splice(e,1)}}dispatchEvent(e){if(void 0===this._listeners)return;let t=this._listeners[e.type];if(void 0!==t){e.target=this;let r=t.slice(0);for(let t=0,n=r.length;t<n;t++)r[t].call(this,e);e.target=null}}}var e6=Object.defineProperty,e8=(e,t,r)=>{let n;return(n="symbol"!=typeof t?t+"":t)in e?e6(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r,r};class e7 extends e5{constructor(e,t){super(),e8(this,"enabled",!0),e8(this,"screen",{left:0,top:0,width:0,height:0}),e8(this,"rotateSpeed",1),e8(this,"zoomSpeed",1.2),e8(this,"panSpeed",.3),e8(this,"noRotate",!1),e8(this,"noZoom",!1),e8(this,"noPan",!1),e8(this,"staticMoving",!1),e8(this,"dynamicDampingFactor",.2),e8(this,"minDistance",0),e8(this,"maxDistance",1/0),e8(this,"keys",["KeyA","KeyS","KeyD"]),e8(this,"mouseButtons",{LEFT:N.MOUSE.ROTATE,MIDDLE:N.MOUSE.DOLLY,RIGHT:N.MOUSE.PAN}),e8(this,"object"),e8(this,"domElement"),e8(this,"cursorZoom",!1),e8(this,"target",new N.Vector3),e8(this,"mousePosition",new N.Vector2),e8(this,"STATE",{NONE:-1,ROTATE:0,ZOOM:1,PAN:2,TOUCH_ROTATE:3,TOUCH_ZOOM_PAN:4}),e8(this,"EPS",1e-6),e8(this,"lastZoom",1),e8(this,"lastPosition",new N.Vector3),e8(this,"cursorVector",new N.Vector3),e8(this,"targetVector",new N.Vector3),e8(this,"_state",this.STATE.NONE),e8(this,"_keyState",this.STATE.NONE),e8(this,"_eye",new N.Vector3),e8(this,"_movePrev",new N.Vector2),e8(this,"_moveCurr",new N.Vector2),e8(this,"_lastAxis",new N.Vector3),e8(this,"_lastAngle",0),e8(this,"_zoomStart",new N.Vector2),e8(this,"_zoomEnd",new N.Vector2),e8(this,"_touchZoomDistanceStart",0),e8(this,"_touchZoomDistanceEnd",0),e8(this,"_panStart",new N.Vector2),e8(this,"_panEnd",new N.Vector2),e8(this,"target0"),e8(this,"position0"),e8(this,"up0"),e8(this,"zoom0"),e8(this,"changeEvent",{type:"change"}),e8(this,"startEvent",{type:"start"}),e8(this,"endEvent",{type:"end"}),e8(this,"onScreenVector",new N.Vector2),e8(this,"getMouseOnScreen",(e,t)=>(this.onScreenVector.set((e-this.screen.left)/this.screen.width,(t-this.screen.top)/this.screen.height),this.onScreenVector)),e8(this,"onCircleVector",new N.Vector2),e8(this,"getMouseOnCircle",(e,t)=>(this.onCircleVector.set((e-.5*this.screen.width-this.screen.left)/(.5*this.screen.width),(this.screen.height+2*(this.screen.top-t))/this.screen.width),this.onCircleVector)),e8(this,"axis",new N.Vector3),e8(this,"quaternion",new N.Quaternion),e8(this,"eyeDirection",new N.Vector3),e8(this,"objectUpDirection",new N.Vector3),e8(this,"objectSidewaysDirection",new N.Vector3),e8(this,"moveDirection",new N.Vector3),e8(this,"angle",0),e8(this,"rotateCamera",()=>{this.moveDirection.set(this._moveCurr.x-this._movePrev.x,this._moveCurr.y-this._movePrev.y,0),this.angle=this.moveDirection.length(),this.angle?(this._eye.copy(this.object.position).sub(this.target),this.eyeDirection.copy(this._eye).normalize(),this.objectUpDirection.copy(this.object.up).normalize(),this.objectSidewaysDirection.crossVectors(this.objectUpDirection,this.eyeDirection).normalize(),this.objectUpDirection.setLength(this._moveCurr.y-this._movePrev.y),this.objectSidewaysDirection.setLength(this._moveCurr.x-this._movePrev.x),this.moveDirection.copy(this.objectUpDirection.add(this.objectSidewaysDirection)),this.axis.crossVectors(this.moveDirection,this._eye).normalize(),this.angle*=this.rotateSpeed,this.quaternion.setFromAxisAngle(this.axis,this.angle),this._eye.applyQuaternion(this.quaternion),this.object.up.applyQuaternion(this.quaternion),this._lastAxis.copy(this.axis),this._lastAngle=this.angle):!this.staticMoving&&this._lastAngle&&(this._lastAngle*=Math.sqrt(1-this.dynamicDampingFactor),this._eye.copy(this.object.position).sub(this.target),this.quaternion.setFromAxisAngle(this._lastAxis,this._lastAngle),this._eye.applyQuaternion(this.quaternion),this.object.up.applyQuaternion(this.quaternion)),this._movePrev.copy(this._moveCurr)}),e8(this,"zoomCamera",()=>{let e;if(this._state===this.STATE.TOUCH_ZOOM_PAN)e=this._touchZoomDistanceStart/this._touchZoomDistanceEnd,this._touchZoomDistanceStart=this._touchZoomDistanceEnd,this.object.isPerspectiveCamera?this._eye.multiplyScalar(e):this.object.isOrthographicCamera?(this.object.zoom/=e,this.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type");else{if(Math.abs((e=1+(this._zoomEnd.y-this._zoomStart.y)*this.zoomSpeed)-1)>this.EPS&&e>0&&(this.object.isPerspectiveCamera?(e>1&&this._eye.length()>=this.maxDistance-this.EPS&&(e=1),this._eye.multiplyScalar(e)):this.object.isOrthographicCamera?(e>1&&this.object.zoom<this.maxDistance*this.maxDistance&&(e=1),this.object.zoom/=e):console.warn("THREE.TrackballControls: Unsupported camera type")),this.staticMoving?this._zoomStart.copy(this._zoomEnd):this._zoomStart.y+=(this._zoomEnd.y-this._zoomStart.y)*this.dynamicDampingFactor,this.cursorZoom){this.targetVector.copy(this.target).project(this.object);let t=this.cursorVector.set(this.mousePosition.x,this.mousePosition.y,this.targetVector.z).unproject(this.object);this.target.lerpVectors(t,this.target,e)}this.object.isOrthographicCamera&&this.object.updateProjectionMatrix()}}),e8(this,"mouseChange",new N.Vector2),e8(this,"objectUp",new N.Vector3),e8(this,"pan",new N.Vector3),e8(this,"panCamera",()=>{if(this.domElement&&(this.mouseChange.copy(this._panEnd).sub(this._panStart),this.mouseChange.lengthSq()>this.EPS)){if(this.object.isOrthographicCamera){let e=this.object,t=(e.right-e.left)/this.object.zoom,r=(e.top-e.bottom)/this.object.zoom;this.mouseChange.x*=t,this.mouseChange.y*=r}else this.mouseChange.multiplyScalar(this._eye.length()*this.panSpeed);this.pan.copy(this._eye).cross(this.object.up).setLength(this.mouseChange.x),this.pan.add(this.objectUp.copy(this.object.up).setLength(this.mouseChange.y)),this.object.position.add(this.pan),this.target.add(this.pan),this.staticMoving?this._panStart.copy(this._panEnd):this._panStart.add(this.mouseChange.subVectors(this._panEnd,this._panStart).multiplyScalar(this.dynamicDampingFactor))}}),e8(this,"checkDistances",()=>{this.noZoom&&this.noPan||(this._eye.lengthSq()>this.maxDistance*this.maxDistance&&(this.object.position.addVectors(this.target,this._eye.setLength(this.maxDistance)),this._zoomStart.copy(this._zoomEnd)),this._eye.lengthSq()<this.minDistance*this.minDistance&&(this.object.position.addVectors(this.target,this._eye.setLength(this.minDistance)),this._zoomStart.copy(this._zoomEnd)))}),e8(this,"handleResize",()=>{if(!this.domElement)return;let e=this.domElement.getBoundingClientRect(),t=this.domElement.ownerDocument.documentElement;this.screen.left=e.left+window.pageXOffset-t.clientLeft,this.screen.top=e.top+window.pageYOffset-t.clientTop,this.screen.width=e.width,this.screen.height=e.height}),e8(this,"update",()=>{this._eye.subVectors(this.object.position,this.target),this.noRotate||this.rotateCamera(),this.noZoom||this.zoomCamera(),this.noPan||this.panCamera(),this.object.position.addVectors(this.target,this._eye),this.object.isPerspectiveCamera?(this.checkDistances(),this.object.lookAt(this.target),this.lastPosition.distanceToSquared(this.object.position)>this.EPS&&(this.dispatchEvent(this.changeEvent),this.lastPosition.copy(this.object.position))):this.object.isOrthographicCamera?(this.object.lookAt(this.target),(this.lastPosition.distanceToSquared(this.object.position)>this.EPS||this.lastZoom!==this.object.zoom)&&(this.dispatchEvent(this.changeEvent),this.lastPosition.copy(this.object.position),this.lastZoom=this.object.zoom)):console.warn("THREE.TrackballControls: Unsupported camera type")}),e8(this,"reset",()=>{this._state=this.STATE.NONE,this._keyState=this.STATE.NONE,this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.up.copy(this.up0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this._eye.subVectors(this.object.position,this.target),this.object.lookAt(this.target),this.dispatchEvent(this.changeEvent),this.lastPosition.copy(this.object.position),this.lastZoom=this.object.zoom}),e8(this,"keydown",e=>{!1!==this.enabled&&(window.removeEventListener("keydown",this.keydown),this._keyState===this.STATE.NONE&&(e.code!==this.keys[this.STATE.ROTATE]||this.noRotate?e.code!==this.keys[this.STATE.ZOOM]||this.noZoom?e.code!==this.keys[this.STATE.PAN]||this.noPan||(this._keyState=this.STATE.PAN):this._keyState=this.STATE.ZOOM:this._keyState=this.STATE.ROTATE))}),e8(this,"onPointerDown",e=>{if(!1!==this.enabled)switch(e.pointerType){case"mouse":case"pen":this.onMouseDown(e)}}),e8(this,"onPointerMove",e=>{if(!1!==this.enabled)switch(e.pointerType){case"mouse":case"pen":this.onMouseMove(e)}}),e8(this,"onPointerUp",e=>{if(!1!==this.enabled)switch(e.pointerType){case"mouse":case"pen":this.onMouseUp()}}),e8(this,"keyup",()=>{!1!==this.enabled&&(this._keyState=this.STATE.NONE,window.addEventListener("keydown",this.keydown))}),e8(this,"onMouseDown",e=>{if(!this.domElement)return;if(this._state===this.STATE.NONE)switch(e.button){case this.mouseButtons.LEFT:this._state=this.STATE.ROTATE;break;case this.mouseButtons.MIDDLE:this._state=this.STATE.ZOOM;break;case this.mouseButtons.RIGHT:this._state=this.STATE.PAN}let t=this._keyState!==this.STATE.NONE?this._keyState:this._state;t!==this.STATE.ROTATE||this.noRotate?t!==this.STATE.ZOOM||this.noZoom?t!==this.STATE.PAN||this.noPan||(this._panStart.copy(this.getMouseOnScreen(e.pageX,e.pageY)),this._panEnd.copy(this._panStart)):(this._zoomStart.copy(this.getMouseOnScreen(e.pageX,e.pageY)),this._zoomEnd.copy(this._zoomStart)):(this._moveCurr.copy(this.getMouseOnCircle(e.pageX,e.pageY)),this._movePrev.copy(this._moveCurr)),this.domElement.ownerDocument.addEventListener("pointermove",this.onPointerMove),this.domElement.ownerDocument.addEventListener("pointerup",this.onPointerUp),this.dispatchEvent(this.startEvent)}),e8(this,"onMouseMove",e=>{if(!1===this.enabled)return;let t=this._keyState!==this.STATE.NONE?this._keyState:this._state;t!==this.STATE.ROTATE||this.noRotate?t!==this.STATE.ZOOM||this.noZoom?t!==this.STATE.PAN||this.noPan||this._panEnd.copy(this.getMouseOnScreen(e.pageX,e.pageY)):this._zoomEnd.copy(this.getMouseOnScreen(e.pageX,e.pageY)):(this._movePrev.copy(this._moveCurr),this._moveCurr.copy(this.getMouseOnCircle(e.pageX,e.pageY)))}),e8(this,"onMouseUp",()=>{this.domElement&&!1!==this.enabled&&(this._state=this.STATE.NONE,this.domElement.ownerDocument.removeEventListener("pointermove",this.onPointerMove),this.domElement.ownerDocument.removeEventListener("pointerup",this.onPointerUp),this.dispatchEvent(this.endEvent))}),e8(this,"mousewheel",e=>{if(!1!==this.enabled&&!0!==this.noZoom){switch(e.preventDefault(),e.deltaMode){case 2:this._zoomStart.y-=.025*e.deltaY;break;case 1:this._zoomStart.y-=.01*e.deltaY;break;default:this._zoomStart.y-=25e-5*e.deltaY}this.mousePosition.x=e.offsetX/this.screen.width*2-1,this.mousePosition.y=-(2*(e.offsetY/this.screen.height))+1,this.dispatchEvent(this.startEvent),this.dispatchEvent(this.endEvent)}}),e8(this,"touchstart",e=>{if(!1!==this.enabled){if(e.preventDefault(),1===e.touches.length)this._state=this.STATE.TOUCH_ROTATE,this._moveCurr.copy(this.getMouseOnCircle(e.touches[0].pageX,e.touches[0].pageY)),this._movePrev.copy(this._moveCurr);else{this._state=this.STATE.TOUCH_ZOOM_PAN;let t=e.touches[0].pageX-e.touches[1].pageX,r=e.touches[0].pageY-e.touches[1].pageY;this._touchZoomDistanceEnd=this._touchZoomDistanceStart=Math.sqrt(t*t+r*r);let n=(e.touches[0].pageX+e.touches[1].pageX)/2,a=(e.touches[0].pageY+e.touches[1].pageY)/2;this._panStart.copy(this.getMouseOnScreen(n,a)),this._panEnd.copy(this._panStart)}this.dispatchEvent(this.startEvent)}}),e8(this,"touchmove",e=>{if(!1!==this.enabled)if(e.preventDefault(),1===e.touches.length)this._movePrev.copy(this._moveCurr),this._moveCurr.copy(this.getMouseOnCircle(e.touches[0].pageX,e.touches[0].pageY));else{let t=e.touches[0].pageX-e.touches[1].pageX,r=e.touches[0].pageY-e.touches[1].pageY;this._touchZoomDistanceEnd=Math.sqrt(t*t+r*r);let n=(e.touches[0].pageX+e.touches[1].pageX)/2,a=(e.touches[0].pageY+e.touches[1].pageY)/2;this._panEnd.copy(this.getMouseOnScreen(n,a))}}),e8(this,"touchend",e=>{if(!1!==this.enabled){switch(e.touches.length){case 0:this._state=this.STATE.NONE;break;case 1:this._state=this.STATE.TOUCH_ROTATE,this._moveCurr.copy(this.getMouseOnCircle(e.touches[0].pageX,e.touches[0].pageY)),this._movePrev.copy(this._moveCurr)}this.dispatchEvent(this.endEvent)}}),e8(this,"contextmenu",e=>{!1!==this.enabled&&e.preventDefault()}),e8(this,"connect",e=>{e===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.domElement=e,this.domElement.addEventListener("contextmenu",this.contextmenu),this.domElement.addEventListener("pointerdown",this.onPointerDown),this.domElement.addEventListener("wheel",this.mousewheel),this.domElement.addEventListener("touchstart",this.touchstart),this.domElement.addEventListener("touchend",this.touchend),this.domElement.addEventListener("touchmove",this.touchmove),this.domElement.ownerDocument.addEventListener("pointermove",this.onPointerMove),this.domElement.ownerDocument.addEventListener("pointerup",this.onPointerUp),window.addEventListener("keydown",this.keydown),window.addEventListener("keyup",this.keyup),this.handleResize()}),e8(this,"dispose",()=>{this.domElement&&(this.domElement.removeEventListener("contextmenu",this.contextmenu),this.domElement.removeEventListener("pointerdown",this.onPointerDown),this.domElement.removeEventListener("wheel",this.mousewheel),this.domElement.removeEventListener("touchstart",this.touchstart),this.domElement.removeEventListener("touchend",this.touchend),this.domElement.removeEventListener("touchmove",this.touchmove),this.domElement.ownerDocument.removeEventListener("pointermove",this.onPointerMove),this.domElement.ownerDocument.removeEventListener("pointerup",this.onPointerUp),window.removeEventListener("keydown",this.keydown),window.removeEventListener("keyup",this.keyup))}),this.object=e,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.up0=this.object.up.clone(),this.zoom0=this.object.zoom,void 0!==t&&this.connect(t),this.update()}}let e9=v.forwardRef(({makeDefault:e,camera:t,domElement:r,regress:n,onChange:a,onStart:i,onEnd:o,...s},l)=>{let{invalidate:c,camera:d,gl:u,events:h,set:f,get:p,performance:m,viewport:g}=(0,e1.useThree)(),x=t||d,y=r||h.connected||u.domElement,b=v.useMemo(()=>new e7(x),[x]);return(0,C.useFrame)(()=>{b.enabled&&b.update()},-1),v.useEffect(()=>(b.connect(y),()=>void b.dispose()),[y,n,b,c]),v.useEffect(()=>{let e=e=>{c(),n&&m.regress(),a&&a(e)};return b.addEventListener("change",e),i&&b.addEventListener("start",i),o&&b.addEventListener("end",o),()=>{i&&b.removeEventListener("start",i),o&&b.removeEventListener("end",o),b.removeEventListener("change",e)}},[a,i,o,b,c]),v.useEffect(()=>{b.handleResize()},[g]),v.useEffect(()=>{if(e){let e=p().controls;return f({controls:b}),()=>f({controls:e})}},[e,b]),v.createElement("primitive",(0,U.default)({ref:l,object:b},s))});var te=e.i(75144);function tt({children:e,...t}){let{theme:r}=(0,te.useTheme)(),n=(0,v.useRef)(null);return(0,C.useFrame)(({camera:e})=>{n.current.quaternion.copy(e.quaternion)}),(0,m.jsx)("group",{ref:n,...t,children:(0,m.jsx)(e3,{anchorX:"center",anchorY:"middle",color:"dark"===r?"#fff":"#000",fillOpacity:.8,fontSize:.4,maxWidth:2,textAlign:"center",children:e})})}function tr({count:e=4,radius:t=5,skills:r}){let n=(0,v.useMemo)(()=>{let e=[];new N.Spherical,r.length,r.length;for(let n=0;n<r.length;n++){let a=Math.acos(-1+2*n/r.length),i=Math.sqrt(r.length*Math.PI)*a,o=new N.Vector3().setFromSphericalCoords(t,a,i);e.push([o,r[n]])}return e},[t,r]);return(0,m.jsx)("group",{children:n.map(([e,t],r)=>(0,m.jsx)(tt,{position:e,children:t},r))})}function tn({skills:e}){return(0,m.jsxs)("div",{className:"w-full h-[400px] cursor-grab active:cursor-grabbing border border-border/10 rounded-3xl bg-surfaceHighlight/30 overflow-hidden relative",children:[(0,m.jsxs)(T.Canvas,{dpr:[1,2],camera:{position:[0,0,15],fov:35},children:[(0,m.jsx)("fog",{attach:"fog",args:["#202025",0,80]}),(0,m.jsx)("pointLight",{position:[10,10,10],intensity:1}),(0,m.jsx)(tr,{radius:6,skills:e}),(0,m.jsx)(e9,{noPan:!0,noZoom:!0,rotateSpeed:2})]}),(0,m.jsx)("div",{className:"absolute bottom-4 right-6 pointer-events-none",children:(0,m.jsx)("span",{className:"text-[10px] uppercase tracking-widest text-secondary/40 font-bold",children:"Interactive 3D Arsenal"})})]})}let ta=({settings:e,experience:t=[]})=>{let r=e?.title||"More than just code.",n=e?.description||"I bridge the gap between design and engineering. My approach is user-centric, focusing on creating seamless experiences that look great and perform even better.",a=e?.skills&&e.skills.length>0?e.skills:["Next.js","React","TypeScript","Node.js","MongoDB","Tailwind CSS","Framer Motion","UI/UX Design"];return(0,m.jsx)("section",{id:"about",className:"py-24 px-6 bg-surface",children:(0,m.jsx)("div",{className:"max-w-6xl mx-auto",children:(0,m.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-16 items-start",children:[(0,m.jsxs)(y.motion.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},viewport:{once:!0},children:[(0,m.jsx)("h2",{className:"font-display text-4xl md:text-5xl font-bold text-primary mb-6",children:r}),(0,m.jsx)("p",{className:"text-secondary text-lg leading-relaxed mb-8",children:n}),(0,m.jsxs)("div",{className:"bg-surfaceHighlight/50 p-6 rounded-3xl border border-border/50 backdrop-blur-sm",children:[(0,m.jsxs)("h3",{className:"text-xl font-bold text-primary mb-6 flex items-center gap-2",children:[(0,m.jsx)("span",{className:"w-2 h-2 rounded-full bg-accent animate-pulse"}),"Technical Arsenal"]}),(0,m.jsx)(tn,{skills:a})]})]}),(0,m.jsxs)(y.motion.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"relative",children:[(0,m.jsxs)("div",{className:"flex items-center gap-3 mb-8",children:[(0,m.jsx)(_,{className:"text-accent"}),(0,m.jsx)("h3",{className:"text-2xl font-bold text-primary",children:"Experience"})]}),(0,m.jsx)("div",{className:"space-y-8 border-l border-border pl-8 relative",children:t.length>0?t.map((e,t)=>(0,m.jsxs)("div",{className:"relative group",children:[(0,m.jsx)("div",{className:"absolute -left-[39px] top-1 w-5 h-5 rounded-full bg-surface border-2 border-border group-hover:border-accent group-hover:bg-accent transition-colors"}),(0,m.jsxs)("div",{className:"space-y-2",children:[(0,m.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-baseline justify-between gap-1",children:[(0,m.jsx)("h4",{className:"text-xl font-bold text-primary group-hover:text-accent transition-colors",children:e.position}),(0,m.jsxs)("span",{className:"font-mono text-xs text-secondary/60",children:[new Date(e.startDate).toLocaleDateString(void 0,{month:"short",year:"numeric"})," - ",e.current?"Present":new Date(e.endDate).toLocaleDateString(void 0,{month:"short",year:"numeric"})]})]}),(0,m.jsx)("div",{className:"text-base text-primary/80 font-medium",children:e.company}),(0,m.jsx)("p",{className:"text-secondary text-sm leading-relaxed max-w-md",children:e.description}),e.technologies&&e.technologies.length>0&&(0,m.jsx)("div",{className:"flex flex-wrap gap-2 pt-2",children:e.technologies.map((e,t)=>(0,m.jsx)("span",{className:"text-[10px] uppercase tracking-wider text-secondary/50 border border-border px-2 py-0.5 rounded",children:e},t))})]})]},t)):(0,m.jsx)("div",{className:"text-secondary italic",children:"No experience added yet."})})]})]})})})};var ti=e.i(87652),to=e.i(91994),ts=e.i(95420),tl=e.i(15057);let tc=(0,b.default)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]]);var td=e.i(86536);function tu({project:e,index:t,showViewCounter:r,liked:n,onLike:a}){let i=(0,ti.useMotionValue)(0),o=(0,ti.useMotionValue)(0),s=(0,to.useSpring)(i),l=(0,to.useSpring)(o),c=(0,ts.useTransform)(l,[-.5,.5],["10deg","-10deg"]),d=(0,ts.useTransform)(s,[-.5,.5],["-10deg","10deg"]);return(0,m.jsxs)(y.motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1*t},onMouseMove:e=>{let t=e.currentTarget.getBoundingClientRect(),r=t.width,n=t.height,a=e.clientX-t.left,s=e.clientY-t.top;i.set(a/r-.5),o.set(s/n-.5)},onMouseLeave:()=>{i.set(0),o.set(0)},style:{rotateX:c,rotateY:d,transformStyle:"preserve-3d"},className:`relative group rounded-3xl overflow-hidden border border-border/10 bg-surfaceHighlight/20 backdrop-blur-sm transition-colors hover:border-accent/40 ${0===t||5===t?"md:col-span-2 md:row-span-1":2===t?"md:row-span-2":""}`,children:[(0,m.jsxs)("div",{style:{transform:"translateZ(50px)"},className:"absolute inset-4 z-20 flex flex-col justify-between pointer-events-none",children:[(0,m.jsxs)("div",{className:"flex justify-between items-start",children:[(0,m.jsxs)("div",{className:"flex gap-2",children:[r&&void 0!==e.views&&(0,m.jsxs)("div",{className:"bg-black/20 backdrop-blur-md px-3 py-1 rounded-full flex items-center gap-1.5 text-white/80 text-[10px] font-bold border border-white/5",children:[(0,m.jsx)(td.Eye,{size:12}),(0,m.jsx)("span",{children:e.views})]}),(0,m.jsxs)("button",{onClick:t=>e._id&&a(e._id,t),className:`pointer-events-auto bg-black/20 backdrop-blur-md px-3 py-1 rounded-full flex items-center gap-1.5 text-[10px] font-bold border border-white/5 transition-all hover:scale-110 ${n?"text-red-500":"text-white/80 hover:text-red-400"}`,children:[(0,m.jsx)(tc,{size:12,className:n?"fill-current":""}),e.likes&&(0,m.jsx)("span",{children:e.likes})]})]}),(0,m.jsx)("div",{className:"p-2 bg-accent rounded-full opacity-0 group-hover:opacity-100 transition-all transform scale-50 group-hover:scale-100",children:(0,m.jsx)(tl.ArrowUpRight,{size:16,className:"text-white"})})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{className:"flex flex-wrap gap-1.5 mb-2",children:e.tags.slice(0,2).map(e=>(0,m.jsx)("span",{className:"text-[9px] uppercase tracking-wider font-bold px-2 py-0.5 rounded-full bg-white/10 text-white/60 backdrop-blur-md",children:e},e))}),(0,m.jsx)("h3",{className:"text-xl font-bold text-white mb-1 tracking-tight",children:e.title}),(0,m.jsx)("p",{className:"text-white/50 text-xs line-clamp-2 max-w-[250px]",children:e.description})]})]}),(0,m.jsx)(y.motion.div,{className:"absolute inset-0 z-10",style:{backgroundImage:`url(${e.image})`,backgroundSize:"cover",backgroundPosition:"center"},children:(0,m.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"})}),(0,m.jsx)("a",{href:e._id?`/projects/${e._id}`:e.link||"#",className:"absolute inset-0 z-30 pointer-events-auto"})]})}function th({projects:e,showViewCounter:t,likedProjects:r,onLike:n}){return(0,m.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 auto-rows-[300px]",children:e.map((e,a)=>(0,m.jsx)(tu,{project:e,index:a,showViewCounter:t,liked:r.includes(e._id||""),onLike:n},e._id||a))})}let tf=({projects:e,showViewCounter:t=!0})=>{let[r,n]=(0,v.useState)(e),[a,i]=(0,v.useState)([]),o=async(e,t)=>{if(t.preventDefault(),t.stopPropagation(),!a.includes(e)){n(t=>t.map(t=>t._id===e?{...t,likes:(t.likes||0)+1}:t)),i(t=>[...t,e]);try{await fetch(`/api/projects/${e}/like`,{method:"POST"})}catch(e){}}},s=r.length>0?r:[];return(0,m.jsx)("section",{id:"projects",className:"py-24 px-6 bg-background",children:(0,m.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,m.jsxs)(y.motion.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"font-display text-4xl md:text-5xl font-bold mb-16 text-primary text-center md:text-left tracking-tighter",children:["Selected ",(0,m.jsx)("span",{className:"text-secondary/40 italic",children:"Works"})]}),(0,m.jsx)(th,{projects:s,showViewCounter:t,likedProjects:a,onLike:o})]})})};var tp=e.i(13642);let tm=({onComplete:e})=>((0,v.useEffect)(()=>{let t=setTimeout(e,2e3);return()=>clearTimeout(t)},[e]),(0,m.jsx)(y.motion.div,{className:"fixed inset-0 z-[100] bg-black flex items-center justify-center",initial:{opacity:1},exit:{opacity:0},transition:{duration:.8},children:(0,m.jsxs)("div",{className:"relative",children:[(0,m.jsx)(y.motion.div,{className:"w-16 h-16 rounded-full border-2 border-white/20 border-t-accent",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),(0,m.jsx)(y.motion.div,{className:"absolute inset-0 flex items-center justify-center font-display font-bold text-white text-sm",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:"MRS."})]})}));function tv({children:e}){return(0,m.jsx)(m.Fragment,{children:e})}var tg=/[\\\/_+.#"@\[\(\{&]/,tx=/[\\\/_+.#"@\[\(\{&]/g,ty=/[\s-]/,tb=/[\s-]/g;function tw(e){return e.toLowerCase().replace(tb," ")}function tS(e,t,{checkForDefaultPrevented:r=!0}={}){return function(n){if(e?.(n),!1===r||!n.defaultPrevented)return t?.(n)}}function tk(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function tj(...e){return t=>{let r=!1,n=e.map(e=>{let n=tk(e,t);return r||"function"!=typeof n||(r=!0),n});if(r)return()=>{for(let t=0;t<n.length;t++){let r=n[t];"function"==typeof r?r():tk(e[t],null)}}}}function tE(...e){return v.useCallback(tj(...e),e)}"u">typeof window&&window.document&&window.document.createElement;var t_=globalThis?.document?v.useLayoutEffect:()=>{},tT=v[" useId ".trim().toString()]||(()=>void 0),tC=0;function tU(e){let[t,r]=v.useState(tT());return t_(()=>{e||r(e=>e??String(tC++))},[e]),e||(t?`radix-${t}`:"")}v[" useEffectEvent ".trim().toString()],v[" useInsertionEffect ".trim().toString()];var tN=v[" useInsertionEffect ".trim().toString()]||t_;Symbol("RADIX:SYNC_STATE");var tD=e.i(74080);function tA(e){var t;let r,n=(t=e,(r=v.forwardRef((e,t)=>{let{children:r,...n}=e;if(v.isValidElement(r)){var a;let e,i,o=(a=r,(i=(e=Object.getOwnPropertyDescriptor(a.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?a.ref:(i=(e=Object.getOwnPropertyDescriptor(a,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?a.props.ref:a.props.ref||a.ref),s=function(e,t){let r={...t};for(let n in t){let a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...e)=>{let t=i(...e);return a(...e),t}:a&&(r[n]=a):"style"===n?r[n]={...a,...i}:"className"===n&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}(n,r.props);return r.type!==v.Fragment&&(s.ref=t?tj(t,o):o),v.cloneElement(r,s)}return v.Children.count(r)>1?v.Children.only(null):null})).displayName=`${t}.SlotClone`,r),a=v.forwardRef((e,t)=>{let{children:r,...a}=e,i=v.Children.toArray(r),o=i.find(tO);if(o){let e=o.props.children,r=i.map(t=>t!==o?t:v.Children.count(e)>1?v.Children.only(null):v.isValidElement(e)?e.props.children:null);return(0,m.jsx)(n,{...a,ref:t,children:v.isValidElement(e)?v.cloneElement(e,void 0,r):null})}return(0,m.jsx)(n,{...a,ref:t,children:r})});return a.displayName=`${e}.Slot`,a}var tM=Symbol("radix.slottable");function tO(e){return v.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===tM}var tP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let r=tA(`Primitive.${t}`),n=v.forwardRef((e,n)=>{let{asChild:a,...i}=e;return"u">typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,m.jsx)(a?r:t,{...i,ref:n})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function tF(e){let t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...e)=>t.current?.(...e),[])}var tR="dismissableLayer.update",tI=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),tL=v.forwardRef((e,t)=>{let{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:s,...l}=e,c=v.useContext(tI),[d,u]=v.useState(null),h=d?.ownerDocument??globalThis?.document,[,p]=v.useState({}),g=tE(t,e=>u(e)),x=Array.from(c.layers),[y]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),b=x.indexOf(y),w=d?x.indexOf(d):-1,S=c.layersWithOutsidePointerEventsDisabled.size>0,k=w>=b,j=function(e,t=globalThis?.document){let r=tF(e),n=v.useRef(!1),a=v.useRef(()=>{});return v.useEffect(()=>{let e=e=>{if(e.target&&!n.current){let n=function(){tz("dismissableLayer.pointerDownOutside",r,i,{discrete:!0})},i={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",a.current),a.current=n,t.addEventListener("click",a.current,{once:!0})):n()}else t.removeEventListener("click",a.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",e),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}(e=>{let t=e.target,r=[...c.branches].some(e=>e.contains(t));k&&!r&&(a?.(e),o?.(e),e.defaultPrevented||s?.())},h),E=function(e,t=globalThis?.document){let r=tF(e),n=v.useRef(!1);return v.useEffect(()=>{let e=e=>{e.target&&!n.current&&tz("dismissableLayer.focusOutside",r,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}(e=>{let t=e.target;![...c.branches].some(e=>e.contains(t))&&(i?.(e),o?.(e),e.defaultPrevented||s?.())},h);return!function(e,t=globalThis?.document){let r=tF(e);v.useEffect(()=>{let e=e=>{"Escape"===e.key&&r(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[r,t])}(e=>{w===c.layers.size-1&&(n?.(e),!e.defaultPrevented&&s&&(e.preventDefault(),s()))},h),v.useEffect(()=>{if(d)return r&&(0===c.layersWithOutsidePointerEventsDisabled.size&&(f=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),tB(),()=>{r&&1===c.layersWithOutsidePointerEventsDisabled.size&&(h.body.style.pointerEvents=f)}},[d,h,r,c]),v.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),tB())},[d,c]),v.useEffect(()=>{let e=()=>p({});return document.addEventListener(tR,e),()=>document.removeEventListener(tR,e)},[]),(0,m.jsx)(tP.div,{...l,ref:g,style:{pointerEvents:S?k?"auto":"none":void 0,...e.style},onFocusCapture:tS(e.onFocusCapture,E.onFocusCapture),onBlurCapture:tS(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:tS(e.onPointerDownCapture,j.onPointerDownCapture)})});function tB(){let e=new CustomEvent(tR);document.dispatchEvent(e)}function tz(e,t,r,{discrete:n}){let a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});if(t&&a.addEventListener(e,t,{once:!0}),n)a&&tD.flushSync(()=>a.dispatchEvent(i));else a.dispatchEvent(i)}tL.displayName="DismissableLayer",v.forwardRef((e,t)=>{let r=v.useContext(tI),n=v.useRef(null),a=tE(t,n);return v.useEffect(()=>{let e=n.current;if(e)return r.branches.add(e),()=>{r.branches.delete(e)}},[r.branches]),(0,m.jsx)(tP.div,{...e,ref:a})}).displayName="DismissableLayerBranch";var tG=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let r=tA(`Primitive.${t}`),n=v.forwardRef((e,n)=>{let{asChild:a,...i}=e;return"u">typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,m.jsx)(a?r:t,{...i,ref:n})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),tV="focusScope.autoFocusOnMount",tW="focusScope.autoFocusOnUnmount",t$={bubbles:!1,cancelable:!0},tq=v.forwardRef((e,t)=>{let{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[s,l]=v.useState(null),c=tF(a),d=tF(i),u=v.useRef(null),h=tE(t,e=>l(e)),f=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(n){let e=function(e){if(f.paused||!s)return;let t=e.target;s.contains(t)?u.current=t:tY(u.current,{select:!0})},t=function(e){if(f.paused||!s)return;let t=e.relatedTarget;null!==t&&(s.contains(t)||tY(u.current,{select:!0}))};document.addEventListener("focusin",e),document.addEventListener("focusout",t);let r=new MutationObserver(function(e){if(document.activeElement===document.body)for(let t of e)t.removedNodes.length>0&&tY(s)});return s&&r.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),r.disconnect()}}},[n,s,f.paused]),v.useEffect(()=>{if(s){tZ.add(f);let e=document.activeElement;if(!s.contains(e)){let t=new CustomEvent(tV,t$);s.addEventListener(tV,c),s.dispatchEvent(t),t.defaultPrevented||(function(e,{select:t=!1}={}){let r=document.activeElement;for(let n of e)if(tY(n,{select:t}),document.activeElement!==r)return}(tX(s).filter(e=>"A"!==e.tagName),{select:!0}),document.activeElement===e&&tY(s))}return()=>{s.removeEventListener(tV,c),setTimeout(()=>{let t=new CustomEvent(tW,t$);s.addEventListener(tW,d),s.dispatchEvent(t),t.defaultPrevented||tY(e??document.body,{select:!0}),s.removeEventListener(tW,d),tZ.remove(f)},0)}}},[s,c,d,f]);let p=v.useCallback(e=>{if(!r&&!n||f.paused)return;let t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,a=document.activeElement;if(t&&a){var i;let t,n=e.currentTarget,[o,s]=[tH(t=tX(i=n),i),tH(t.reverse(),i)];o&&s?e.shiftKey||a!==s?e.shiftKey&&a===o&&(e.preventDefault(),r&&tY(s,{select:!0})):(e.preventDefault(),r&&tY(o,{select:!0})):a===n&&e.preventDefault()}},[r,n,f.paused]);return(0,m.jsx)(tG.div,{tabIndex:-1,...o,ref:h,onKeyDown:p})});function tX(e){let t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{let t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function tH(e,t){for(let r of e)if(!function(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e&&(void 0===t||e!==t);){if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}(r,{upTo:t}))return r}function tY(e,{select:t=!1}={}){if(e&&e.focus){var r;let n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&(r=e)instanceof HTMLInputElement&&"select"in r&&t&&e.select()}}tq.displayName="FocusScope";var tZ=(i=[],{add(e){let t=i[0];e!==t&&t?.pause(),(i=tK(i,e)).unshift(e)},remove(e){i=tK(i,e),i[0]?.resume()}});function tK(e,t){let r=[...e],n=r.indexOf(t);return -1!==n&&r.splice(n,1),r}var tQ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let r=tA(`Primitive.${t}`),n=v.forwardRef((e,n)=>{let{asChild:a,...i}=e;return"u">typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,m.jsx)(a?r:t,{...i,ref:n})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),tJ=v.forwardRef((e,t)=>{let{container:r,...n}=e,[a,i]=v.useState(!1);t_(()=>i(!0),[]);let o=r||a&&globalThis?.document?.body;return o?tD.default.createPortal((0,m.jsx)(tQ.div,{...n,ref:t}),o):null});tJ.displayName="Portal";var t0=e=>{var t;let r,n,{present:a,children:i}=e,o=function(e){var t,r;let[n,a]=v.useState(),i=v.useRef(null),o=v.useRef(e),s=v.useRef("none"),[l,c]=(t=e?"mounted":"unmounted",r={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},v.useReducer((e,t)=>r[e][t]??e,t));return v.useEffect(()=>{let e=t1(i.current);s.current="mounted"===l?e:"none"},[l]),t_(()=>{let t=i.current,r=o.current;if(r!==e){let n=s.current,a=t1(t);e?c("MOUNT"):"none"===a||t?.display==="none"?c("UNMOUNT"):r&&n!==a?c("ANIMATION_OUT"):c("UNMOUNT"),o.current=e}},[e,c]),t_(()=>{if(n){let e,t=n.ownerDocument.defaultView??window,r=r=>{let a=t1(i.current).includes(CSS.escape(r.animationName));if(r.target===n&&a&&(c("ANIMATION_END"),!o.current)){let r=n.style.animationFillMode;n.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===n.style.animationFillMode&&(n.style.animationFillMode=r)})}},a=e=>{e.target===n&&(s.current=t1(i.current))};return n.addEventListener("animationstart",a),n.addEventListener("animationcancel",r),n.addEventListener("animationend",r),()=>{t.clearTimeout(e),n.removeEventListener("animationstart",a),n.removeEventListener("animationcancel",r),n.removeEventListener("animationend",r)}}c("ANIMATION_END")},[n,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:v.useCallback(e=>{i.current=e?getComputedStyle(e):null,a(e)},[])}}(a),s="function"==typeof i?i({present:o.isPresent}):v.Children.only(i),l=tE(o.ref,(t=s,(n=(r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get)&&"isReactWarning"in r&&r.isReactWarning)?t.ref:(n=(r=Object.getOwnPropertyDescriptor(t,"ref")?.get)&&"isReactWarning"in r&&r.isReactWarning)?t.props.ref:t.props.ref||t.ref));return"function"==typeof i||o.isPresent?v.cloneElement(s,{ref:l}):null};function t1(e){return e?.animationName||"none"}t0.displayName="Presence";var t2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let r=tA(`Primitive.${t}`),n=v.forwardRef((e,n)=>{let{asChild:a,...i}=e;return"u">typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,m.jsx)(a?r:t,{...i,ref:n})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),t3=0;function t4(){let e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var t5=function(){return(t5=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function t6(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)0>t.indexOf(n[a])&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}var t8=("function"==typeof SuppressedError&&SuppressedError,"right-scroll-bar-position"),t7="width-before-scroll-bar";function t9(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var re="u">typeof window?v.useLayoutEffect:v.useEffect,rt=new WeakMap,rr=(void 0===o&&(o={}),(void 0===s&&(s=function(e){return e}),l=[],c=!1,d={read:function(){if(c)throw Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return l.length?l[l.length-1]:null},useMedium:function(e){var t=s(e,c);return l.push(t),function(){l=l.filter(function(e){return e!==t})}},assignSyncMedium:function(e){for(c=!0;l.length;){var t=l;l=[],t.forEach(e)}l={push:function(t){return e(t)},filter:function(){return l}}},assignMedium:function(e){c=!0;var t=[];if(l.length){var r=l;l=[],r.forEach(e),t=l}var n=function(){var r=t;t=[],r.forEach(e)},a=function(){return Promise.resolve().then(n)};a(),l={push:function(e){t.push(e),a()},filter:function(e){return t=t.filter(e),l}}}}).options=t5({async:!0,ssr:!1},o),d),rn=function(){},ra=v.forwardRef(function(e,t){var r,n,a,i,o=v.useRef(null),s=v.useState({onScrollCapture:rn,onWheelCapture:rn,onTouchMoveCapture:rn}),l=s[0],c=s[1],d=e.forwardProps,u=e.children,h=e.className,f=e.removeScrollBar,p=e.enabled,m=e.shards,g=e.sideCar,x=e.noRelative,y=e.noIsolation,b=e.inert,w=e.allowPinchZoom,S=e.as,k=e.gapMode,j=t6(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=(r=[o,t],n=function(e){return r.forEach(function(t){return t9(t,e)})},(a=(0,v.useState)(function(){return{value:null,callback:n,facade:{get current(){return a.value},set current(value){var e=a.value;e!==value&&(a.value=value,a.callback(value,e))}}}})[0]).callback=n,i=a.facade,re(function(){var e=rt.get(i);if(e){var t=new Set(e),n=new Set(r),a=i.current;t.forEach(function(e){n.has(e)||t9(e,null)}),n.forEach(function(e){t.has(e)||t9(e,a)})}rt.set(i,r)},[r]),i),_=t5(t5({},j),l);return v.createElement(v.Fragment,null,p&&v.createElement(g,{sideCar:rr,removeScrollBar:f,shards:m,noRelative:x,noIsolation:y,inert:b,setCallbacks:c,allowPinchZoom:!!w,lockRef:o,gapMode:k}),d?v.cloneElement(v.Children.only(u),t5(t5({},_),{ref:E})):v.createElement(void 0===S?"div":S,t5({},_,{className:h,ref:E}),u))});ra.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},ra.classNames={fullWidth:t7,zeroRight:t8};var ri=function(e){var t=e.sideCar,r=t6(e,["sideCar"]);if(!t)throw Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw Error("Sidecar medium not found");return v.createElement(n,t5({},r))};ri.isSideCarExport=!0;var ro=function(){var e=0,t=null;return{add:function(r){if(0==e&&(t=function(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=p||("u">typeof __webpack_nonce__?__webpack_nonce__:void 0);return t&&e.setAttribute("nonce",t),e}())){var n,a;(n=t).styleSheet?n.styleSheet.cssText=r:n.appendChild(document.createTextNode(r)),a=t,(document.head||document.getElementsByTagName("head")[0]).appendChild(a)}e++},remove:function(){--e||!t||(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},rs=function(){var e=ro();return function(t,r){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},rl=function(){var e=rs();return function(t){return e(t.styles,t.dynamic),null}},rc={left:0,top:0,right:0,gap:0},rd=function(e){return parseInt(e||"",10)||0},ru=function(e){var t=window.getComputedStyle(document.body),r=t["padding"===e?"paddingLeft":"marginLeft"],n=t["padding"===e?"paddingTop":"marginTop"],a=t["padding"===e?"paddingRight":"marginRight"];return[rd(r),rd(n),rd(a)]},rh=function(e){if(void 0===e&&(e="margin"),"u"<typeof window)return rc;var t=ru(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},rf=rl(),rp="data-scroll-locked",rm=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,s=e.gap;return void 0===r&&(r="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(n,";\n   padding-right: ").concat(s,"px ").concat(n,";\n  }\n  body[").concat(rp,"] {\n    overflow: hidden ").concat(n,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(n,";"),"margin"===r&&"\n    padding-left: ".concat(a,"px;\n    padding-top: ").concat(i,"px;\n    padding-right: ").concat(o,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(s,"px ").concat(n,";\n    "),"padding"===r&&"padding-right: ".concat(s,"px ").concat(n,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(t8," {\n    right: ").concat(s,"px ").concat(n,";\n  }\n  \n  .").concat(t7," {\n    margin-right: ").concat(s,"px ").concat(n,";\n  }\n  \n  .").concat(t8," .").concat(t8," {\n    right: 0 ").concat(n,";\n  }\n  \n  .").concat(t7," .").concat(t7," {\n    margin-right: 0 ").concat(n,";\n  }\n  \n  body[").concat(rp,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(s,"px;\n  }\n")},rv=function(){var e=parseInt(document.body.getAttribute(rp)||"0",10);return isFinite(e)?e:0},rg=function(){v.useEffect(function(){return document.body.setAttribute(rp,(rv()+1).toString()),function(){var e=rv()-1;e<=0?document.body.removeAttribute(rp):document.body.setAttribute(rp,e.toString())}},[])},rx=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=void 0===n?"margin":n;rg();var i=v.useMemo(function(){return rh(a)},[a]);return v.createElement(rf,{styles:rm(i,!t,a,r?"":"!important")})},ry=!1;if("u">typeof window)try{var rb=Object.defineProperty({},"passive",{get:function(){return ry=!0,!0}});window.addEventListener("test",rb,rb),window.removeEventListener("test",rb,rb)}catch(e){ry=!1}var rw=!!ry&&{passive:!1},rS=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return"hidden"!==r[t]&&(r.overflowY!==r.overflowX||"TEXTAREA"===e.tagName||"visible"!==r[t])},rk=function(e,t){var r=t.ownerDocument,n=t;do{if("u">typeof ShadowRoot&&n instanceof ShadowRoot&&(n=n.host),rj(e,n)){var a=rE(e,n);if(a[1]>a[2])return!0}n=n.parentNode}while(n&&n!==r.body)return!1},rj=function(e,t){return"v"===e?rS(t,"overflowY"):rS(t,"overflowX")},rE=function(e,t){return"v"===e?[t.scrollTop,t.scrollHeight,t.clientHeight]:[t.scrollLeft,t.scrollWidth,t.clientWidth]},r_=function(e,t,r,n,a){var i,o=(i=window.getComputedStyle(t).direction,"h"===e&&"rtl"===i?-1:1),s=o*n,l=r.target,c=t.contains(l),d=!1,u=s>0,h=0,f=0;do{if(!l)break;var p=rE(e,l),m=p[0],v=p[1]-p[2]-o*m;(m||v)&&rj(e,l)&&(h+=v,f+=m);var g=l.parentNode;l=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!c&&l!==document.body||c&&(t.contains(l)||t===l))return u&&(a&&1>Math.abs(h)||!a&&s>h)?d=!0:!u&&(a&&1>Math.abs(f)||!a&&-s>f)&&(d=!0),d},rT=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},rC=function(e){return[e.deltaX,e.deltaY]},rU=function(e){return e&&"current"in e?e.current:e},rN=0,rD=[];let rA=(u=function(e){var t=v.useRef([]),r=v.useRef([0,0]),n=v.useRef(),a=v.useState(rN++)[0],i=v.useState(rl)[0],o=v.useRef(e);v.useEffect(function(){o.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var t=(function(e,t,r){if(r||2==arguments.length)for(var n,a=0,i=t.length;a<i;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))})([e.lockRef.current],(e.shards||[]).map(rU),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var s=v.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!o.current.allowPinchZoom;var a,i=rT(e),s=r.current,l="deltaX"in e?e.deltaX:s[0]-i[0],c="deltaY"in e?e.deltaY:s[1]-i[1],d=e.target,u=Math.abs(l)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===u&&"range"===d.type)return!1;var h=window.getSelection(),f=h&&h.anchorNode;if(f&&(f===d||f.contains(d)))return!1;var p=rk(u,d);if(!p)return!0;if(p?a=u:(a="v"===u?"h":"v",p=rk(u,d)),!p)return!1;if(!n.current&&"changedTouches"in e&&(l||c)&&(n.current=a),!a)return!0;var m=n.current||a;return r_(m,t,e,"h"===m?l:c,!0)},[]),l=v.useCallback(function(e){if(rD.length&&rD[rD.length-1]===i){var r="deltaY"in e?rC(e):rT(e),n=t.current.filter(function(t){var n;return t.name===e.type&&(t.target===e.target||e.target===t.shadowParent)&&(n=t.delta,n[0]===r[0]&&n[1]===r[1])})[0];if(n&&n.should){e.cancelable&&e.preventDefault();return}if(!n){var a=(o.current.shards||[]).map(rU).filter(Boolean).filter(function(t){return t.contains(e.target)});(a.length>0?s(e,a[0]):!o.current.noIsolation)&&e.cancelable&&e.preventDefault()}}},[]),c=v.useCallback(function(e,r,n,a){var i={name:e,delta:r,target:n,should:a,shadowParent:function(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}(n)};t.current.push(i),setTimeout(function(){t.current=t.current.filter(function(e){return e!==i})},1)},[]),d=v.useCallback(function(e){r.current=rT(e),n.current=void 0},[]),u=v.useCallback(function(t){c(t.type,rC(t),t.target,s(t,e.lockRef.current))},[]),h=v.useCallback(function(t){c(t.type,rT(t),t.target,s(t,e.lockRef.current))},[]);v.useEffect(function(){return rD.push(i),e.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:h}),document.addEventListener("wheel",l,rw),document.addEventListener("touchmove",l,rw),document.addEventListener("touchstart",d,rw),function(){rD=rD.filter(function(e){return e!==i}),document.removeEventListener("wheel",l,rw),document.removeEventListener("touchmove",l,rw),document.removeEventListener("touchstart",d,rw)}},[]);var f=e.removeScrollBar,p=e.inert;return v.createElement(v.Fragment,null,p?v.createElement(i,{styles:"\n  .block-interactivity-".concat(a," {pointer-events: none;}\n  .allow-interactivity-").concat(a," {pointer-events: all;}\n")}):null,f?v.createElement(rx,{noRelative:e.noRelative,gapMode:e.gapMode}):null)},rr.useMedium(u),ri);var rM=v.forwardRef(function(e,t){return v.createElement(ra,t5({},e,{ref:t,sideCar:rA}))});rM.classNames=ra.classNames;var rO=new WeakMap,rP=new WeakMap,rF={},rR=0,rI=function(e){return e&&(e.host||rI(e.parentNode))},rL=function(e,t,r,n){var a=(Array.isArray(e)?e:[e]).map(function(e){if(t.contains(e))return e;var r=rI(e);return r&&t.contains(r)?r:(console.error("aria-hidden",e,"in not contained inside",t,". Doing nothing"),null)}).filter(function(e){return!!e});rF[r]||(rF[r]=new WeakMap);var i=rF[r],o=[],s=new Set,l=new Set(a),c=function(e){!e||s.has(e)||(s.add(e),c(e.parentNode))};a.forEach(c);var d=function(e){!e||l.has(e)||Array.prototype.forEach.call(e.children,function(e){if(s.has(e))d(e);else try{var t=e.getAttribute(n),a=null!==t&&"false"!==t,l=(rO.get(e)||0)+1,c=(i.get(e)||0)+1;rO.set(e,l),i.set(e,c),o.push(e),1===l&&a&&rP.set(e,!0),1===c&&e.setAttribute(r,"true"),a||e.setAttribute(n,"true")}catch(t){console.error("aria-hidden: cannot operate on ",e,t)}})};return d(t),s.clear(),rR++,function(){o.forEach(function(e){var t=rO.get(e)-1,a=i.get(e)-1;rO.set(e,t),i.set(e,a),t||(rP.has(e)||e.removeAttribute(n),rP.delete(e)),a||e.removeAttribute(r)}),--rR||(rO=new WeakMap,rO=new WeakMap,rP=new WeakMap,rF={})}},rB=function(e,t,r){void 0===r&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=t||("u"<typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),rL(n,a,r,"aria-hidden")):function(){return null}},rz="Dialog",[rG,rV]=function(e,t=[]){let r=[],n=()=>{let t=r.map(e=>v.createContext(e));return function(r){let n=r?.[e]||t;return v.useMemo(()=>({[`__scope${e}`]:{...r,[e]:n}}),[r,n])}};return n.scopeName=e,[function(t,n){let a=v.createContext(n),i=r.length;r=[...r,n];let o=t=>{let{scope:r,children:n,...o}=t,s=r?.[e]?.[i]||a,l=v.useMemo(()=>o,Object.values(o));return(0,m.jsx)(s.Provider,{value:l,children:n})};return o.displayName=t+"Provider",[o,function(r,o){let s=o?.[e]?.[i]||a,l=v.useContext(s);if(l)return l;if(void 0!==n)return n;throw Error(`\`${r}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let n=r.reduce((t,{useScope:r,scopeName:n})=>{let a=r(e)[`__scope${n}`];return{...t,...a}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:n}),[n])}};return r.scopeName=t.scopeName,r}(n,...t)]}(rz),[rW,r$]=rG(rz),rq=e=>{let{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,s=v.useRef(null),l=v.useRef(null),[c,d]=function({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){let[a,i,o]=function({defaultProp:e,onChange:t}){let[r,n]=v.useState(e),a=v.useRef(r),i=v.useRef(t);return tN(()=>{i.current=t},[t]),v.useEffect(()=>{a.current!==r&&(i.current?.(r),a.current=r)},[r,a]),[r,n,i]}({defaultProp:t,onChange:r}),s=void 0!==e,l=s?e:a;{let t=v.useRef(void 0!==e);v.useEffect(()=>{let e=t.current;if(e!==s){let t=s?"controlled":"uncontrolled";console.warn(`${n} is changing from ${e?"controlled":"uncontrolled"} to ${t}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}t.current=s},[s,n])}return[l,v.useCallback(t=>{if(s){let r="function"==typeof t?t(e):t;r!==e&&o.current?.(r)}else i(t)},[s,e,i,o])]}({prop:n,defaultProp:a??!1,onChange:i,caller:rz});return(0,m.jsx)(rW,{scope:t,triggerRef:s,contentRef:l,contentId:tU(),titleId:tU(),descriptionId:tU(),open:c,onOpenChange:d,onOpenToggle:v.useCallback(()=>d(e=>!e),[d]),modal:o,children:r})};rq.displayName=rz;var rX="DialogTrigger";v.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,a=r$(rX,r),i=tE(t,a.triggerRef);return(0,m.jsx)(t2.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":ne(a.open),...n,ref:i,onClick:tS(e.onClick,a.onOpenToggle)})}).displayName=rX;var rH="DialogPortal",[rY,rZ]=rG(rH,{forceMount:void 0}),rK=e=>{let{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=r$(rH,t);return(0,m.jsx)(rY,{scope:t,forceMount:r,children:v.Children.map(n,e=>(0,m.jsx)(t0,{present:r||i.open,children:(0,m.jsx)(tJ,{asChild:!0,container:a,children:e})}))})};rK.displayName=rH;var rQ="DialogOverlay",rJ=v.forwardRef((e,t)=>{let r=rZ(rQ,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=r$(rQ,e.__scopeDialog);return i.modal?(0,m.jsx)(t0,{present:n||i.open,children:(0,m.jsx)(r1,{...a,ref:t})}):null});rJ.displayName=rQ;var r0=tA("DialogOverlay.RemoveScroll"),r1=v.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,a=r$(rQ,r);return(0,m.jsx)(rM,{as:r0,allowPinchZoom:!0,shards:[a.contentRef],children:(0,m.jsx)(t2.div,{"data-state":ne(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),r2="DialogContent",r3=v.forwardRef((e,t)=>{let r=rZ(r2,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=r$(r2,e.__scopeDialog);return(0,m.jsx)(t0,{present:n||i.open,children:i.modal?(0,m.jsx)(r4,{...a,ref:t}):(0,m.jsx)(r5,{...a,ref:t})})});r3.displayName=r2;var r4=v.forwardRef((e,t)=>{let r=r$(r2,e.__scopeDialog),n=v.useRef(null),a=tE(t,r.contentRef,n);return v.useEffect(()=>{let e=n.current;if(e)return rB(e)},[]),(0,m.jsx)(r6,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:tS(e.onCloseAutoFocus,e=>{e.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:tS(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;(2===t.button||r)&&e.preventDefault()}),onFocusOutside:tS(e.onFocusOutside,e=>e.preventDefault())})}),r5=v.forwardRef((e,t)=>{let r=r$(r2,e.__scopeDialog),n=v.useRef(!1),a=v.useRef(!1);return(0,m.jsx)(r6,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(n.current||r.triggerRef.current?.focus(),t.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(n.current=!0,"pointerdown"===t.detail.originalEvent.type&&(a.current=!0));let i=t.target;r.triggerRef.current?.contains(i)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&a.current&&t.preventDefault()}})}),r6=v.forwardRef((e,t)=>{let{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,s=r$(r2,r),l=v.useRef(null),c=tE(t,l);return v.useEffect(()=>{let e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??t4()),document.body.insertAdjacentElement("beforeend",e[1]??t4()),t3++,()=>{1===t3&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),t3--}},[]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(tq,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:(0,m.jsx)(tL,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":ne(s.open),...o,ref:c,onDismiss:()=>s.onOpenChange(!1)})}),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(na,{titleId:s.titleId}),(0,m.jsx)(ni,{contentRef:l,descriptionId:s.descriptionId})]})]})}),r8="DialogTitle";v.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,a=r$(r8,r);return(0,m.jsx)(t2.h2,{id:a.titleId,...n,ref:t})}).displayName=r8;var r7="DialogDescription";v.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,a=r$(r7,r);return(0,m.jsx)(t2.p,{id:a.descriptionId,...n,ref:t})}).displayName=r7;var r9="DialogClose";function ne(e){return e?"open":"closed"}v.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,a=r$(r9,r);return(0,m.jsx)(t2.button,{type:"button",...n,ref:t,onClick:tS(e.onClick,()=>a.onOpenChange(!1))})}).displayName=r9;var nt="DialogTitleWarning",[nr,nn]=(h={contentName:r2,titleName:r8,docsSlug:"dialog"},n=v.createContext(h),(a=e=>{let{children:t,...r}=e,a=v.useMemo(()=>r,Object.values(r));return(0,m.jsx)(n.Provider,{value:a,children:t})}).displayName=nt+"Provider",[a,function(e){let t=v.useContext(n);if(t)return t;if(void 0!==h)return h;throw Error(`\`${e}\` must be used within \`${nt}\``)}]),na=({titleId:e})=>{let t=nn(nt),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},ni=({contentRef:e,descriptionId:t})=>{let r=nn("DialogDescriptionWarning"),n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${r.contentName}}.`;return v.useEffect(()=>{let r=e.current?.getAttribute("aria-describedby");t&&r&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},no=Symbol.for("react.lazy"),ns=v[" use ".trim().toString()];function nl(e){var t;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===no&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t}var nc=Symbol("radix.slottable");function nd(e){return v.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===nc}var nu=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{var r,n;let a,i,o,s=(n=r=`Primitive.${t}`,(a=v.forwardRef((e,t)=>{let{children:r,...n}=e;if(nl(r)&&"function"==typeof ns&&(r=ns(r._payload)),v.isValidElement(r)){var a;let e,i,o=(a=r,(i=(e=Object.getOwnPropertyDescriptor(a.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?a.ref:(i=(e=Object.getOwnPropertyDescriptor(a,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?a.props.ref:a.props.ref||a.ref),s=function(e,t){let r={...t};for(let n in t){let a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...e)=>{let t=i(...e);return a(...e),t}:a&&(r[n]=a):"style"===n?r[n]={...a,...i}:"className"===n&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}(n,r.props);return r.type!==v.Fragment&&(s.ref=t?tj(t,o):o),v.cloneElement(r,s)}return v.Children.count(r)>1?v.Children.only(null):null})).displayName=`${n}.SlotClone`,i=a,(o=v.forwardRef((e,t)=>{let{children:r,...n}=e;nl(r)&&"function"==typeof ns&&(r=ns(r._payload));let a=v.Children.toArray(r),o=a.find(nd);if(o){let e=o.props.children,r=a.map(t=>t!==o?t:v.Children.count(e)>1?v.Children.only(null):v.isValidElement(e)?e.props.children:null);return(0,m.jsx)(i,{...n,ref:t,children:v.isValidElement(e)?v.cloneElement(e,void 0,r):null})}return(0,m.jsx)(i,{...n,ref:t,children:r})})).displayName=`${r}.Slot`,o),l=v.forwardRef((e,r)=>{let{asChild:n,...a}=e;return"u">typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,m.jsx)(n?s:t,{...a,ref:r})});return l.displayName=`Primitive.${t}`,{...e,[t]:l}},{}),nh='[cmdk-group=""]',nf='[cmdk-group-items=""]',np='[cmdk-item=""]',nm=`${np}:not([aria-disabled="true"])`,nv="cmdk-item-select",ng="data-value",nx=(e,t,r)=>{var n;return n=e,function e(t,r,n,a,i,o,s){if(o===r.length)return i===t.length?1:.99;var l=`${i},${o}`;if(void 0!==s[l])return s[l];for(var c,d,u,h,f=a.charAt(o),p=n.indexOf(f,i),m=0;p>=0;)(c=e(t,r,n,a,p+1,o+1,s))>m&&(p===i?c*=1:tg.test(t.charAt(p-1))?(c*=.8,(u=t.slice(i,p-1).match(tx))&&i>0&&(c*=Math.pow(.999,u.length))):ty.test(t.charAt(p-1))?(c*=.9,(h=t.slice(i,p-1).match(tb))&&i>0&&(c*=Math.pow(.999,h.length))):(c*=.17,i>0&&(c*=Math.pow(.999,p-i))),t.charAt(p)!==r.charAt(o)&&(c*=.9999)),(c<.1&&n.charAt(p-1)===a.charAt(o+1)||a.charAt(o+1)===a.charAt(o)&&n.charAt(p-1)!==a.charAt(o))&&.1*(d=e(t,r,n,a,p+1,o+2,s))>c&&(c=.1*d),c>m&&(m=c),p=n.indexOf(f,p+1);return s[l]=m,m}(n=r&&r.length>0?`${n+" "+r.join(" ")}`:n,t,tw(n),tw(t),0,0,{})},ny=v.createContext(void 0),nb=v.createContext(void 0),nw=v.createContext(void 0),nS=v.forwardRef((e,t)=>{let r=nA(()=>{var t,r;return{search:"",value:null!=(r=null!=(t=e.value)?t:e.defaultValue)?r:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=nA(()=>new Set),a=nA(()=>new Map),i=nA(()=>new Map),o=nA(()=>new Set),s=nN(e),{label:l,children:c,value:d,onValueChange:u,filter:h,shouldFilter:f,loop:p,disablePointerSelection:m=!1,vimBindings:g=!0,...x}=e,y=tU(),b=tU(),w=tU(),S=v.useRef(null),k=nP();nD(()=>{if(void 0!==d){let e=d.trim();r.current.value=e,j.emit()}},[d]),nD(()=>{k(6,N)},[]);let j=v.useMemo(()=>({subscribe:e=>(o.current.add(e),()=>o.current.delete(e)),snapshot:()=>r.current,setState:(e,t,n)=>{var a,i,o,l;if(!Object.is(r.current[e],t)){if(r.current[e]=t,"search"===e)U(),T(),k(1,C);else if("value"===e){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let e=document.getElementById(w);e?e.focus():null==(a=document.getElementById(y))||a.focus()}if(k(7,()=>{var e;r.current.selectedItemId=null==(e=D())?void 0:e.id,j.emit()}),n||k(5,N),(null==(i=s.current)?void 0:i.value)!==void 0){null==(l=(o=s.current).onValueChange)||l.call(o,null!=t?t:"");return}}j.emit()}},emit:()=>{o.current.forEach(e=>e())}}),[]),E=v.useMemo(()=>({value:(e,t,n)=>{var a;t!==(null==(a=i.current.get(e))?void 0:a.value)&&(i.current.set(e,{value:t,keywords:n}),r.current.filtered.items.set(e,_(t,n)),k(2,()=>{T(),j.emit()}))},item:(e,t)=>(n.current.add(e),t&&(a.current.has(t)?a.current.get(t).add(e):a.current.set(t,new Set([e]))),k(3,()=>{U(),T(),r.current.value||C(),j.emit()}),()=>{i.current.delete(e),n.current.delete(e),r.current.filtered.items.delete(e);let t=D();k(4,()=>{U(),(null==t?void 0:t.getAttribute("id"))===e&&C(),j.emit()})}),group:e=>(a.current.has(e)||a.current.set(e,new Set),()=>{i.current.delete(e),a.current.delete(e)}),filter:()=>s.current.shouldFilter,label:l||e["aria-label"],getDisablePointerSelection:()=>s.current.disablePointerSelection,listId:y,inputId:w,labelId:b,listInnerRef:S}),[]);function _(e,t){var n,a;let i=null!=(a=null==(n=s.current)?void 0:n.filter)?a:nx;return e?i(e,r.current.search,t):0}function T(){if(!r.current.search||!1===s.current.shouldFilter)return;let e=r.current.filtered.items,t=[];r.current.filtered.groups.forEach(r=>{let n=a.current.get(r),i=0;n.forEach(t=>{i=Math.max(e.get(t),i)}),t.push([r,i])});let n=S.current;A().sort((t,r)=>{var n,a;let i=t.getAttribute("id"),o=r.getAttribute("id");return(null!=(n=e.get(o))?n:0)-(null!=(a=e.get(i))?a:0)}).forEach(e=>{let t=e.closest(nf);t?t.appendChild(e.parentElement===t?e:e.closest(`${nf} > *`)):n.appendChild(e.parentElement===n?e:e.closest(`${nf} > *`))}),t.sort((e,t)=>t[1]-e[1]).forEach(e=>{var t;let r=null==(t=S.current)?void 0:t.querySelector(`${nh}[${ng}="${encodeURIComponent(e[0])}"]`);null==r||r.parentElement.appendChild(r)})}function C(){let e=A().find(e=>"true"!==e.getAttribute("aria-disabled")),t=null==e?void 0:e.getAttribute(ng);j.setState("value",t||void 0)}function U(){var e,t,o,l;if(!r.current.search||!1===s.current.shouldFilter){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let c=0;for(let a of n.current){let n=_(null!=(t=null==(e=i.current.get(a))?void 0:e.value)?t:"",null!=(l=null==(o=i.current.get(a))?void 0:o.keywords)?l:[]);r.current.filtered.items.set(a,n),n>0&&c++}for(let[e,t]of a.current)for(let n of t)if(r.current.filtered.items.get(n)>0){r.current.filtered.groups.add(e);break}r.current.filtered.count=c}function N(){var e,t,r;let n=D();n&&((null==(e=n.parentElement)?void 0:e.firstChild)===n&&(null==(r=null==(t=n.closest(nh))?void 0:t.querySelector('[cmdk-group-heading=""]'))||r.scrollIntoView({block:"nearest"})),n.scrollIntoView({block:"nearest"}))}function D(){var e;return null==(e=S.current)?void 0:e.querySelector(`${np}[aria-selected="true"]`)}function A(){var e;return Array.from((null==(e=S.current)?void 0:e.querySelectorAll(nm))||[])}function M(e){let t=A()[e];t&&j.setState("value",t.getAttribute(ng))}function O(e){var t;let r=D(),n=A(),a=n.findIndex(e=>e===r),i=n[a+e];null!=(t=s.current)&&t.loop&&(i=a+e<0?n[n.length-1]:a+e===n.length?n[0]:n[a+e]),i&&j.setState("value",i.getAttribute(ng))}function P(e){let t=D(),r=null==t?void 0:t.closest(nh),n;for(;r&&!n;)n=null==(r=e>0?function(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}(r,nh):function(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}(r,nh))?void 0:r.querySelector(nm);n?j.setState("value",n.getAttribute(ng)):O(e)}let F=()=>M(A().length-1),R=e=>{e.preventDefault(),e.metaKey?F():e.altKey?P(1):O(1)},I=e=>{e.preventDefault(),e.metaKey?M(0):e.altKey?P(-1):O(-1)};return v.createElement(nu.div,{ref:t,tabIndex:-1,...x,"cmdk-root":"",onKeyDown:e=>{var t;null==(t=x.onKeyDown)||t.call(x,e);let r=e.nativeEvent.isComposing||229===e.keyCode;if(!(e.defaultPrevented||r))switch(e.key){case"n":case"j":g&&e.ctrlKey&&R(e);break;case"ArrowDown":R(e);break;case"p":case"k":g&&e.ctrlKey&&I(e);break;case"ArrowUp":I(e);break;case"Home":e.preventDefault(),M(0);break;case"End":e.preventDefault(),F();break;case"Enter":{e.preventDefault();let t=D();if(t){let e=new Event(nv);t.dispatchEvent(e)}}}}},v.createElement("label",{"cmdk-label":"",htmlFor:E.inputId,id:E.labelId,style:nR},l),nF(e,e=>v.createElement(nb.Provider,{value:j},v.createElement(ny.Provider,{value:E},e))))}),nk=v.forwardRef((e,t)=>{var r,n;let a=tU(),i=v.useRef(null),o=v.useContext(nw),s=v.useContext(ny),l=nN(e),c=null!=(n=null==(r=l.current)?void 0:r.forceMount)?n:null==o?void 0:o.forceMount;nD(()=>{if(!c)return s.item(a,null==o?void 0:o.id)},[c]);let d=nO(a,i,[e.value,e.children,i],e.keywords),u=v.useContext(nb),h=nM(e=>e.value&&e.value===d.current),f=nM(e=>!!c||!1===s.filter()||!e.search||e.filtered.items.get(a)>0);function p(){var e,t;m(),null==(t=(e=l.current).onSelect)||t.call(e,d.current)}function m(){u.setState("value",d.current,!0)}if(v.useEffect(()=>{let t=i.current;if(!(!t||e.disabled))return t.addEventListener(nv,p),()=>t.removeEventListener(nv,p)},[f,e.onSelect,e.disabled]),!f)return null;let{disabled:g,value:x,onSelect:y,forceMount:b,keywords:w,...S}=e;return v.createElement(nu.div,{ref:tj(i,t),...S,id:a,"cmdk-item":"",role:"option","aria-disabled":!!g,"aria-selected":!!h,"data-disabled":!!g,"data-selected":!!h,onPointerMove:g||s.getDisablePointerSelection()?void 0:m,onClick:g?void 0:p},e.children)}),nj=v.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:a,...i}=e,o=tU(),s=v.useRef(null),l=v.useRef(null),c=tU(),d=v.useContext(ny),u=nM(e=>!!a||!1===d.filter()||!e.search||e.filtered.groups.has(o));nD(()=>d.group(o),[]),nO(o,s,[e.value,e.heading,l]);let h=v.useMemo(()=>({id:o,forceMount:a}),[a]);return v.createElement(nu.div,{ref:tj(s,t),...i,"cmdk-group":"",role:"presentation",hidden:!u||void 0},r&&v.createElement("div",{ref:l,"cmdk-group-heading":"","aria-hidden":!0,id:c},r),nF(e,e=>v.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?c:void 0},v.createElement(nw.Provider,{value:h},e))))}),nE=v.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,a=v.useRef(null),i=nM(e=>!e.search);return r||i?v.createElement(nu.div,{ref:tj(a,t),...n,"cmdk-separator":"",role:"separator"}):null}),n_=v.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,a=null!=e.value,i=v.useContext(nb),o=nM(e=>e.search),s=nM(e=>e.selectedItemId),l=v.useContext(ny);return v.useEffect(()=>{null!=e.value&&i.setState("search",e.value)},[e.value]),v.createElement(nu.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":l.listId,"aria-labelledby":l.labelId,"aria-activedescendant":s,id:l.inputId,type:"text",value:a?e.value:o,onChange:e=>{a||i.setState("search",e.target.value),null==r||r(e.target.value)}})}),nT=v.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...a}=e,i=v.useRef(null),o=v.useRef(null),s=nM(e=>e.selectedItemId),l=v.useContext(ny);return v.useEffect(()=>{if(o.current&&i.current){let e=o.current,t=i.current,r,n=new ResizeObserver(()=>{r=requestAnimationFrame(()=>{let r=e.offsetHeight;t.style.setProperty("--cmdk-list-height",r.toFixed(1)+"px")})});return n.observe(e),()=>{cancelAnimationFrame(r),n.unobserve(e)}}},[]),v.createElement(nu.div,{ref:tj(i,t),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":s,"aria-label":n,id:l.listId},nF(e,e=>v.createElement("div",{ref:tj(o,l.listInnerRef),"cmdk-list-sizer":""},e)))}),nC=v.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:a,contentClassName:i,container:o,...s}=e;return v.createElement(rq,{open:r,onOpenChange:n},v.createElement(rK,{container:o},v.createElement(rJ,{"cmdk-overlay":"",className:a}),v.createElement(r3,{"aria-label":e.label,"cmdk-dialog":"",className:i},v.createElement(nS,{ref:t,...s}))))}),nU=Object.assign(nS,{List:nT,Item:nk,Input:n_,Group:nj,Separator:nE,Dialog:nC,Empty:v.forwardRef((e,t)=>nM(e=>0===e.filtered.count)?v.createElement(nu.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),Loading:v.forwardRef((e,t)=>{let{progress:r,children:n,label:a="Loading...",...i}=e;return v.createElement(nu.div,{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},nF(e,e=>v.createElement("div",{"aria-hidden":!0},e)))})});function nN(e){let t=v.useRef(e);return nD(()=>{t.current=e}),t}var nD="u"<typeof window?v.useEffect:v.useLayoutEffect;function nA(e){let t=v.useRef();return void 0===t.current&&(t.current=e()),t}function nM(e){let t=v.useContext(nb),r=()=>e(t.snapshot());return v.useSyncExternalStore(t.subscribe,r,r)}function nO(e,t,r,n=[]){let a=v.useRef(),i=v.useContext(ny);return nD(()=>{var o;let s=(()=>{var e;for(let t of r){if("string"==typeof t)return t.trim();if("object"==typeof t&&"current"in t)return t.current?null==(e=t.current.textContent)?void 0:e.trim():a.current}})(),l=n.map(e=>e.trim());i.value(e,s,l),null==(o=t.current)||o.setAttribute(ng,s),a.current=s}),a}var nP=()=>{let[e,t]=v.useState(),r=nA(()=>new Map);return nD(()=>{r.current.forEach(e=>e()),r.current=new Map},[e]),(e,n)=>{r.current.set(e,n),t({})}};function nF({asChild:e,children:t},r){let n;return e&&v.isValidElement(t)?v.cloneElement("function"==typeof(n=t.type)?n(t.props):"render"in n?n.render(t.props):t,{ref:t.ref},r(t.props.children)):r(t)}var nR={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"},nI=e.i(92989),nL=e.i(94351),nB=e.i(84614),nz=e.i(63488),nG=e.i(78583);let nV=(0,b.default)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var nW=e.i(55436),n$=e.i(50682);function nq(){let e=(0,nI.useRouter)(),[t,r]=v.useState(!1);v.useEffect(()=>{let e=e=>{"k"===e.key&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),r(e=>!e))};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[]);let n=v.useCallback(e=>{r(!1),e()},[]);return t?(0,m.jsx)("div",{className:"fixed inset-0 z-[100] bg-black/50 backdrop-blur-sm flex items-start justify-center pt-[15vh] px-4",children:(0,m.jsx)("div",{className:"w-full max-w-[640px] bg-[#1a1a1a] border border-white/10 rounded-xl shadow-2xl overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:(0,m.jsxs)(nU,{label:"Global Command Menu",className:"bg-transparent",children:[(0,m.jsxs)("div",{className:"flex items-center border-b border-white/10 px-4",children:[(0,m.jsx)(nW.Search,{className:"w-5 h-5 text-secondary mr-3"}),(0,m.jsx)(nU.Input,{placeholder:"Type a command or search...",className:"flex h-14 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-secondary disabled:cursor-not-allowed disabled:opacity-50 text-white"})]}),(0,m.jsxs)(nU.List,{className:"max-h-[300px] overflow-y-auto overflow-x-hidden py-2 px-2",children:[(0,m.jsx)(nU.Empty,{className:"py-6 text-center text-sm text-secondary",children:"No results found."}),(0,m.jsxs)(nU.Group,{heading:"Navigation",className:"text-xs font-medium text-secondary px-2 mb-2 mt-2",children:[(0,m.jsxs)(nU.Item,{onSelect:()=>n(()=>e.push("/")),className:"flex items-center px-2 py-3 text-sm text-white rounded cursor-pointer hover:bg-white/10 aria-selected:bg-white/10 transition-colors",children:[(0,m.jsx)(nL.Home,{className:"mr-3 h-4 w-4 text-secondary"}),(0,m.jsx)("span",{children:"Home"})]}),(0,m.jsxs)(nU.Item,{onSelect:()=>n(()=>e.push("/blog")),className:"flex items-center px-2 py-3 text-sm text-white rounded cursor-pointer hover:bg-white/10 aria-selected:bg-white/10 transition-colors",children:[(0,m.jsx)(nG.FileText,{className:"mr-3 h-4 w-4 text-secondary"}),(0,m.jsx)("span",{children:"Blog"})]}),(0,m.jsxs)(nU.Item,{onSelect:()=>n(()=>e.push("/#projects")),className:"flex items-center px-2 py-3 text-sm text-white rounded cursor-pointer hover:bg-white/10 aria-selected:bg-white/10 transition-colors",children:[(0,m.jsx)(_,{className:"mr-3 h-4 w-4 text-secondary"}),(0,m.jsx)("span",{children:"Projects"})]}),(0,m.jsxs)(nU.Item,{onSelect:()=>n(()=>e.push("/#about")),className:"flex items-center px-2 py-3 text-sm text-white rounded cursor-pointer hover:bg-white/10 aria-selected:bg-white/10 transition-colors",children:[(0,m.jsx)(nB.User,{className:"mr-3 h-4 w-4 text-secondary"}),(0,m.jsx)("span",{children:"About"})]}),(0,m.jsxs)(nU.Item,{onSelect:()=>n(()=>e.push("/#contact")),className:"flex items-center px-2 py-3 text-sm text-white rounded cursor-pointer hover:bg-white/10 aria-selected:bg-white/10 transition-colors",children:[(0,m.jsx)(nz.Mail,{className:"mr-3 h-4 w-4 text-secondary"}),(0,m.jsx)("span",{children:"Contact"})]})]}),(0,m.jsx)(nU.Group,{heading:"Admin",className:"text-xs font-medium text-secondary px-2 mb-2 mt-4",children:(0,m.jsxs)(nU.Item,{onSelect:()=>n(()=>e.push("/admin")),className:"flex items-center px-2 py-3 text-sm text-white rounded cursor-pointer hover:bg-white/10 aria-selected:bg-white/10 transition-colors",children:[(0,m.jsx)(nV,{className:"mr-3 h-4 w-4 text-secondary"}),(0,m.jsx)("span",{children:"Admin Dashboard"})]})}),(0,m.jsx)(nU.Group,{heading:"Socials",className:"text-xs font-medium text-secondary px-2 mb-2 mt-4",children:(0,m.jsxs)(nU.Item,{onSelect:()=>n(()=>window.open("https://github.com/StartDust28","_blank")),className:"flex items-center px-2 py-3 text-sm text-white rounded cursor-pointer hover:bg-white/10 aria-selected:bg-white/10 transition-colors",children:[(0,m.jsx)(n$.Github,{className:"mr-3 h-4 w-4 text-secondary"}),(0,m.jsx)("span",{children:"GitHub"})]})})]})]})})}):null}var nX=e.i(86311),nH=e.i(37727),nY=e.i(14764),nZ=e.i(83086);function nK(){let[e,t]=(0,v.useState)(!1),[r,n]=(0,v.useState)([{role:"model",text:"Hi! I am an AI assistant. Ask me anything about my work, skills, or experience."}]),[a,i]=(0,v.useState)(""),[o,s]=(0,v.useState)(!1),l=(0,v.useRef)(null);(0,v.useEffect)(()=>{l.current?.scrollIntoView({behavior:"smooth"})},[r,e]);let c=async e=>{if(e.preventDefault(),!a.trim()||o)return;let t=a.trim();i(""),n(e=>[...e,{role:"user",text:t}]),s(!0);try{let e=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:t,history:r.map(e=>({role:"user"===e.role?"user":"model",parts:[{text:e.text}]}))})}),a=await e.json();a.error?n(e=>[...e,{role:"model",text:"Sorry, I'm having trouble connecting right now. Please try again later."}]):n(e=>[...e,{role:"model",text:a.reply}])}catch(e){n(e=>[...e,{role:"model",text:"Error sending message."}])}finally{s(!1)}};return(0,m.jsxs)("div",{className:"fixed bottom-6 right-6 z-50 flex flex-col items-end",children:[(0,m.jsx)(g.AnimatePresence,{children:e&&(0,m.jsxs)(y.motion.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"mb-4 w-80 md:w-96 bg-[#1a1a1a] border border-white/10 rounded-2xl shadow-2xl flex flex-col overflow-hidden",style:{height:"500px",maxHeight:"70vh"},children:[(0,m.jsxs)("div",{className:"p-4 border-b border-white/10 bg-white/5 flex justify-between items-center",children:[(0,m.jsxs)("div",{className:"flex items-center gap-2",children:[(0,m.jsx)(nZ.Sparkles,{size:16,className:"text-accent"}),(0,m.jsx)("h3",{className:"font-bold text-white text-sm",children:"AI Assistant"})]}),(0,m.jsx)("button",{onClick:()=>t(!1),className:"text-secondary hover:text-white",children:(0,m.jsx)(nH.X,{size:18})})]}),(0,m.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-background/50",children:[r.map((e,t)=>(0,m.jsx)("div",{className:`flex ${"user"===e.role?"justify-end":"justify-start"}`,children:(0,m.jsx)("div",{className:`max-w-[85%] p-3 rounded-2xl text-sm leading-relaxed ${"user"===e.role?"bg-accent text-white rounded-br-none":"bg-surfaceHighlight text-secondary rounded-bl-none border border-white/5"}`,children:e.text})},t)),o&&(0,m.jsx)("div",{className:"flex justify-start",children:(0,m.jsx)("div",{className:"bg-surfaceHighlight p-3 rounded-2xl rounded-bl-none border border-white/5",children:(0,m.jsxs)("div",{className:"flex gap-1",children:[(0,m.jsx)("span",{className:"w-2 h-2 bg-secondary/50 rounded-full animate-bounce"}),(0,m.jsx)("span",{className:"w-2 h-2 bg-secondary/50 rounded-full animate-bounce delay-75"}),(0,m.jsx)("span",{className:"w-2 h-2 bg-secondary/50 rounded-full animate-bounce delay-150"})]})})}),(0,m.jsx)("div",{ref:l})]}),(0,m.jsx)("form",{onSubmit:c,className:"p-3 border-t border-white/10 bg-white/5",children:(0,m.jsxs)("div",{className:"relative",children:[(0,m.jsx)("input",{value:a,onChange:e=>i(e.target.value),placeholder:"Ask about my skills...",className:"w-full bg-surface border border-white/10 rounded-full pl-4 pr-12 py-3 text-sm text-white focus:outline-none focus:border-accent shadow-inner"}),(0,m.jsx)("button",{type:"submit",disabled:!a.trim()||o,className:"absolute right-2 top-1/2 -translate-y-1/2 p-2 bg-accent text-white rounded-full hover:bg-accent/80 transition-colors disabled:opacity-50 disabled:hover:bg-accent",children:(0,m.jsx)(nY.Send,{size:14})})]})})]})}),(0,m.jsxs)("button",{onClick:()=>t(!e),className:"group relative flex items-center justify-center w-14 h-14 bg-white text-black rounded-full shadow-lg hover:bg-gray-200 transition-all hover:scale-105 active:scale-95",children:[(0,m.jsx)(g.AnimatePresence,{mode:"wait",children:e?(0,m.jsx)(y.motion.div,{initial:{rotate:-90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:90,opacity:0},children:(0,m.jsx)(nH.X,{size:24})},"close"):(0,m.jsx)(y.motion.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},children:(0,m.jsx)(nX.MessageSquare,{size:24,className:"fill-current"})},"open")}),!e&&(0,m.jsx)("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full border-2 border-[#121212]",children:(0,m.jsx)("span",{className:"absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75 animate-ping"})})]})]})}function nQ(){let e=(0,nI.usePathname)();return(0,v.useEffect)(()=>{(async()=>{try{await fetch("/api/analytics",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:e})})}catch(e){}})()},[e]),null}var nJ=e.i(83599);let n0=e=>fetch(e).then(e=>e.json()),n1=()=>{let{data:e,isLoading:t}=(0,nJ.default)("/api/skills",n0),r=e&&e.length>0?e.map(e=>e.name):["React","Next.js","TypeScript","Node.js","MongoDB","Tailwind CSS","Three.js","Framer Motion","Git","AWS"];return(0,m.jsxs)("div",{className:"py-10 bg-background overflow-hidden relative",children:[(0,m.jsx)("div",{className:"absolute inset-y-0 left-0 w-20 bg-gradient-to-r from-background to-transparent z-10"}),(0,m.jsx)("div",{className:"absolute inset-y-0 right-0 w-20 bg-gradient-to-l from-background to-transparent z-10"}),(0,m.jsx)("div",{className:"flex",children:(0,m.jsx)(y.motion.div,{className:"flex gap-16 pr-16 whitespace-nowrap",animate:{x:"-50%"},transition:{ease:"linear",duration:30,repeat:1/0},children:[...r,...r,...r].map((e,t)=>(0,m.jsx)("span",{className:"text-4xl font-display font-bold text-white/5 uppercase tracking-tighter hover:text-white/20 transition-colors cursor-default select-none",children:e},t))})})]})};var n2=e.i(87316);let n3=({experience:e})=>{let t=[...e||[]].sort((e,t)=>new Date(t.startDate).getTime()-new Date(e.startDate).getTime());return 0===t.length?null:(0,m.jsx)("section",{id:"experience",className:"py-24 px-6 bg-background relative overflow-hidden",children:(0,m.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,m.jsxs)(y.motion.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"font-display text-4xl md:text-5xl font-bold mb-16 text-primary text-center",children:["Experience ",(0,m.jsx)("span",{className:"text-accent",children:"Timeline"})]}),(0,m.jsx)("div",{className:"relative border-l border-border ml-4 md:ml-12 pl-8 md:pl-12 space-y-12",children:t.map((e,t)=>(0,m.jsxs)(y.motion.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},transition:{delay:.1*t},viewport:{once:!0},className:"relative",children:[(0,m.jsx)("div",{className:"absolute -left-[41px] md:-left-[57px] top-2 w-5 h-5 bg-background border-2 border-accent rounded-full flex items-center justify-center",children:(0,m.jsx)("div",{className:"w-2 h-2 bg-accent rounded-full"})}),(0,m.jsxs)("div",{className:"bg-surfaceHighlight border border-border rounded-2xl p-6 hover:bg-surface transition-all",children:[(0,m.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-2 mb-4",children:[(0,m.jsxs)("h3",{className:"text-xl font-bold text-primary flex items-center gap-2",children:[(0,m.jsx)(_,{size:18,className:"text-accent"}),e.role]}),(0,m.jsxs)("div",{className:"text-sm font-medium text-secondary bg-surface border border-border px-3 py-1 rounded-full flex items-center gap-2 w-fit",children:[(0,m.jsx)(n2.Calendar,{size:14}),(0,m.jsxs)("span",{children:[new Date(e.startDate).getFullYear()," - ",e.endDate?new Date(e.endDate).getFullYear():"Present"]})]})]}),(0,m.jsx)("h4",{className:"text-lg font-medium text-primary/80 mb-2",children:e.company}),(0,m.jsx)("p",{className:"text-secondary leading-relaxed",children:e.description})]})]},t))})]})})},n4=(0,b.default)("pen-tool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]),n5=(0,b.default)("code-xml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]),n6=(0,b.default)("rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);var n8=e.i(72520);let n7=[{title:"Discovery",description:"Deep dive into your goals, audience, and problem space to define a clear technical roadmap.",icon:nW.Search,color:"text-blue-500",bg:"bg-blue-500/10"},{title:"Architecture",description:"Mapping out the system design, database schema, and UI structure for high scalability.",icon:n4,color:"text-purple-500",bg:"bg-purple-500/10"},{title:"Development",description:"Clean, performant codebase construction using modern stacks and pixel-perfect UI.",icon:n5,color:"text-accent",bg:"bg-accent/10"},{title:"Deployment",description:"Rigorous testing and CI/CD automation for a seamless transition to the production world.",icon:n6,color:"text-green-500",bg:"bg-green-500/10"}];function n9(){return(0,m.jsx)("section",{id:"process",className:"py-32 relative overflow-hidden",children:(0,m.jsxs)("div",{className:"max-w-7xl mx-auto px-6 relative z-10",children:[(0,m.jsxs)("header",{className:"mb-20",children:[(0,m.jsxs)("h2",{className:"text-4xl md:text-6xl font-display font-bold text-primary mb-6 tracking-tighter",children:["The ",(0,m.jsx)("span",{className:"text-accent underline decoration-accent/20 underline-offset-8",children:"Blueprint"})]}),(0,m.jsx)("p",{className:"text-secondary text-lg max-w-xl",children:"A rigorous process designed to turn complex visions into elegant, functional digital realities."})]}),(0,m.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 relative",children:[(0,m.jsx)("div",{className:"hidden md:block absolute top-[2.5rem] left-[2rem] right-[2rem] h-[1px] bg-border/20 -z-10"}),n7.map((e,t)=>(0,m.jsxs)(y.motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1*t},className:"group relative p-8 bg-surface/30 backdrop-blur-sm border border-border/10 rounded-3xl hover:border-accent/30 transition-all duration-500",children:[(0,m.jsx)("div",{className:`w-12 h-12 ${e.bg} ${e.color} rounded-2xl flex items-center justify-center mb-6 relative z-10 group-hover:scale-110 transition-transform`,children:(0,m.jsx)(e.icon,{size:24})}),(0,m.jsxs)("h3",{className:"text-xl font-bold text-primary mb-4 flex items-center gap-2",children:[(0,m.jsxs)("span",{className:"text-[10px] font-mono text-secondary/40",children:["0",t+1]}),e.title]}),(0,m.jsx)("p",{className:"text-secondary text-sm leading-relaxed mb-6",children:e.description}),t<n7.length-1&&(0,m.jsx)(n8.ArrowRight,{className:"hidden md:block absolute -right-6 top-10 text-border/40 group-hover:text-accent/40 transition-colors",size:20})]},t))]})]})})}let ae=(0,b.default)("beaker",[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]]),at=(0,b.default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var ar=e.i(39312);let an=(0,b.default)("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]);e.i(16787);var aa=e.i(77475),ai=e.i(85850);let ao=[{title:"Liquid Buttons",description:"SVG filter based gooey interaction for high-end navigation.",icon:ar.Zap,tags:["SVG","Framer Motion"],link:"#"},{title:"3D Particle Field",description:"Interactive noise-driven particles with depth awareness.",icon:nZ.Sparkles,tags:["Three.js","R3F"],link:"#"},{title:"Glass Morphic UI",description:"Advanced backdrop filters and border gradients.",icon:an,tags:["CSS","Design"],link:"#"}];function as(){return(0,m.jsx)("section",{id:"labs",className:"py-32 relative",children:(0,m.jsxs)("div",{className:"max-w-7xl mx-auto px-6 relative z-10",children:[(0,m.jsxs)("header",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6 mb-16",children:[(0,m.jsxs)("div",{children:[(0,m.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,m.jsx)("div",{className:"p-2 bg-accent/10 rounded-lg text-accent",children:(0,m.jsx)(ae,{size:20})}),(0,m.jsx)("span",{className:"text-accent font-mono text-xs uppercase tracking-widest font-bold",children:"Research & Development"})]}),(0,m.jsxs)("h2",{className:"text-4xl md:text-5xl font-display font-bold text-primary tracking-tighter",children:["Interactive ",(0,m.jsx)("span",{className:"text-secondary/40 italic",children:"Labs"})]})]}),(0,m.jsx)("p",{className:"text-secondary text-sm max-w-sm leading-relaxed",children:"A playground for experimental UI patterns, creative coding rituals, and emerging web technologies."})]}),(0,m.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:ao.map((e,t)=>(0,m.jsx)(y.motion.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{delay:.1*t},children:(0,m.jsxs)(aa.Card,{className:"group h-full flex flex-col hover:border-accent/40 transition-all border-border/50 bg-surface/20",children:[(0,m.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,m.jsx)("div",{className:"p-3 bg-accent/5 rounded-2xl text-accent group-hover:scale-110 transition-transform",children:(0,m.jsx)(e.icon,{size:24})}),(0,m.jsx)(at,{size:18,className:"text-secondary/20 group-hover:text-accent transition-colors"})]}),(0,m.jsx)("h3",{className:"text-xl font-bold text-primary mb-3",children:e.title}),(0,m.jsx)("p",{className:"text-secondary text-sm mb-6 flex-grow",children:e.description}),(0,m.jsx)("div",{className:"flex flex-wrap gap-2",children:e.tags.map(e=>(0,m.jsx)(ai.Badge,{variant:"secondary",className:"text-[10px] bg-secondary/5 border-secondary/10",children:e},e))})]})},t))})]})})}let al=(0,b.default)("quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]),ac=[{name:"Alex Rivera",role:"CTO @ TechFlow",content:"An exceptional developer who doesn't just write code, but builds experiences. The attention to detail is truly world-class.",image:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=100&h=100&fit=crop"},{name:"Sarah Chen",role:"Founder @ Lumina Design",content:"Working with them was a game-changer for our platform. They bridged the gap between complex backend logic and beautiful UI perfectly.",image:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=100&h=100&fit=crop"},{name:"James Wilson",role:"Product Lead @ Velocity",content:"Rarely do you find someone who understands both the business goals and the minute technical details. A true asset to any project.",image:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=100&h=100&fit=crop"}];function ad({t:e}){let[t,r]=(0,v.useState)(!1);return(0,m.jsxs)("div",{className:"inline-block min-w-[400px] p-8 bg-surface border border-border/10 rounded-[2rem] relative",children:[(0,m.jsx)(al,{className:"absolute top-6 right-8 text-accent/10",size:40}),(0,m.jsxs)("p",{className:"text-primary text-lg font-medium mb-8 whitespace-normal leading-relaxed italic",children:['"',e.content,'"']}),(0,m.jsxs)("div",{className:"flex items-center gap-4",children:[t?(0,m.jsx)("div",{className:"w-12 h-12 rounded-full bg-accent/10 flex items-center justify-center text-accent font-bold text-sm",children:e.name.split(" ").map(e=>e[0]).join("")}):(0,m.jsx)("img",{src:e.image,alt:e.name,className:"w-12 h-12 rounded-full grayscale hover:grayscale-0 transition-all object-cover",onError:()=>r(!0)}),(0,m.jsxs)("div",{children:[(0,m.jsx)("h4",{className:"text-primary font-bold",children:e.name}),(0,m.jsx)("p",{className:"text-secondary text-xs",children:e.role})]})]})]})}function au(){return(0,m.jsxs)("section",{id:"testimonials",className:"py-32 bg-surface/5 relative overflow-hidden",children:[(0,m.jsxs)("div",{className:"max-w-7xl mx-auto px-6 mb-16",children:[(0,m.jsxs)("h2",{className:"text-4xl md:text-5xl font-display font-bold text-primary tracking-tighter mb-4",children:["Social ",(0,m.jsx)("span",{className:"text-secondary/40",children:"Proof"})]}),(0,m.jsx)("p",{className:"text-secondary max-w-md",children:"Trusted by leaders and creators to deliver high-performance digital solutions."})]}),(0,m.jsx)("div",{className:"flex gap-6 overflow-hidden py-10",children:(0,m.jsx)(y.motion.div,{animate:{x:[0,-1e3]},transition:{duration:30,repeat:1/0,ease:"linear"},className:"flex gap-6 whitespace-nowrap",children:[...ac,...ac].map((e,t)=>(0,m.jsx)(ad,{t:e},t))})})]})}let ah=(0,b.default)("leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);var af=e.i(13704),ap=e.i(3812);function am(){return(0,m.jsx)("section",{className:"py-32 px-6",children:(0,m.jsxs)("div",{className:"max-w-4xl mx-auto p-12 bg-accent/5 border border-accent/10 rounded-[3rem] relative overflow-hidden text-center",children:[(0,m.jsx)("div",{className:"absolute -top-24 -right-24 w-64 h-64 bg-accent/10 rounded-full blur-3xl"}),(0,m.jsx)("div",{className:"absolute -bottom-24 -left-24 w-64 h-64 bg-accent/10 rounded-full blur-3xl"}),(0,m.jsxs)(y.motion.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},className:"relative z-10",children:[(0,m.jsxs)("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-surface border border-border rounded-full text-accent text-xs font-bold uppercase tracking-widest mb-8",children:[(0,m.jsx)(ah,{size:14}),"Digital Garden"]}),(0,m.jsxs)("h2",{className:"text-4xl md:text-6xl font-display font-bold text-primary tracking-tighter mb-6",children:["Stay in the ",(0,m.jsx)("span",{className:"text-accent underline decoration-accent/20 underline-offset-8",children:"Loop"})]}),(0,m.jsx)("p",{className:"text-secondary text-lg max-w-xl mx-auto mb-12",children:"Receive monthly updates on my latest experiments, open-source tools, and deep-dives into creative coding."}),(0,m.jsxs)("form",{className:"max-w-md mx-auto flex flex-col sm:flex-row gap-3",children:[(0,m.jsx)(ap.Input,{placeholder:"your@email.com",className:"bg-background/50 border-border/50 text-center sm:text-left"}),(0,m.jsxs)(af.Button,{className:"shrink-0 px-8 py-4 gap-2",children:["Join ",(0,m.jsx)(nY.Send,{size:18})]})]}),(0,m.jsx)("p",{className:"mt-6 text-xs text-secondary/40 italic",children:"No spam. Just experiments and shared growth."})]})]})})}let av=(0,b.default)("music-2",[["circle",{cx:"8",cy:"18",r:"4",key:"1fc0mg"}],["path",{d:"M12 18V2l7 4",key:"g04rme"}]]);function ag({settings:e,featureEnabled:t}){let[r,n]=(0,v.useState)(!1);if(!1===t||!e?.spotifyTrackId)return null;let a={title:"Dynamic Feed Active",artist:"Connected to Spotify",albumArt:`https://scannables.scdn.co/v1/s/${e.spotifyTrackId}`};return(0,m.jsxs)(y.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"fixed bottom-6 left-6 z-40 hidden lg:flex items-center gap-4 p-3 bg-surface/40 backdrop-blur-xl border border-border/10 rounded-2xl group cursor-pointer hover:border-accent/40 transition-all",children:[(0,m.jsxs)("div",{className:"relative",children:[r?(0,m.jsx)("div",{className:"w-12 h-12 rounded-xl bg-accent/10 flex items-center justify-center text-accent",children:(0,m.jsx)(av,{size:24})}):(0,m.jsx)("img",{src:a.albumArt,alt:a.title,className:"w-12 h-12 rounded-xl object-cover",onError:()=>n(!0)}),(0,m.jsxs)("div",{className:"absolute -bottom-1 -right-1 flex gap-[2px] items-end h-3 bg-accent p-1 rounded-sm",children:[(0,m.jsx)(y.motion.div,{animate:{height:[2,8,4]},transition:{repeat:1/0,duration:.5},className:"w-[2px] bg-white"}),(0,m.jsx)(y.motion.div,{animate:{height:[4,2,8]},transition:{repeat:1/0,duration:.6},className:"w-[2px] bg-white"}),(0,m.jsx)(y.motion.div,{animate:{height:[8,4,2]},transition:{repeat:1/0,duration:.4},className:"w-[2px] bg-white"})]})]}),(0,m.jsxs)("div",{className:"max-w-[150px] overflow-hidden",children:[(0,m.jsxs)("div",{className:"flex items-center gap-1.5 mb-0.5",children:[(0,m.jsx)(av,{size:12,className:"text-accent animate-pulse"}),(0,m.jsx)("span",{className:"text-[10px] font-bold text-accent uppercase tracking-widest",children:"Listening Now"})]}),(0,m.jsx)("h4",{className:"text-primary text-xs font-bold truncate group-hover:text-accent transition-colors",children:a.title}),(0,m.jsx)("p",{className:"text-secondary text-[10px] truncate",children:a.artist})]})]})}function ax({settings:e,featureEnabled:t}){return!1!==t&&e?.githubUsername?(0,m.jsx)("section",{className:"py-20 bg-surface/5",children:(0,m.jsx)("div",{className:"max-w-7xl mx-auto px-6",children:(0,m.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-between gap-12 p-8 bg-surface/30 backdrop-blur-sm border border-border/10 rounded-[2.5rem]",children:[(0,m.jsxs)("div",{className:"flex-1",children:[(0,m.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,m.jsx)("div",{className:"p-2 bg-primary/10 rounded-lg text-primary",children:(0,m.jsx)(n$.Github,{size:20})}),(0,m.jsx)("span",{className:"text-secondary font-mono text-xs uppercase tracking-widest font-bold",children:"Contribution Pulse"})]}),(0,m.jsxs)("h3",{className:"text-3xl font-display font-bold text-primary mb-4 tracking-tighter",children:["Building in ",(0,m.jsx)("span",{className:"text-accent",children:"Public"})]}),(0,m.jsx)("p",{className:"text-secondary text-sm max-w-sm leading-relaxed",children:"A live visualization of my open-source activity and commit consistency across the GitHub ecosystem."})]}),(0,m.jsx)("div",{className:"flex-1 flex items-end gap-1 h-32 w-full max-w-md",children:[4,8,6,12,18,14,22,16,10,24,12,18,14,20,26,18,12,8,14,10].map((e,t)=>(0,m.jsx)(y.motion.div,{initial:{height:0},whileInView:{height:`${3*e}%`},viewport:{once:!0},transition:{delay:.05*t,duration:1,ease:"easeOut"},className:`flex-1 rounded-full ${t>15?"bg-accent/40":"bg-accent"} opacity-80`},t))})]})})}):null}let ay=(0,b.default)("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]),ab=(0,b.default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);var aw=e.i(48256);let aS=(0,b.default)("graduation-cap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]),ak=(0,b.default)("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);function aj({experience:e,settings:t}){return(0,m.jsx)("section",{id:"resume",className:"py-32 px-6 bg-surface/5 print:bg-white print:p-0",children:(0,m.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,m.jsxs)("header",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6 mb-12 print:mb-8",children:[(0,m.jsxs)("div",{children:[(0,m.jsxs)("h2",{className:"text-4xl md:text-5xl font-display font-bold text-primary tracking-tighter mb-4 print:text-3xl",children:["Professional ",(0,m.jsx)("span",{className:"text-secondary/40 italic",children:"Resume"})]}),(0,m.jsx)("p",{className:"text-secondary max-w-md print:hidden",children:"A comprehensive overview of my technical journey and professional achievements."})]}),(0,m.jsxs)("div",{className:"flex gap-3 print:hidden",children:[(0,m.jsxs)(af.Button,{variant:"secondary",onClick:()=>{window.print()},className:"gap-2",children:[(0,m.jsx)(ay,{size:18})," Print"]}),t?.contact?.resume&&(0,m.jsx)("a",{href:t.contact.resume,download:!0,className:"contents",children:(0,m.jsxs)(af.Button,{className:"gap-2",children:[(0,m.jsx)(S,{size:18})," PDF"]})})]})]}),(0,m.jsxs)(aa.Card,{className:"p-8 md:p-12 border-border/10 bg-surface/20 print:border-none print:shadow-none print:bg-transparent print:p-0",children:[(0,m.jsx)("div",{className:"border-b border-border/10 pb-10 mb-10 flex flex-col md:flex-row justify-between gap-8",children:(0,m.jsxs)("div",{children:[(0,m.jsx)("h1",{className:"text-3xl font-display font-bold text-primary mb-2 print:text-2xl",children:t?.hero?.title?.split("\n")[0]||"Your Name"}),(0,m.jsx)("p",{className:"text-accent font-medium mb-6 print:text-sm",children:"Full Stack Developer & Creative Technologist"}),(0,m.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm text-secondary",children:[(0,m.jsxs)("span",{className:"flex items-center gap-2",children:[(0,m.jsx)(nz.Mail,{size:14,className:"text-accent"})," ",t?.contact?.email||"hello@example.com"]}),(0,m.jsxs)("span",{className:"flex items-center gap-2",children:[(0,m.jsx)(ab,{size:14,className:"text-accent"})," San Francisco, CA"]}),(0,m.jsxs)("span",{className:"flex items-center gap-2",children:[(0,m.jsx)(aw.Globe,{size:14,className:"text-accent"})," ",t?.contact?.website||"www.your-portfolio.com"]})]})]})}),(0,m.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-12",children:[(0,m.jsxs)("div",{className:"md:col-span-2 space-y-10",children:[(0,m.jsxs)("section",{children:[(0,m.jsxs)("h3",{className:"flex items-center gap-2 text-lg font-bold text-primary mb-6 uppercase tracking-widest text-[11px] print:text-sm",children:[(0,m.jsx)(_,{size:16,className:"text-accent"})," Experience"]}),(0,m.jsx)("div",{className:"space-y-8",children:e.map((e,t)=>(0,m.jsxs)("div",{className:"relative pl-6 border-l border-border/10",children:[(0,m.jsx)("div",{className:"absolute -left-[4.5px] top-1.5 w-2 h-2 rounded-full bg-accent"}),(0,m.jsxs)("div",{className:"flex justify-between items-start mb-1",children:[(0,m.jsx)("h4",{className:"font-bold text-primary",children:e.role}),(0,m.jsxs)("span",{className:"text-[10px] text-secondary font-mono",children:[e.startDate," - ",e.endDate||"Present"]})]}),(0,m.jsx)("p",{className:"text-accent text-xs mb-3",children:e.company}),(0,m.jsx)("p",{className:"text-secondary text-sm leading-relaxed",children:e.description})]},t))})]}),(0,m.jsxs)("section",{children:[(0,m.jsxs)("h3",{className:"flex items-center gap-2 text-lg font-bold text-primary mb-6 uppercase tracking-widest text-[11px] print:text-sm",children:[(0,m.jsx)(aS,{size:16,className:"text-accent"})," Education"]}),(0,m.jsx)("div",{className:"space-y-6",children:(0,m.jsxs)("div",{className:"relative pl-6 border-l border-border/10",children:[(0,m.jsx)("div",{className:"absolute -left-[4.5px] top-1.5 w-2 h-2 rounded-full bg-border"}),(0,m.jsx)("h4",{className:"font-bold text-primary",children:"Computer Science, B.S."}),(0,m.jsx)("p",{className:"text-secondary text-xs",children:"University of Technology  2020"})]})})]})]}),(0,m.jsxs)("div",{className:"space-y-10",children:[(0,m.jsxs)("section",{children:[(0,m.jsxs)("h3",{className:"flex items-center gap-2 text-lg font-bold text-primary mb-6 uppercase tracking-widest text-[11px] print:text-sm",children:[(0,m.jsx)(nG.FileText,{size:16,className:"text-accent"})," Skills"]}),(0,m.jsx)("div",{className:"flex flex-wrap gap-2",children:["React","Nex.tjs","TypeScript","Node.js","Three.js","MongoDB","Tailwind","Framer Motion","CI/CD"].map(e=>(0,m.jsx)(ai.Badge,{variant:"secondary",className:"bg-surface border-border/10 text-[10px]",children:e},e))})]}),(0,m.jsxs)("section",{children:[(0,m.jsxs)("h3",{className:"flex items-center gap-2 text-lg font-bold text-primary mb-6 uppercase tracking-widest text-[11px] print:text-sm",children:[(0,m.jsx)(ak,{size:16,className:"text-accent"})," Certifications"]}),(0,m.jsxs)("div",{className:"space-y-4",children:[(0,m.jsxs)("div",{className:"p-3 bg-surface border border-border/50 rounded-xl",children:[(0,m.jsx)("p",{className:"text-[11px] font-bold text-primary",children:"AWS Certified Cloud Practitioner"}),(0,m.jsx)("p",{className:"text-[10px] text-secondary",children:"Amazon Web Services  2023"})]}),(0,m.jsxs)("div",{className:"p-3 bg-surface border border-border/50 rounded-xl",children:[(0,m.jsx)("p",{className:"text-[11px] font-bold text-primary",children:"Meta Frontend Engineer"}),(0,m.jsx)("p",{className:"text-[10px] text-secondary",children:"Coursera  2022"})]})]})]})]})]})]})]})})}let aE=(0,b.default)("terminal",[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]]);function a_({isOpen:e,onClose:t,projects:r,experience:n}){let[a,i]=(0,v.useState)(""),{history:o,processCommand:s}=function(e=[],t=[]){let[r,n]=(0,v.useState)([{type:"output",content:"Welcome to MRS-OS v1.0.0"},{type:"output",content:'Type "help" for a list of available commands.'}]);return{history:r,processCommand:(0,v.useCallback)(r=>{let a=r.trim().toLowerCase();switch(n(e=>[...e,{type:"input",content:r}]),a){case"help":n(e=>[...e,{type:"output",content:"Available commands: whoami, projects, experience, clear, exit, help"}]);break;case"whoami":n(e=>[...e,{type:"output",content:"A Full Stack Developer & Creative Technologist focused on building high-end digital experiences."}]);break;case"projects":0===e.length?n(e=>[...e,{type:"output",content:"No projects found."}]):e.forEach(e=>{n(t=>[...t,{type:"output",content:`> ${e.title} - ${e.description.substring(0,50)}...`}])});break;case"experience":0===t.length?n(e=>[...e,{type:"output",content:"No experience data found."}]):t.forEach(e=>{n(t=>[...t,{type:"output",content:`> ${e.role} @ ${e.company} (${e.startDate} - ${e.endDate||"Present"})`}])});break;case"clear":n([]);break;default:""!==a&&n(e=>[...e,{type:"error",content:`Command not found: ${a}`}])}},[e,t])}}(r,n),l=(0,v.useRef)(null),c=(0,v.useRef)(null);return((0,v.useEffect)(()=>{l.current&&(l.current.scrollTop=l.current.scrollHeight)},[o]),(0,v.useEffect)(()=>{e&&c.current&&c.current.focus()},[e]),e)?(0,m.jsxs)(y.motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 md:p-10 pointer-events-none",children:[(0,m.jsxs)("div",{className:"w-full max-w-4xl h-[600px] bg-[#0c0c0c] border border-white/10 rounded-xl overflow-hidden shadow-2xl pointer-events-auto flex flex-col font-mono relative",children:[(0,m.jsx)("div",{className:"absolute inset-0 pointer-events-none bg-[linear-gradient(rgba(18,16,16,0)_50%,rgba(0,0,0,0.25)_50%),linear-gradient(90deg,rgba(255,0,0,0.06),rgba(0,255,0,0.02),rgba(0,0,255,0.06))] bg-[length:100%_2px,3px_100%] z-20 opacity-20"}),(0,m.jsxs)("div",{className:"flex items-center justify-between px-4 py-2 bg-[#1a1a1a] border-b border-white/5 relative z-30",children:[(0,m.jsxs)("div",{className:"flex items-center gap-2",children:[(0,m.jsx)(aE,{size:14,className:"text-accent"}),(0,m.jsx)("span",{className:"text-[10px] uppercase tracking-widest text-[#888] font-bold",children:"Terminal Mode"})]}),(0,m.jsx)("div",{className:"flex items-center gap-2",children:(0,m.jsx)("button",{onClick:t,className:"p-1 hover:bg-white/5 rounded-md text-[#555] hover:text-white transition-colors",children:(0,m.jsx)(nH.X,{size:14})})})]}),(0,m.jsxs)("div",{ref:l,className:"flex-grow overflow-y-auto p-6 space-y-2 relative z-10 scrollbar-hide bg-[url('https://grainy-gradients.vercel.app/noise.svg')] bg-repeat",children:[o.map((e,t)=>(0,m.jsxs)("div",{className:`text-sm ${"input"===e.type?"text-primary":"error"===e.type?"text-red-400":"text-accent/80"}`,children:["input"===e.type&&(0,m.jsx)("span",{className:"text-accent mr-3",children:""}),e.content]},t)),(0,m.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),"exit"===a.trim().toLowerCase()){t(),i("");return}s(a),i("")},className:"flex items-center gap-3",children:[(0,m.jsx)("span",{className:"text-accent text-sm",children:""}),(0,m.jsx)("input",{ref:c,value:a,onChange:e=>i(e.target.value),className:"bg-transparent border-none outline-none text-primary text-sm w-full p-0 focus:ring-0",autoFocus:!0})]})]}),(0,m.jsxs)("div",{className:"px-6 py-3 bg-[#111] border-t border-white/5 text-[10px] text-[#444] flex justify-between relative z-30",children:[(0,m.jsx)("span",{children:"STATUS: ONLINE"}),(0,m.jsx)("span",{children:'TYPE "EXIT" TO RETURN TO GUI'})]})]}),(0,m.jsx)("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm -z-10",onClick:t})]}):null}function aT({projects:e,settings:t,experience:r}){let[n,a]=(0,v.useState)(!0),[i,o]=(0,v.useState)(!1);return(0,v.useEffect)(()=>{let e=e=>{"`"===e.key&&(e.preventDefault(),o(e=>!e))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(g.AnimatePresence,{mode:"wait",children:n&&(0,m.jsx)(tm,{onComplete:()=>a(!1)})}),!n&&(0,m.jsxs)("div",{className:"bg-background min-h-screen text-secondary font-sans selection:bg-accent selection:text-white",children:[(0,m.jsx)(nQ,{}),(0,m.jsx)(nq,{}),(0,m.jsx)(ag,{settings:t?.contact,featureEnabled:t?.features?.spotifyTracker}),(0,m.jsx)(a_,{isOpen:i,onClose:()=>o(!1),projects:e,experience:r||[]}),(!t||t.features?.aiChat!==!1)&&(0,m.jsx)(nK,{}),(0,m.jsx)(x.default,{settings:t}),(0,m.jsxs)(tv,{children:[(!t||t.visibility?.hero!==!1)&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(E,{settings:t?.hero}),(!t||t.features?.threeDHero!==!1)&&(0,m.jsx)(n1,{})]}),(!t||t.visibility?.projects!==!1)&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(tf,{projects:e,showViewCounter:t?.features?.viewCounter!==!1}),(0,m.jsx)(as,{}),(0,m.jsx)(ax,{settings:t?.contact,featureEnabled:t?.features?.githubPulse})]}),(!t||t.visibility?.experience!==!1)&&(0,m.jsx)(n3,{experience:r||[]}),(0,m.jsx)(n9,{}),(!t||t.visibility?.about!==!1)&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(ta,{settings:t?.about}),(0,m.jsx)(au,{})]}),(0,m.jsx)(am,{}),(0,m.jsx)(aj,{experience:r||[],settings:t}),(!t||t.visibility?.contact!==!1)&&(0,m.jsx)(tp.default,{settings:t?.contact,visibility:t?.visibility,projectCount:e.length})]})]})]})}e.s(["default",()=>aT],909)},8341,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={cancelIdleCallback:function(){return o},requestIdleCallback:function(){return i}};for(var a in n)Object.defineProperty(r,a,{enumerable:!0,get:n[a]});let i="u">typeof self&&self.requestIdleCallback&&self.requestIdleCallback.bind(window)||function(e){let t=Date.now();return self.setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})},1)},o="u">typeof self&&self.cancelIdleCallback&&self.cancelIdleCallback.bind(window)||function(e){return clearTimeout(e)};("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},79520,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={default:function(){return y},handleClientScriptLoad:function(){return v},initScriptLoader:function(){return g}};for(var a in n)Object.defineProperty(r,a,{enumerable:!0,get:n[a]});let i=e.r(55682),o=e.r(90809),s=e.r(43476),l=i._(e.r(74080)),c=o._(e.r(71645)),d=e.r(42732),u=e.r(22737),h=e.r(8341),f=new Map,p=new Set,m=e=>{let{src:t,id:r,onLoad:n=()=>{},onReady:a=null,dangerouslySetInnerHTML:i,children:o="",strategy:s="afterInteractive",onError:c,stylesheets:d}=e,h=r||t;if(h&&p.has(h))return;if(f.has(t)){p.add(h),f.get(t).then(n,c);return}let m=()=>{a&&a(),p.add(h)},v=document.createElement("script"),g=new Promise((e,t)=>{v.addEventListener("load",function(t){e(),n&&n.call(this,t),m()}),v.addEventListener("error",function(e){t(e)})}).catch(function(e){c&&c(e)});i?(v.innerHTML=i.__html||"",m()):o?(v.textContent="string"==typeof o?o:Array.isArray(o)?o.join(""):"",m()):t&&(v.src=t,f.set(t,g)),(0,u.setAttributesFromProps)(v,e),"worker"===s&&v.setAttribute("type","text/partytown"),v.setAttribute("data-nscript",s),d&&(e=>{if(l.default.preinit)return e.forEach(e=>{l.default.preinit(e,{as:"style"})});if("u">typeof window){let t=document.head;e.forEach(e=>{let r=document.createElement("link");r.type="text/css",r.rel="stylesheet",r.href=e,t.appendChild(r)})}})(d),document.body.appendChild(v)};function v(e){let{strategy:t="afterInteractive"}=e;"lazyOnload"===t?window.addEventListener("load",()=>{(0,h.requestIdleCallback)(()=>m(e))}):m(e)}function g(e){e.forEach(v),[...document.querySelectorAll('[data-nscript="beforeInteractive"]'),...document.querySelectorAll('[data-nscript="beforePageRender"]')].forEach(e=>{let t=e.id||e.getAttribute("src");p.add(t)})}function x(e){let{id:t,src:r="",onLoad:n=()=>{},onReady:a=null,strategy:i="afterInteractive",onError:o,stylesheets:u,...f}=e,{updateScripts:v,scripts:g,getIsSsr:x,appDir:y,nonce:b}=(0,c.useContext)(d.HeadManagerContext);b=f.nonce||b;let w=(0,c.useRef)(!1);(0,c.useEffect)(()=>{let e=t||r;w.current||(a&&e&&p.has(e)&&a(),w.current=!0)},[a,t,r]);let S=(0,c.useRef)(!1);if((0,c.useEffect)(()=>{if(!S.current){if("afterInteractive"===i)m(e);else"lazyOnload"===i&&("complete"===document.readyState?(0,h.requestIdleCallback)(()=>m(e)):window.addEventListener("load",()=>{(0,h.requestIdleCallback)(()=>m(e))}));S.current=!0}},[e,i]),("beforeInteractive"===i||"worker"===i)&&(v?(g[i]=(g[i]||[]).concat([{id:t,src:r,onLoad:n,onReady:a,onError:o,...f,nonce:b}]),v(g)):x&&x()?p.add(t||r):x&&!x()&&m({...e,nonce:b})),y){if(u&&u.forEach(e=>{l.default.preinit(e,{as:"style"})}),"beforeInteractive"===i)if(!r)return f.dangerouslySetInnerHTML&&(f.children=f.dangerouslySetInnerHTML.__html,delete f.dangerouslySetInnerHTML),(0,s.jsx)("script",{nonce:b,dangerouslySetInnerHTML:{__html:`(self.__next_s=self.__next_s||[]).push(${JSON.stringify([0,{...f,id:t}])})`}});else return l.default.preload(r,f.integrity?{as:"script",integrity:f.integrity,nonce:b,crossOrigin:f.crossOrigin}:{as:"script",nonce:b,crossOrigin:f.crossOrigin}),(0,s.jsx)("script",{nonce:b,dangerouslySetInnerHTML:{__html:`(self.__next_s=self.__next_s||[]).push(${JSON.stringify([r,{...f,id:t}])})`}});"afterInteractive"===i&&r&&l.default.preload(r,f.integrity?{as:"script",integrity:f.integrity,nonce:b,crossOrigin:f.crossOrigin}:{as:"script",nonce:b,crossOrigin:f.crossOrigin})}return null}Object.defineProperty(x,"__nextScript",{value:!0});let y=x;("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)}]);