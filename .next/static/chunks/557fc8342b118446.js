(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75254,e=>{"use strict";var r=e.i(71645);let t=(...e)=>e.filter((e,r,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim(),s=e=>{let r=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,t)=>t?t.toUpperCase():r.toLowerCase());return r.charAt(0).toUpperCase()+r.slice(1)};var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let a=(0,r.forwardRef)(({color:e="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:i="",children:n,iconNode:c,...d},u)=>(0,r.createElement)("svg",{ref:u,...o,width:s,height:s,stroke:e,strokeWidth:l?24*Number(a)/Number(s):a,className:t("lucide",i),...!n&&!(e=>{for(let r in e)if(r.startsWith("aria-")||"role"===r||"title"===r)return!0;return!1})(d)&&{"aria-hidden":"true"},...d},[...c.map(([e,t])=>(0,r.createElement)(e,t)),...Array.isArray(n)?n:[n]])),l=(e,o)=>{let l=(0,r.forwardRef)(({className:l,...i},n)=>(0,r.createElement)(a,{ref:n,iconNode:o,className:t(`lucide-${s(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,l),...i}));return l.displayName=s(e),l};e.s(["default",()=>l],75254)},92989,(e,r,t)=>{r.exports=e.r(76562)},71689,e=>{"use strict";let r=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>r],71689)},52571,e=>{"use strict";let r=(0,e.i(75254).default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);e.s(["Info",()=>r],52571)},9167,e=>{"use strict";var r=e.i(43476),t=e.i(71645),s=e.i(92989),o=e.i(71689),a=e.i(52571),l=e.i(22016);function i({initialData:e,isEdit:i}){let n=(0,s.useRouter)(),[c,d]=(0,t.useState)(!1),[u,m]=(0,t.useState)({title:e?.title||"",slug:e?.slug||"",description:e?.description||"",coverImage:e?.coverImage||"",tags:e?.tags?.join(", ")||"",content:e?.content||"",published:e?.published||!1}),h=e=>{let{name:r,value:t,type:s}=e.target;"checkbox"===s?m({...u,[r]:e.target.checked}):m({...u,[r]:t})},b=async r=>{r.preventDefault(),d(!0);let t={...u,tags:u.tags.split(",").map(e=>e.trim()).filter(e=>""!==e)};try{let r=i?`/api/posts/${e._id}`:"/api/posts";if(!(await fetch(r,{method:i?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok)throw Error("Failed to save");n.push("/admin/posts"),n.refresh()}catch(e){console.error(e),alert("Something went wrong")}finally{d(!1)}};return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsxs)(l.default,{href:"/admin/posts",className:"flex items-center text-sm text-secondary hover:text-primary transition-colors",children:[(0,r.jsx)(o.ArrowLeft,{size:16,className:"mr-2"})," Back to Posts"]})}),(0,r.jsx)("h1",{className:"text-3xl font-display text-primary mb-8",children:i?"Edit Post":"New Post"}),(0,r.jsxs)("form",{onSubmit:b,className:"space-y-6 max-w-4xl",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-secondary mb-1",children:"Title"}),(0,r.jsx)("input",{name:"title",value:u.title,onChange:h,onBlur:()=>{if(!u.slug&&u.title){let e=u.title.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)+/g,"");m(r=>({...r,slug:e}))}},className:"w-full bg-surfaceHighlight border border-border rounded p-2 text-primary focus:outline-none focus:border-accent",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-secondary mb-1",children:"Slug (URL)"}),(0,r.jsx)("input",{name:"slug",value:u.slug,onChange:h,className:"w-full bg-surfaceHighlight border border-border rounded p-2 text-primary focus:outline-none focus:border-accent",required:!0})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-secondary mb-1",children:"Short Description"}),(0,r.jsx)("textarea",{name:"description",value:u.description,onChange:h,className:"w-full bg-surfaceHighlight border border-border rounded p-2 text-primary focus:outline-none focus:border-accent",rows:3,required:!0})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-secondary mb-1",children:"Cover Image URL"}),(0,r.jsx)("input",{name:"coverImage",value:u.coverImage,onChange:h,className:"w-full bg-surfaceHighlight border border-border rounded p-2 text-primary focus:outline-none focus:border-accent"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-secondary mb-1",children:"Tags (comma separated)"}),(0,r.jsx)("input",{name:"tags",value:u.tags,onChange:h,className:"w-full bg-surfaceHighlight border border-border rounded p-2 text-primary focus:outline-none focus:border-accent",placeholder:"Tech, Lifestyle, Tutorial"})]})]}),(0,r.jsxs)("div",{className:"pt-4 border-t border-border",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,r.jsx)("h3",{className:"text-lg font-bold text-white",children:"Content"}),(0,r.jsxs)("div",{className:"group relative",children:[(0,r.jsx)(a.Info,{size:16,className:"text-secondary cursor-help"}),(0,r.jsx)("div",{className:"absolute left-6 top-0 w-64 bg-black border border-border p-2 rounded text-xs text-secondary hidden group-hover:block z-50",children:"Write your post using Markdown."})]})]}),(0,r.jsx)("textarea",{name:"content",value:u.content,onChange:h,className:"w-full bg-surfaceHighlight border border-border rounded p-2 text-primary focus:outline-none focus:border-accent font-mono text-sm",rows:20,placeholder:"# Hello World...",required:!0})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between pt-6 border-t border-border",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",name:"published",id:"published",checked:u.published,onChange:h,className:"mr-2 w-4 h-4 accent-accent"}),(0,r.jsx)("label",{htmlFor:"published",className:"text-sm font-medium text-secondary select-none cursor-pointer",children:"Published"})]}),(0,r.jsx)("button",{type:"submit",disabled:c,className:"px-8 py-3 bg-white text-black font-semibold rounded hover:bg-gray-200 transition-colors disabled:opacity-50",children:c?"Saving...":"Save Post"})]})]})]})}e.s(["default",()=>i])}]);