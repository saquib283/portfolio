{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mdreh/Downloads/self-site/src/components/ThreeScene.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useRef, useState, useMemo } from 'react';\r\nimport { Canvas, useFrame } from '@react-three/fiber';\r\nimport { Float, RandomizedLight, Stars } from '@react-three/drei';\r\nimport * as THREE from 'three';\r\nimport { useTheme } from '@/contexts/ThemeContext';\r\n\r\nfunction AbstractShape({ position, color }: { position: [number, number, number], color: string }) {\r\n    const meshRef = useRef<THREE.Mesh>(null!);\r\n    const [hovered, setHover] = useState(false);\r\n\r\n    useFrame((state, delta) => {\r\n        meshRef.current.rotation.x += delta * 0.2;\r\n        meshRef.current.rotation.y += delta * 0.2;\r\n    });\r\n\r\n    return (\r\n        <Float speed={2} rotationIntensity={1} floatIntensity={1}>\r\n            <mesh\r\n                ref={meshRef}\r\n                position={position}\r\n                onPointerOver={() => setHover(true)}\r\n                onPointerOut={() => setHover(false)}\r\n                scale={hovered ? 1.2 : 1}\r\n            >\r\n                <icosahedronGeometry args={[1, 0]} />\r\n                <meshStandardMaterial\r\n                    color={hovered ? \"#ff3333\" : color}\r\n                    metalness={0.8}\r\n                    roughness={0.1}\r\n                    wireframe={true}\r\n                    transparent\r\n                    opacity={0.6}\r\n                />\r\n            </mesh>\r\n        </Float>\r\n    );\r\n}\r\n\r\nfunction Particles({ color }: { color: string }) {\r\n    const ref = useRef<THREE.Points>(null!);\r\n\r\n    const { positions, count } = useMemo(() => {\r\n        const count = 1500;\r\n        const positions = new Float32Array(count * 3);\r\n        for (let i = 0; i < count; i++) {\r\n            positions[i * 3] = (Math.random() - 0.5) * 15;\r\n            positions[i * 3 + 1] = (Math.random() - 0.5) * 15;\r\n            positions[i * 3 + 2] = (Math.random() - 0.5) * 15;\r\n        }\r\n        return { positions, count };\r\n    }, []);\r\n\r\n    useFrame((state, delta) => {\r\n        ref.current.rotation.x -= delta / 20;\r\n        ref.current.rotation.y -= delta / 30;\r\n    });\r\n\r\n    return (\r\n        <points ref={ref}>\r\n            <bufferGeometry>\r\n                <bufferAttribute\r\n                    attach=\"attributes-position\"\r\n                    count={count}\r\n                    array={positions}\r\n                    itemSize={3}\r\n                    args={[positions, 3]}\r\n                />\r\n            </bufferGeometry>\r\n            <pointsMaterial size={0.03} color={color} sizeAttenuation transparent opacity={0.3} />\r\n        </points>\r\n    );\r\n}\r\n\r\nexport default function Scene() {\r\n    const { theme } = useTheme();\r\n    const isDark = theme === 'dark';\r\n\r\n    // Theme-based colors\r\n    const shapeColor = isDark ? \"#ffffff\" : \"#1a1a1a\";\r\n    const particleColor = isDark ? \"#ffffff\" : \"#666666\";\r\n    const accentColor = \"#ff3333\";\r\n\r\n    return (\r\n        <div className=\"absolute -inset-y-20 inset-x-0 z-20 pointer-events-none opacity-60\">\r\n            <Canvas camera={{ position: [0, 0, 5], fov: 60 }}>\r\n                <ambientLight intensity={isDark ? 0.4 : 0.8} />\r\n                <pointLight position={[10, 10, 10]} intensity={1.5} color={accentColor} />\r\n                <pointLight position={[-10, -10, -10]} intensity={1} color={isDark ? \"#3333ff\" : \"#0066ff\"} />\r\n\r\n                <Stars\r\n                    radius={100}\r\n                    depth={50}\r\n                    count={isDark ? 5000 : 1000}\r\n                    factor={4}\r\n                    saturation={0}\r\n                    fade\r\n                    speed={1}\r\n                />\r\n\r\n                <Particles color={particleColor} />\r\n\r\n                {/* Floating Shapes positioned to frame the center content without fully obscuring it */}\r\n                <AbstractShape position={[2.5, 1.2, -1]} color={shapeColor} />\r\n                <AbstractShape position={[-2.8, -1.2, -2]} color={shapeColor} />\r\n                <AbstractShape position={[0.8, -1.5, 1]} color={shapeColor} />\r\n\r\n                <RandomizedLight\r\n                    amount={8}\r\n                    radius={10}\r\n                    ambient={0.5}\r\n                    intensity={1}\r\n                    position={[5, 5, -10]}\r\n                    bias={0.001}\r\n                />\r\n            </Canvas>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 313, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mdreh/Downloads/self-site/node_modules/%40react-three/drei/core/Float.js"],"sourcesContent":["import * as React from 'react';\nimport { useFrame } from '@react-three/fiber';\nimport * as THREE from 'three';\n\nconst Float = /* @__PURE__ */React.forwardRef(({\n  children,\n  enabled = true,\n  speed = 1,\n  rotationIntensity = 1,\n  floatIntensity = 1,\n  floatingRange = [-0.1, 0.1],\n  autoInvalidate = false,\n  ...props\n}, forwardRef) => {\n  const ref = React.useRef(null);\n  React.useImperativeHandle(forwardRef, () => ref.current, []);\n  const offset = React.useRef(Math.random() * 10000);\n  useFrame(state => {\n    var _floatingRange$, _floatingRange$2;\n    if (!enabled || speed === 0) return;\n    if (autoInvalidate) state.invalidate();\n    const t = offset.current + state.clock.elapsedTime;\n    ref.current.rotation.x = Math.cos(t / 4 * speed) / 8 * rotationIntensity;\n    ref.current.rotation.y = Math.sin(t / 4 * speed) / 8 * rotationIntensity;\n    ref.current.rotation.z = Math.sin(t / 4 * speed) / 20 * rotationIntensity;\n    let yPosition = Math.sin(t / 4 * speed) / 10;\n    yPosition = THREE.MathUtils.mapLinear(yPosition, -0.1, 0.1, (_floatingRange$ = floatingRange == null ? void 0 : floatingRange[0]) !== null && _floatingRange$ !== void 0 ? _floatingRange$ : -0.1, (_floatingRange$2 = floatingRange == null ? void 0 : floatingRange[1]) !== null && _floatingRange$2 !== void 0 ? _floatingRange$2 : 0.1);\n    ref.current.position.y = yPosition * floatIntensity;\n    ref.current.updateMatrix();\n  });\n  return /*#__PURE__*/React.createElement(\"group\", props, /*#__PURE__*/React.createElement(\"group\", {\n    ref: ref,\n    matrixAutoUpdate: false\n  }, children));\n});\n\nexport { Float };\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;AAEA,MAAM,QAAQ,aAAa,GAAE,2KAAgB,CAAC,CAAC,EAC7C,QAAQ,EACR,UAAU,IAAI,EACd,QAAQ,CAAC,EACT,oBAAoB,CAAC,EACrB,iBAAiB,CAAC,EAClB,gBAAgB;IAAC,CAAC;IAAK;CAAI,EAC3B,iBAAiB,KAAK,EACtB,GAAG,OACJ,EAAE;IACD,MAAM,MAAM,uKAAY,CAAC;IACzB,oLAAyB,CAAC;qCAAY,IAAM,IAAI,OAAO;oCAAE,EAAE;IAC3D,MAAM,SAAS,uKAAY,CAAC,KAAK,MAAM,KAAK;IAC5C,IAAA,8NAAQ;0BAAC,CAAA;YACP,IAAI,iBAAiB;YACrB,IAAI,CAAC,WAAW,UAAU,GAAG;YAC7B,IAAI,gBAAgB,MAAM,UAAU;YACpC,MAAM,IAAI,OAAO,OAAO,GAAG,MAAM,KAAK,CAAC,WAAW;YAClD,IAAI,OAAO,CAAC,QAAQ,CAAC,CAAC,GAAG,KAAK,GAAG,CAAC,IAAI,IAAI,SAAS,IAAI;YACvD,IAAI,OAAO,CAAC,QAAQ,CAAC,CAAC,GAAG,KAAK,GAAG,CAAC,IAAI,IAAI,SAAS,IAAI;YACvD,IAAI,OAAO,CAAC,QAAQ,CAAC,CAAC,GAAG,KAAK,GAAG,CAAC,IAAI,IAAI,SAAS,KAAK;YACxD,IAAI,YAAY,KAAK,GAAG,CAAC,IAAI,IAAI,SAAS;YAC1C,YAAY,+JAAe,CAAC,SAAS,CAAC,WAAW,CAAC,KAAK,KAAK,CAAC,kBAAkB,iBAAiB,OAAO,KAAK,IAAI,aAAa,CAAC,EAAE,MAAM,QAAQ,oBAAoB,KAAK,IAAI,kBAAkB,CAAC,KAAK,CAAC,mBAAmB,iBAAiB,OAAO,KAAK,IAAI,aAAa,CAAC,EAAE,MAAM,QAAQ,qBAAqB,KAAK,IAAI,mBAAmB;YACvU,IAAI,OAAO,CAAC,QAAQ,CAAC,CAAC,GAAG,YAAY;YACrC,IAAI,OAAO,CAAC,YAAY;QAC1B;;IACA,OAAO,WAAW,GAAE,8KAAmB,CAAC,SAAS,OAAO,WAAW,GAAE,8KAAmB,CAAC,SAAS;QAChG,KAAK;QACL,kBAAkB;IACpB,GAAG;AACL","ignoreList":[0]}},
    {"offset": {"line": 366, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mdreh/Downloads/self-site/node_modules/%40react-three/drei/core/shaderMaterial.js"],"sourcesContent":["import * as THREE from 'three';\n\nfunction shaderMaterial(uniforms, vertexShader, fragmentShader, onInit) {\n  var _Class;\n  return _Class = class extends THREE.ShaderMaterial {\n    constructor(parameters) {\n      super({\n        vertexShader,\n        fragmentShader,\n        ...parameters\n      });\n      for (const key in uniforms) {\n        this.uniforms[key] = new THREE.Uniform(uniforms[key]);\n        Object.defineProperty(this, key, {\n          get() {\n            return this.uniforms[key].value;\n          },\n          set(value) {\n            this.uniforms[key].value = value;\n          }\n        });\n      }\n      this.uniforms = THREE.UniformsUtils.clone(this.uniforms);\n      onInit == null || onInit(this);\n    }\n  }, _Class.key = THREE.MathUtils.generateUUID(), _Class;\n}\n\nexport { shaderMaterial };\n"],"names":[],"mappings":";;;;AAAA;;AAEA,SAAS,eAAe,QAAQ,EAAE,YAAY,EAAE,cAAc,EAAE,MAAM;IACpE,IAAI;IACJ,OAAO,SAAS,cAAc,oKAAoB;QAChD,YAAY,UAAU,CAAE;YACtB,KAAK,CAAC;gBACJ;gBACA;gBACA,GAAG,UAAU;YACf;YACA,IAAK,MAAM,OAAO,SAAU;gBAC1B,IAAI,CAAC,QAAQ,CAAC,IAAI,GAAG,IAAI,6JAAa,CAAC,QAAQ,CAAC,IAAI;gBACpD,OAAO,cAAc,CAAC,IAAI,EAAE,KAAK;oBAC/B;wBACE,OAAO,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK;oBACjC;oBACA,KAAI,KAAK;wBACP,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,GAAG;oBAC7B;gBACF;YACF;YACA,IAAI,CAAC,QAAQ,GAAG,mKAAmB,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ;YACvD,UAAU,QAAQ,OAAO,IAAI;QAC/B;IACF,GAAG,OAAO,GAAG,GAAG,+JAAe,CAAC,YAAY,IAAI;AAClD","ignoreList":[0]}},
    {"offset": {"line": 402, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mdreh/Downloads/self-site/node_modules/%40react-three/drei/materials/DiscardMaterial.js"],"sourcesContent":["import { shaderMaterial } from '../core/shaderMaterial.js';\n\nconst DiscardMaterial = /* @__PURE__ */shaderMaterial({}, 'void main() { }', 'void main() { gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0); discard;  }');\n\nexport { DiscardMaterial };\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,kBAAkB,aAAa,GAAE,IAAA,uLAAc,EAAC,CAAC,GAAG,mBAAmB","ignoreList":[0]}},
    {"offset": {"line": 414, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mdreh/Downloads/self-site/node_modules/%40react-three/drei/helpers/constants.js"],"sourcesContent":["import { REVISION } from 'three';\n\nconst getVersion = () => parseInt(REVISION.replace(/\\D+/g, ''));\nconst version = /* @__PURE__ */getVersion();\n\nexport { version };\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,aAAa,IAAM,SAAS,8JAAQ,CAAC,OAAO,CAAC,QAAQ;AAC3D,MAAM,UAAU,aAAa,GAAE","ignoreList":[0]}},
    {"offset": {"line": 427, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mdreh/Downloads/self-site/node_modules/%40react-three/drei/core/AccumulativeShadows.js"],"sourcesContent":["import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as THREE from 'three';\nimport * as React from 'react';\nimport { extend, useThree, useFrame } from '@react-three/fiber';\nimport { shaderMaterial } from './shaderMaterial.js';\nimport { DiscardMaterial } from '../materials/DiscardMaterial.js';\nimport { version } from '../helpers/constants.js';\n\nfunction isLight(object) {\n  return object.isLight;\n}\nfunction isGeometry(object) {\n  return !!object.geometry;\n}\nconst accumulativeContext = /* @__PURE__ */React.createContext(null);\nconst SoftShadowMaterial = /* @__PURE__ */shaderMaterial({\n  color: /* @__PURE__ */new THREE.Color(),\n  blend: 2.0,\n  alphaTest: 0.75,\n  opacity: 0,\n  map: null\n}, `varying vec2 vUv;\n   void main() {\n     gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.);\n     vUv = uv;\n   }`, `varying vec2 vUv;\n   uniform sampler2D map;\n   uniform vec3 color;\n   uniform float opacity;\n   uniform float alphaTest;\n   uniform float blend;\n   void main() {\n     vec4 sampledDiffuseColor = texture2D(map, vUv);\n     gl_FragColor = vec4(color * sampledDiffuseColor.r * blend, max(0.0, (1.0 - (sampledDiffuseColor.r + sampledDiffuseColor.g + sampledDiffuseColor.b) / alphaTest)) * opacity);\n     #include <tonemapping_fragment>\n     #include <${version >= 154 ? 'colorspace_fragment' : 'encodings_fragment'}>\n   }`);\nconst AccumulativeShadows = /* @__PURE__ */React.forwardRef(({\n  children,\n  temporal,\n  frames = 40,\n  limit = Infinity,\n  blend = 20,\n  scale = 10,\n  opacity = 1,\n  alphaTest = 0.75,\n  color = 'black',\n  colorBlend = 2,\n  resolution = 1024,\n  toneMapped = true,\n  ...props\n}, forwardRef) => {\n  extend({\n    SoftShadowMaterial\n  });\n  const gl = useThree(state => state.gl);\n  const scene = useThree(state => state.scene);\n  const camera = useThree(state => state.camera);\n  const invalidate = useThree(state => state.invalidate);\n  const gPlane = React.useRef(null);\n  const gLights = React.useRef(null);\n  const [plm] = React.useState(() => new ProgressiveLightMap(gl, scene, resolution));\n  React.useLayoutEffect(() => {\n    plm.configure(gPlane.current);\n  }, []);\n  const api = React.useMemo(() => ({\n    lights: new Map(),\n    temporal: !!temporal,\n    frames: Math.max(2, frames),\n    blend: Math.max(2, frames === Infinity ? blend : frames),\n    count: 0,\n    getMesh: () => gPlane.current,\n    reset: () => {\n      // Clear buffers, reset opacities, set frame count to 0\n      plm.clear();\n      const material = gPlane.current.material;\n      material.opacity = 0;\n      material.alphaTest = 0;\n      api.count = 0;\n    },\n    update: (frames = 1) => {\n      // Adapt the opacity-blend ratio to the number of frames\n      const material = gPlane.current.material;\n      if (!api.temporal) {\n        material.opacity = opacity;\n        material.alphaTest = alphaTest;\n      } else {\n        material.opacity = Math.min(opacity, material.opacity + opacity / api.blend);\n        material.alphaTest = Math.min(alphaTest, material.alphaTest + alphaTest / api.blend);\n      }\n\n      // Switch accumulative lights on\n      gLights.current.visible = true;\n      // Collect scene lights and meshes\n      plm.prepare();\n\n      // Update the lightmap and the accumulative lights\n      for (let i = 0; i < frames; i++) {\n        api.lights.forEach(light => light.update());\n        plm.update(camera, api.blend);\n      }\n      // Switch lights off\n      gLights.current.visible = false;\n      // Restore lights and meshes\n      plm.finish();\n    }\n  }), [plm, camera, scene, temporal, frames, blend, opacity, alphaTest]);\n  React.useLayoutEffect(() => {\n    // Reset internals, buffers, ...\n    api.reset();\n    // Update lightmap\n    if (!api.temporal && api.frames !== Infinity) api.update(api.blend);\n  });\n\n  // Expose api, allow children to set itself as the main light source\n  React.useImperativeHandle(forwardRef, () => api, [api]);\n  useFrame(() => {\n    if ((api.temporal || api.frames === Infinity) && api.count < api.frames && api.count < limit) {\n      invalidate();\n      api.update();\n      api.count++;\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"group\", props, /*#__PURE__*/React.createElement(\"group\", {\n    traverse: () => null,\n    ref: gLights\n  }, /*#__PURE__*/React.createElement(accumulativeContext.Provider, {\n    value: api\n  }, children)), /*#__PURE__*/React.createElement(\"mesh\", {\n    receiveShadow: true,\n    ref: gPlane,\n    scale: scale,\n    rotation: [-Math.PI / 2, 0, 0]\n  }, /*#__PURE__*/React.createElement(\"planeGeometry\", null), /*#__PURE__*/React.createElement(\"softShadowMaterial\", {\n    transparent: true,\n    depthWrite: false,\n    toneMapped: toneMapped,\n    color: color,\n    blend: colorBlend,\n    map: plm.progressiveLightMap2.texture\n  })));\n});\nconst RandomizedLight = /* @__PURE__ */React.forwardRef(({\n  castShadow = true,\n  bias = 0.001,\n  mapSize = 512,\n  size = 5,\n  near = 0.5,\n  far = 500,\n  frames = 1,\n  position = [0, 0, 0],\n  radius = 1,\n  amount = 8,\n  intensity = version >= 155 ? Math.PI : 1,\n  ambient = 0.5,\n  ...props\n}, forwardRef) => {\n  const gLights = React.useRef(null);\n  const length = new THREE.Vector3(...position).length();\n  const parent = React.useContext(accumulativeContext);\n  const update = React.useCallback(() => {\n    let light;\n    if (gLights.current) {\n      for (let l = 0; l < gLights.current.children.length; l++) {\n        light = gLights.current.children[l];\n        if (Math.random() > ambient) {\n          light.position.set(position[0] + THREE.MathUtils.randFloatSpread(radius), position[1] + THREE.MathUtils.randFloatSpread(radius), position[2] + THREE.MathUtils.randFloatSpread(radius));\n        } else {\n          let lambda = Math.acos(2 * Math.random() - 1) - Math.PI / 2.0;\n          let phi = 2 * Math.PI * Math.random();\n          light.position.set(Math.cos(lambda) * Math.cos(phi) * length, Math.abs(Math.cos(lambda) * Math.sin(phi) * length), Math.sin(lambda) * length);\n        }\n      }\n    }\n  }, [radius, ambient, length, ...position]);\n  const api = React.useMemo(() => ({\n    update\n  }), [update]);\n  React.useImperativeHandle(forwardRef, () => api, [api]);\n  React.useLayoutEffect(() => {\n    var _parent$lights;\n    const group = gLights.current;\n    if (parent) (_parent$lights = parent.lights) == null || _parent$lights.set(group.uuid, api);\n    return () => {\n      var _parent$lights2;\n      return void (parent == null || (_parent$lights2 = parent.lights) == null ? void 0 : _parent$lights2.delete(group.uuid));\n    };\n  }, [parent, api]);\n  return /*#__PURE__*/React.createElement(\"group\", _extends({\n    ref: gLights\n  }, props), Array.from({\n    length: amount\n  }, (_, index) => /*#__PURE__*/React.createElement(\"directionalLight\", {\n    key: index,\n    castShadow: castShadow,\n    \"shadow-bias\": bias,\n    \"shadow-mapSize\": [mapSize, mapSize],\n    intensity: intensity / amount\n  }, /*#__PURE__*/React.createElement(\"orthographicCamera\", {\n    attach: \"shadow-camera\",\n    args: [-size, size, size, -size, near, far]\n  }))));\n});\n\n// Based on \"Progressive Light Map Accumulator\", by [zalo](https://github.com/zalo/)\nclass ProgressiveLightMap {\n  constructor(renderer, scene, res = 1024) {\n    this.renderer = renderer;\n    this.res = res;\n    this.scene = scene;\n    this.buffer1Active = false;\n    this.lights = [];\n    this.meshes = [];\n    this.object = null;\n    this.clearColor = new THREE.Color();\n    this.clearAlpha = 0;\n\n    // Create the Progressive LightMap Texture\n    const textureParams = {\n      type: THREE.HalfFloatType,\n      magFilter: THREE.NearestFilter,\n      minFilter: THREE.NearestFilter\n    };\n    this.progressiveLightMap1 = new THREE.WebGLRenderTarget(this.res, this.res, textureParams);\n    this.progressiveLightMap2 = new THREE.WebGLRenderTarget(this.res, this.res, textureParams);\n\n    // Inject some spicy new logic into a standard phong material\n    this.discardMat = new DiscardMaterial();\n    this.targetMat = new THREE.MeshLambertMaterial({\n      fog: false\n    });\n    this.previousShadowMap = {\n      value: this.progressiveLightMap1.texture\n    };\n    this.averagingWindow = {\n      value: 100\n    };\n    this.targetMat.onBeforeCompile = shader => {\n      // Vertex Shader: Set Vertex Positions to the Unwrapped UV Positions\n      shader.vertexShader = 'varying vec2 vUv;\\n' + shader.vertexShader.slice(0, -1) + 'vUv = uv; gl_Position = vec4((uv - 0.5) * 2.0, 1.0, 1.0); }';\n\n      // Fragment Shader: Set Pixels to average in the Previous frame's Shadows\n      const bodyStart = shader.fragmentShader.indexOf('void main() {');\n      shader.fragmentShader = 'varying vec2 vUv;\\n' + shader.fragmentShader.slice(0, bodyStart) + 'uniform sampler2D previousShadowMap;\\n\tuniform float averagingWindow;\\n' + shader.fragmentShader.slice(bodyStart - 1, -1) + `\\nvec3 texelOld = texture2D(previousShadowMap, vUv).rgb;\n        gl_FragColor.rgb = mix(texelOld, gl_FragColor.rgb, 1.0/ averagingWindow);\n      }`;\n\n      // Set the Previous Frame's Texture Buffer and Averaging Window\n      shader.uniforms.previousShadowMap = this.previousShadowMap;\n      shader.uniforms.averagingWindow = this.averagingWindow;\n    };\n  }\n  clear() {\n    this.renderer.getClearColor(this.clearColor);\n    this.clearAlpha = this.renderer.getClearAlpha();\n    this.renderer.setClearColor('black', 1);\n    this.renderer.setRenderTarget(this.progressiveLightMap1);\n    this.renderer.clear();\n    this.renderer.setRenderTarget(this.progressiveLightMap2);\n    this.renderer.clear();\n    this.renderer.setRenderTarget(null);\n    this.renderer.setClearColor(this.clearColor, this.clearAlpha);\n    this.lights = [];\n    this.meshes = [];\n    this.scene.traverse(object => {\n      if (isGeometry(object)) {\n        this.meshes.push({\n          object,\n          material: object.material\n        });\n      } else if (isLight(object)) {\n        this.lights.push({\n          object,\n          intensity: object.intensity\n        });\n      }\n    });\n  }\n  prepare() {\n    this.lights.forEach(light => light.object.intensity = 0);\n    this.meshes.forEach(mesh => mesh.object.material = this.discardMat);\n  }\n  finish() {\n    this.lights.forEach(light => light.object.intensity = light.intensity);\n    this.meshes.forEach(mesh => mesh.object.material = mesh.material);\n  }\n  configure(object) {\n    this.object = object;\n  }\n  update(camera, blendWindow = 100) {\n    if (!this.object) return;\n    // Set each object's material to the UV Unwrapped Surface Mapping Version\n    this.averagingWindow.value = blendWindow;\n    this.object.material = this.targetMat;\n    // Ping-pong two surface buffers for reading/writing\n    const activeMap = this.buffer1Active ? this.progressiveLightMap1 : this.progressiveLightMap2;\n    const inactiveMap = this.buffer1Active ? this.progressiveLightMap2 : this.progressiveLightMap1;\n    // Render the object's surface maps\n    const oldBg = this.scene.background;\n    this.scene.background = null;\n    this.renderer.setRenderTarget(activeMap);\n    this.previousShadowMap.value = inactiveMap.texture;\n    this.buffer1Active = !this.buffer1Active;\n    this.renderer.render(this.scene, camera);\n    this.renderer.setRenderTarget(null);\n    this.scene.background = oldBg;\n  }\n}\n\nexport { AccumulativeShadows, RandomizedLight, accumulativeContext };\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 799, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mdreh/Downloads/self-site/node_modules/%40react-three/drei/core/Stars.js"],"sourcesContent":["import * as React from 'react';\nimport { useFrame } from '@react-three/fiber';\nimport { Color, AdditiveBlending, ShaderMaterial, Vector3, Spherical } from 'three';\nimport { version } from '../helpers/constants.js';\n\nclass StarfieldMaterial extends ShaderMaterial {\n  constructor() {\n    super({\n      uniforms: {\n        time: {\n          value: 0.0\n        },\n        fade: {\n          value: 1.0\n        }\n      },\n      vertexShader: /* glsl */`\n      uniform float time;\n      attribute float size;\n      varying vec3 vColor;\n      void main() {\n        vColor = color;\n        vec4 mvPosition = modelViewMatrix * vec4(position, 0.5);\n        gl_PointSize = size * (30.0 / -mvPosition.z) * (3.0 + sin(time + 100.0));\n        gl_Position = projectionMatrix * mvPosition;\n      }`,\n      fragmentShader: /* glsl */`\n      uniform sampler2D pointTexture;\n      uniform float fade;\n      varying vec3 vColor;\n      void main() {\n        float opacity = 1.0;\n        if (fade == 1.0) {\n          float d = distance(gl_PointCoord, vec2(0.5, 0.5));\n          opacity = 1.0 / (1.0 + exp(16.0 * (d - 0.25)));\n        }\n        gl_FragColor = vec4(vColor, opacity);\n\n        #include <tonemapping_fragment>\n\t      #include <${version >= 154 ? 'colorspace_fragment' : 'encodings_fragment'}>\n      }`\n    });\n  }\n}\nconst genStar = r => {\n  return new Vector3().setFromSpherical(new Spherical(r, Math.acos(1 - Math.random() * 2), Math.random() * 2 * Math.PI));\n};\nconst Stars = /* @__PURE__ */React.forwardRef(({\n  radius = 100,\n  depth = 50,\n  count = 5000,\n  saturation = 0,\n  factor = 4,\n  fade = false,\n  speed = 1\n}, ref) => {\n  const material = React.useRef(null);\n  const [position, color, size] = React.useMemo(() => {\n    const positions = [];\n    const colors = [];\n    const sizes = Array.from({\n      length: count\n    }, () => (0.5 + 0.5 * Math.random()) * factor);\n    const color = new Color();\n    let r = radius + depth;\n    const increment = depth / count;\n    for (let i = 0; i < count; i++) {\n      r -= increment * Math.random();\n      positions.push(...genStar(r).toArray());\n      color.setHSL(i / count, saturation, 0.9);\n      colors.push(color.r, color.g, color.b);\n    }\n    return [new Float32Array(positions), new Float32Array(colors), new Float32Array(sizes)];\n  }, [count, depth, factor, radius, saturation]);\n  useFrame(state => material.current && (material.current.uniforms.time.value = state.clock.elapsedTime * speed));\n  const [starfieldMaterial] = React.useState(() => new StarfieldMaterial());\n  return /*#__PURE__*/React.createElement(\"points\", {\n    ref: ref\n  }, /*#__PURE__*/React.createElement(\"bufferGeometry\", null, /*#__PURE__*/React.createElement(\"bufferAttribute\", {\n    attach: \"attributes-position\",\n    args: [position, 3]\n  }), /*#__PURE__*/React.createElement(\"bufferAttribute\", {\n    attach: \"attributes-color\",\n    args: [color, 3]\n  }), /*#__PURE__*/React.createElement(\"bufferAttribute\", {\n    attach: \"attributes-size\",\n    args: [size, 1]\n  })), /*#__PURE__*/React.createElement(\"primitive\", {\n    ref: material,\n    object: starfieldMaterial,\n    attach: \"material\",\n    blending: AdditiveBlending,\n    \"uniforms-fade-value\": fade,\n    depthWrite: false,\n    transparent: true,\n    vertexColors: true\n  }));\n});\n\nexport { Stars };\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;;;;;AAEA,MAAM,0BAA0B,oKAAc;IAC5C,aAAc;QACZ,KAAK,CAAC;YACJ,UAAU;gBACR,MAAM;oBACJ,OAAO;gBACT;gBACA,MAAM;oBACJ,OAAO;gBACT;YACF;YACA,cAAc,QAAQ,GAAE,CAAC;;;;;;;;;OASxB,CAAC;YACF,gBAAgB,QAAQ,GAAE,CAAC;;;;;;;;;;;;;iBAahB,EAAE,8KAAO,IAAI,MAAM,wBAAwB,qBAAqB;OAC1E,CAAC;QACJ;IACF;AACF;AACA,MAAM,UAAU,CAAA;IACd,OAAO,IAAI,6JAAO,GAAG,gBAAgB,CAAC,IAAI,+JAAS,CAAC,GAAG,KAAK,IAAI,CAAC,IAAI,KAAK,MAAM,KAAK,IAAI,KAAK,MAAM,KAAK,IAAI,KAAK,EAAE;AACtH;AACA,MAAM,QAAQ,aAAa,GAAE,2KAAgB,CAAC,CAAC,EAC7C,SAAS,GAAG,EACZ,QAAQ,EAAE,EACV,QAAQ,IAAI,EACZ,aAAa,CAAC,EACd,SAAS,CAAC,EACV,OAAO,KAAK,EACZ,QAAQ,CAAC,EACV,EAAE;IACD,MAAM,WAAW,uKAAY,CAAC;IAC9B,MAAM,CAAC,UAAU,OAAO,KAAK,GAAG,wKAAa;yBAAC;YAC5C,MAAM,YAAY,EAAE;YACpB,MAAM,SAAS,EAAE;YACjB,MAAM,QAAQ,MAAM,IAAI,CAAC;gBACvB,QAAQ;YACV;uCAAG,IAAM,CAAC,MAAM,MAAM,KAAK,MAAM,EAAE,IAAI;;YACvC,MAAM,QAAQ,IAAI,2JAAK;YACvB,IAAI,IAAI,SAAS;YACjB,MAAM,YAAY,QAAQ;YAC1B,IAAK,IAAI,IAAI,GAAG,IAAI,OAAO,IAAK;gBAC9B,KAAK,YAAY,KAAK,MAAM;gBAC5B,UAAU,IAAI,IAAI,QAAQ,GAAG,OAAO;gBACpC,MAAM,MAAM,CAAC,IAAI,OAAO,YAAY;gBACpC,OAAO,IAAI,CAAC,MAAM,CAAC,EAAE,MAAM,CAAC,EAAE,MAAM,CAAC;YACvC;YACA,OAAO;gBAAC,IAAI,aAAa;gBAAY,IAAI,aAAa;gBAAS,IAAI,aAAa;aAAO;QACzF;wBAAG;QAAC;QAAO;QAAO;QAAQ;QAAQ;KAAW;IAC7C,IAAA,8NAAQ;0BAAC,CAAA,QAAS,SAAS,OAAO,IAAI,CAAC,SAAS,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,GAAG,MAAM,KAAK,CAAC,WAAW,GAAG,KAAK;;IAC7G,MAAM,CAAC,kBAAkB,GAAG,yKAAc;0BAAC,IAAM,IAAI;;IACrD,OAAO,WAAW,GAAE,8KAAmB,CAAC,UAAU;QAChD,KAAK;IACP,GAAG,WAAW,GAAE,8KAAmB,CAAC,kBAAkB,MAAM,WAAW,GAAE,8KAAmB,CAAC,mBAAmB;QAC9G,QAAQ;QACR,MAAM;YAAC;YAAU;SAAE;IACrB,IAAI,WAAW,GAAE,8KAAmB,CAAC,mBAAmB;QACtD,QAAQ;QACR,MAAM;YAAC;YAAO;SAAE;IAClB,IAAI,WAAW,GAAE,8KAAmB,CAAC,mBAAmB;QACtD,QAAQ;QACR,MAAM;YAAC;YAAM;SAAE;IACjB,KAAK,WAAW,GAAE,8KAAmB,CAAC,aAAa;QACjD,KAAK;QACL,QAAQ;QACR,QAAQ;QACR,UAAU,sKAAgB;QAC1B,uBAAuB;QACvB,YAAY;QACZ,aAAa;QACb,cAAc;IAChB;AACF","ignoreList":[0]}}]
}